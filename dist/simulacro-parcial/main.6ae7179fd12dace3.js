(self.webpackChunksimulacroParcial=self.webpackChunksimulacroParcial||[]).push([[179],{2011:(At,de,$)=>{"use strict";$.d(de,{Dh:()=>ke,GT:()=>Te,cc:()=>Ye,on:()=>He,pX:()=>fe,xv:()=>Se});var l=$(4650),R=$(9260);At=$.hmd(At);const U=["ngOnDestroy"],fe=(ue,Me,me,Ge={})=>new Proxy(ue,{get:(Re,De)=>me.runOutsideAngular(()=>{var Ne;if(ue[De])return!(null===(Ne=Ge?.spy)||void 0===Ne)&&Ne.get&&Ge.spy.get(De,ue[De]),ue[De];if(U.indexOf(De)>-1)return()=>{};const Ke=Me.toPromise().then($e=>{const le=$e&&$e[De];return"function"==typeof le?le.bind($e):le&&le.then?le.then(nt=>me.run(()=>nt)):me.run(()=>le)});return new Proxy(()=>{},{get:($e,le)=>Ke[le],apply:($e,le,nt)=>Ke.then(vt=>{var et;const tn=vt&&vt(...nt);return!(null===(et=Ge?.spy)||void 0===et)&&et.apply&&Ge.spy.apply(De,nt,tn),tn})})})}),Te=(ue,Me)=>{Me.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(Ge=>{Object.defineProperty(ue.prototype,Ge,Object.getOwnPropertyDescriptor(me.prototype||me,Ge))})})};class ve{constructor(Me){return Me}}const ke=new l.OlP("angularfire2.app.options"),Se=new l.OlP("angularfire2.app.name");function He(ue,Me,me){const Re="object"==typeof me&&me||{};Re.name=Re.name||"string"==typeof me&&me||"[DEFAULT]";const Ne=R.Z.apps.filter(Ke=>Ke&&Ke.name===Re.name)[0]||Me.runOutsideAngular(()=>R.Z.initializeApp(ue,Re));try{JSON.stringify(ue)!==JSON.stringify(Ne.options)&&W("error",`${Ne.name} Firebase App already initialized with different options${At.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Ne)}const W=(ue,...Me)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...Me)};function Ye(ue,Me,me,Ge,Re){const[,De,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===ue)||[];if(De)return function Le(ue,Me){try{return ue.toString()===Me.toString()}catch{return ue===Me}}(Re,Ne)||(tt("error",`${Me} was already initialized on the ${me} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:Re,was:Ne})),De;{const Ke=Ge();return globalThis.\u0275AngularfireInstanceCache.push([ue,Ke,Re]),Ke}}const it=!!At.hot,tt=(ue,...Me)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ue](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8502:(At,de,$)=>{"use strict";$.d(de,{$:()=>Vt,A:()=>z,D:()=>Le,I:()=>Vn,J:()=>Ir,L:()=>Xi,N:()=>Ci,P:()=>Zn,Q:()=>eo,R:()=>Uc,U:()=>Ph,V:()=>iu,W:()=>Ya,X:()=>es,Y:()=>Ka,Z:()=>Cc,_:()=>Qa,a:()=>Ai,a0:()=>Lh,a1:()=>rl,a2:()=>Bh,a3:()=>Uh,a4:()=>Ui,a5:()=>Ec,a6:()=>Ac,a7:()=>Fr,a8:()=>Bo,a9:()=>hs,aA:()=>le,aB:()=>vg,aC:()=>Un,aD:()=>di,aE:()=>lf,aF:()=>Go,aG:()=>Cu,aH:()=>_n,aL:()=>Vo,aO:()=>to,aa:()=>al,ab:()=>tg,ac:()=>ng,ad:()=>Sc,ae:()=>Vh,af:()=>$h,ai:()=>Os,aj:()=>rg,ak:()=>Lr,an:()=>Fh,ao:()=>du,aq:()=>St,ar:()=>pu,as:()=>vt,at:()=>xt,au:()=>Ie,av:()=>Re,aw:()=>hf,ax:()=>bg,ay:()=>Jt,az:()=>De,b:()=>Pc,c:()=>Fn,d:()=>$c,e:()=>tf,f:()=>_g,g:()=>af,h:()=>xy,i:()=>Yh,j:()=>Oy,k:()=>Yc,l:()=>Qh,m:()=>Il,o:()=>D1,p:()=>Se,r:()=>y1,s:()=>_l,u:()=>ts});var l=$(5861),R=$(2090),U=$(6881),fe=$(655),Te=$(1877),ve=$(4859);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},it=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new Te.Yd("@firebase/auth");function Ge(b,...p){Me.logLevel<=Te.in.ERROR&&Me.error(`Auth (${U.SDK_VERSION}): ${b}`,...p)}function Re(b,...p){throw $e(b,...p)}function De(b,...p){return $e(b,...p)}function Ne(b,p,_){const w=Object.assign(Object.assign({},it()),{[p]:_});return new R.LL("auth","Firebase",w).create(p,{appName:b.name})}function Ke(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Re(b,"argument-error"),Ne(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(b,...p){if("string"!=typeof b){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return tt.create(b,...p)}function le(b,p,..._){if(!b)throw $e(p,..._)}function nt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Ge(p),new Error(p)}function vt(b,p){b||nt(p)}function et(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function tn(){return"http:"===ht()||"https:"===ht()}function ht(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ee{constructor(p,_){this.shortDelay=p,this.longDelay=_,vt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function ge(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tn()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ae(b,p){vt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Je{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ft=new Ee(3e4,6e4);function ze(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Bt(b,p,_,w){return bt.apply(this,arguments)}function bt(){return(bt=(0,l.Z)(function*(b,p,_,w,M={}){return kt(b,M,(0,l.Z)(function*(){let k={},Q={};w&&("GET"===p?Q=w:k={body:JSON.stringify(w)});const ce=(0,R.xO)(Object.assign({key:b.config.apiKey},Q)).slice(1),qe=yield b._getAdditionalHeaders();return qe["Content-Type"]="application/json",b.languageCode&&(qe["X-Firebase-Locale"]=b.languageCode),Je.fetch()(xn(b,b.config.apiHost,_,ce),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function kt(b,p,_){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(b,p,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},je),p);try{const M=new wr(b),k=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Q=yield k.json();if("needConfirmation"in Q)throw Hn(b,"account-exists-with-different-credential",Q);if(k.ok&&!("errorMessage"in Q))return Q;{const ce=k.ok?Q.errorMessage:Q.error.message,[qe,st]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw Hn(b,"credential-already-in-use",Q);if("EMAIL_EXISTS"===qe)throw Hn(b,"email-already-in-use",Q);if("USER_DISABLED"===qe)throw Hn(b,"user-disabled",Q);const Et=w[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ne(b,Et,st);Re(b,Et)}}catch(M){if(M instanceof R.ZR)throw M;Re(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Zt(b,p,_,w){return fn.apply(this,arguments)}function fn(){return(fn=(0,l.Z)(function*(b,p,_,w,M={}){const k=yield Bt(b,p,_,w,M);return"mfaPendingCredential"in k&&Re(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function xn(b,p,_,w){const M=`${p}${_}?${w}`;return b.config.emulator?Ae(b.config,M):`${b.config.apiScheme}://${M}`}class wr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(De(this.auth,"network-request-failed")),ft.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(b,p,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const M=De(b,p,w);return M.customData._tokenResponse=_,M}function Bn(){return(Bn=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function re(){return(re=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function se(){return(se=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ie(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function sn(){return(sn=(0,l.Z)(function*(b,p=!1){const _=(0,R.m9)(b),w=yield _.getIdToken(p),M=Ht(w);le(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const k="object"==typeof M.firebase?M.firebase:void 0,Q=k?.sign_in_provider;return{claims:M,token:w,authTime:ie(qt(M.auth_time)),issuedAtTime:ie(qt(M.iat)),expirationTime:ie(qt(M.exp)),signInProvider:Q||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function qt(b){return 1e3*Number(b)}function Ht(b){const[p,_,w]=b.split(".");if(void 0===p||void 0===_||void 0===w)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,R.tV)(_);return M?JSON.parse(M):(Ge("Failed to decode base64 JWT payload"),null)}catch(M){return Ge("Caught error parsing JWT payload as JSON",M?.toString()),null}}function zt(b,p){return mt.apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof R.ZR&&function Xe({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class Nn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Cn{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(b){return pn.apply(this,arguments)}function pn(){return pn=(0,l.Z)(function*(b){var p;const _=b.auth,w=yield b.getIdToken(),M=yield zt(b,function J(b,p){return se.apply(this,arguments)}(_,{idToken:w}));le(M?.users.length,_,"internal-error");const k=M.users[0];b._notifyReloadListener(k);const Q=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?function ri(b){return b.map(p=>{var{providerId:_}=p,w=(0,fe._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(k.providerUserInfo):[],ce=function Yt(b,p){return[...b.filter(w=>!p.some(M=>M.providerId===w.providerId)),...p]}(b.providerData,Q),Et=!!b.isAnonymous&&!(b.email&&k.passwordHash||ce?.length),Wt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ce,metadata:new Cn(k.createdAt,k.lastLoginAt),isAnonymous:Et};Object.assign(b,Wt)}),pn.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(b){const p=(0,R.m9)(b);yield An(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(b,p){const _=yield kt(b,{},(0,l.Z)(function*(){const w=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:k}=b.config,Q=xn(b,M,"/v1/token",`key=${k}`),ce=yield b._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(Q,{method:"POST",headers:ce,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Kt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Rt(b){const p=Ht(b);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,l.Z)(function*(){return le(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:k,expiresIn:Q}=yield function on(b,p){return Ss.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(M,k,Number(Q))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:M,expirationTime:k}=_,Q=new Kt;return w&&(le("string"==typeof w,"internal-error",{appName:p}),Q.refreshToken=w),M&&(le("string"==typeof M,"internal-error",{appName:p}),Q.accessToken=M),k&&(le("number"==typeof k,"internal-error",{appName:p}),Q.expirationTime=k),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Kt,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Yn(b,p){le("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Qn{constructor(p){var{uid:_,auth:w,stsTokenManager:M}=p,k=(0,fe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Cn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const w=yield zt(_,_.stsTokenManager.getToken(_.auth,p));return le(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function Qe(b){return sn.apply(this,arguments)}(this,p)}reload(){return function zn(b){return On.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Qn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,l.Z)(function*(){let M=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),M=!0),_&&(yield An(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield zt(p,function Ot(b,p){return Bn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,M,k,Q,ce,qe,st,Et;const Wt=null!==(w=_.displayName)&&void 0!==w?w:void 0,mi=null!==(M=_.email)&&void 0!==M?M:void 0,Bs=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,Qc=null!==(Q=_.photoURL)&&void 0!==Q?Q:void 0,C1=null!==(ce=_.tenantId)&&void 0!==ce?ce:void 0,Tl=null!==(qe=_._redirectEventId)&&void 0!==qe?qe:void 0,Xc=null!==(st=_.createdAt)&&void 0!==st?st:void 0,Ag=null!==(Et=_.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:ff,emailVerified:Fu,isAnonymous:ed,providerData:Lu,stsTokenManager:Ea}=_;le(ff&&Ea,p,"internal-error");const td=Kt.fromJSON(this.name,Ea);le("string"==typeof ff,p,"internal-error"),Yn(Wt,p.name),Yn(mi,p.name),le("boolean"==typeof Fu,p,"internal-error"),le("boolean"==typeof ed,p,"internal-error"),Yn(Bs,p.name),Yn(Qc,p.name),Yn(C1,p.name),Yn(Tl,p.name),Yn(Xc,p.name),Yn(Ag,p.name);const pf=new Qn({uid:ff,auth:p,email:mi,emailVerified:Fu,displayName:Wt,isAnonymous:ed,photoURL:Qc,phoneNumber:Bs,tenantId:C1,stsTokenManager:td,createdAt:Xc,lastLoginAt:Ag});return Lu&&Array.isArray(Lu)&&(pf.providerData=Lu.map(gf=>Object.assign({},gf))),Tl&&(pf._redirectEventId=Tl),pf}static _fromIdTokenResponse(p,_,w=!1){return(0,l.Z)(function*(){const M=new Kt;M.updateFromServerResponse(_);const k=new Qn({uid:_.localId,auth:p,stsTokenManager:M,isAnonymous:w});return yield An(k),k})()}}const qr=new Map;function Un(b){vt(b instanceof Function,"Expected a class definition");let p=qr.get(b);return p?(vt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,qr.set(b,p),p)}const Ci=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var M=this;return(0,l.Z)(function*(){M.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=w.storage[_];return void 0===M?null:M})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function di(b,p,_){return`firebase:${b}:${p}:${_}`}class G{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:M,name:k}=this.auth;this.fullUserKey=di(this.userKey,M.apiKey,k),this.fullPersistenceKey=di("persistence",M.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Qn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new G(Un(Ci),p,w);const M=(yield Promise.all(_.map(function(){var st=(0,l.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return st.apply(this,arguments)}}()))).filter(st=>st);let k=M[0]||Un(Ci);const Q=di(w,p.config.apiKey,p.name);let ce=null;for(const st of _)try{const Et=yield st._get(Q);if(Et){const Wt=Qn._fromJSON(p,Et);st!==k&&(ce=Wt),k=st;break}}catch{}const qe=M.filter(st=>st._shouldAllowMigration);return k._shouldAllowMigration&&qe.length?(k=qe[0],ce&&(yield k._set(Q,ce.toJSON())),yield Promise.all(_.map(function(){var st=(0,l.Z)(function*(Et){if(Et!==k)try{yield Et._remove(Q)}catch{}});return function(Et){return st.apply(this,arguments)}}())),new G(k,p,w)):new G(k,p,w)})()}}function H(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Z(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(F(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ut(p))return"Blackberry";if(Pt(p))return"Webos";if(L(p))return"Safari";if((p.includes("chrome/")||x(p))&&!p.includes("edge/"))return"Chrome";if(Ie(p))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function F(b=(0,R.z$)()){return/firefox\//i.test(b)}function L(b=(0,R.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function x(b=(0,R.z$)()){return/crios\//i.test(b)}function Z(b=(0,R.z$)()){return/iemobile/i.test(b)}function Ie(b=(0,R.z$)()){return/android/i.test(b)}function ut(b=(0,R.z$)()){return/blackberry/i.test(b)}function Pt(b=(0,R.z$)()){return/webos/i.test(b)}function xt(b=(0,R.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Jt(b=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function jt(b=(0,R.z$)()){return xt(b)||Ie(b)||Pt(b)||ut(b)||/windows phone/i.test(b)||Z(b)}function Ms(b,p=[]){let _;switch(b){case"Browser":_=H((0,R.z$)());break;case"Worker":_=`${H((0,R.z$)())}-${b}`;break;default:_=b}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${U.SDK_VERSION}/${w}`}function ne(){return(ne=(0,l.Z)(function*(b){return(yield Bt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ve(b,p){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(b,p){return Bt(b,"GET","/v2/recaptchaConfig",ze(b,p))})).apply(this,arguments)}function Ut(b){return void 0!==b&&void 0!==b.getResponse}function nn(b){return void 0!==b&&void 0!==b.enterprise}class It{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function dn(b){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=p,w.onerror=M=>{const k=De("internal-error");k.customData=M,_(k)},w.type="text/javascript",w.charset="UTF-8",function mn(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(w)})}function Dr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Th="NO_RECAPTCHA";class So{constructor(p){this.type="recaptcha-enterprise",this.auth=_n(p)}verify(p="verify",_=!1){var w=this;return(0,l.Z)(function*(){function k(){return k=(0,l.Z)(function*(ce){if(!_){if(null==ce.tenantId&&null!=ce._agentRecaptchaConfig)return ce._agentRecaptchaConfig.siteKey;if(null!=ce.tenantId&&void 0!==ce._tenantRecaptchaConfigs[ce.tenantId])return ce._tenantRecaptchaConfigs[ce.tenantId].siteKey}return new Promise(function(){var qe=(0,l.Z)(function*(st,Et){Ve(ce,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wt=>{if(void 0!==Wt.recaptchaKey){const mi=new It(Wt);return null==ce.tenantId?ce._agentRecaptchaConfig=mi:ce._tenantRecaptchaConfigs[ce.tenantId]=mi,st(mi.siteKey)}Et(new Error("recaptcha Enterprise site key undefined"))}).catch(Wt=>{Et(Wt)})});return function(st,Et){return qe.apply(this,arguments)}}())}),k.apply(this,arguments)}function Q(ce,qe,st){const Et=window.grecaptcha;nn(Et)?Et.enterprise.ready(()=>{Et.enterprise.execute(ce,{action:p}).then(Wt=>{qe(Wt)}).catch(()=>{qe(Th)})}):st(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ce,qe)=>{(function M(ce){return k.apply(this,arguments)})(w.auth).then(st=>{if(!_&&nn(window.grecaptcha))Q(st,ce,qe);else{if(typeof window>"u")return void qe(new Error("RecaptchaVerifier is only supported in browser"));dn("https://www.google.com/recaptcha/enterprise.js?render="+st).then(()=>{Q(st,ce,qe)}).catch(Et=>{qe(Et)})}}).catch(st=>{qe(st)})})})()}}function mr(b,p,_){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(b,p,_,w=!1){const M=new So(b);let k;try{k=yield M.verify(_)}catch{k=yield M.verify(_,!0)}const Q=Object.assign({},p);return Object.assign(Q,w?{captchaResp:k}:{captchaResponse:k}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class Qt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=k=>new Promise((Q,ce)=>{try{Q(p(k))}catch(qe){ce(qe)}});w.onAbort=_,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const w=[];try{for(const M of _.queue)yield M(p),M.onAbort&&w.push(M.onAbort)}catch(M){w.reverse();for(const k of w)try{k()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class qn{constructor(p,_,w,M){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qi(this),this.idTokenSubscription=new Qi(this),this.beforeStateQueue=new Qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=Un(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,k;if(!w._deleted&&(w.persistenceManager=yield G.create(w,p),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var w;const M=yield _.assertedPersistence.getCurrentUser();let k=M,Q=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ce=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,qe=k?._redirectEventId,st=yield _.tryRedirectSignIn(p);(!ce||ce===qe)&&st?.user&&(k=st.user,Q=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(Q)try{yield _.beforeStateQueue.runMiddleware(k)}catch(ce){k=M,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ce))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return le(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield An(p)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const w=p?(0,R.m9)(p):null;return w&&le(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&le(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Un(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const _=yield Ve(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new It(_);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new So(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,l.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(_);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&Un(p)||_._popupRedirectResolver;le(w,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[Un(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var w,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,M){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return le(Q,this,"internal-error"),Q.then(()=>k(this.currentUser)),"function"==typeof _?p.addObserver(_,w,M):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ms(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();M&&(w["X-Firebase-Client"]=M);const k=yield p._getAppCheckToken();return k&&(w["X-Firebase-AppCheck"]=k),w})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var _;const w=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function me(b,...p){Me.logLevel<=Te.in.WARN&&Me.warn(`Auth (${U.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function _n(b){return(0,R.m9)(b)}class Qi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(_=>this.observer=_)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vn(b,p,_){const w=_n(b);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const M=!!_?.disableWarnings,k=ia(p),{host:Q,port:ce}=function er(b){const p=ia(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const k=M[1];return{host:k,port:Xt(w.substr(k.length+1))}}{const[k,Q]=w.split(":");return{host:k,port:Xt(Q)}}}(p);w.config.emulator={url:`${k}//${Q}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Q,port:ce,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Wa(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function ia(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Xt(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Ir{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return nt("not implemented")}_getIdTokenResponse(p){return nt("not implemented")}_linkToIdToken(p,_){return nt("not implemented")}_getReauthenticationResolver(p){return nt("not implemented")}}function Mo(b,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:resetPassword",ze(b,p))})).apply(this,arguments)}function lr(b,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",ze(b,p))})).apply(this,arguments)}function Js(b,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signInWithPassword",ze(b,p))})).apply(this,arguments)}function Sn(b,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:sendOobCode",ze(b,p))})).apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(b,p){return Sn(b,p)})).apply(this,arguments)}function Xs(b,p){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(b,p){return Sn(b,p)})).apply(this,arguments)}function Rs(b,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(b,p){return Sn(b,p)})).apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(b,p){return Sn(b,p)})).apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signInWithEmailLink",ze(b,p))})).apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signInWithEmailLink",ze(b,p))})).apply(this,arguments)}class Pr extends Ir{constructor(p,_,w,M=null){super("password",w),this._email=p,this._password=_,this._tenantId=M}static _fromEmailAndPassword(p,_){return new Pr(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new Pr(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){var w;switch(_.signInMethod){case"password":const M={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const k=yield mr(p,M,"signInWithPassword");return Js(p,k)}return Js(p,M).catch(function(){var k=(0,l.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ce=yield mr(p,M,"signInWithPassword");return Js(p,ce)}return Promise.reject(Q)});return function(Q){return k.apply(this,arguments)}}());case"emailLink":return function Li(b,p){return sa.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Re(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return lr(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function oa(b,p){return Ro.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:Re(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ds(b,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signInWithIdp",ze(b,p))})).apply(this,arguments)}class Xi extends Ir{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Xi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Re("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M}=_,k=(0,fe._T)(_,["providerId","signInMethod"]);if(!w||!M)return null;const Q=new Xi(w,M);return Q.idToken=k.idToken||void 0,Q.accessToken=k.accessToken||void 0,Q.secret=k.secret,Q.nonce=k.nonce,Q.pendingToken=k.pendingToken||null,Q}_getIdTokenResponse(p){return ds(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,ds(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ds(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,R.xO)(_)}return p}}function xo(){return(xo=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:sendVerificationCode",ze(b,p))})).apply(this,arguments)}function wc(){return(wc=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,p))})).apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(b,p){const _=yield Zt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,p));if(_.temporaryProof)throw Hn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const nu={USER_NOT_FOUND:"user-not-found"};function Nh(){return(Nh=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signInWithPhoneNumber",ze(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),nu)})).apply(this,arguments)}class la extends Ir{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new la({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new la({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Sh(b,p){return wc.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Mh(b,p){return tu.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ru(b,p){return Nh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:k}=p;return w||_||M||k?new la({verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:k}):null}}class Oo{constructor(p){var _,w,M,k,Q,ce;const qe=(0,R.zd)((0,R.pd)(p)),st=null!==(_=qe.apiKey)&&void 0!==_?_:null,Et=null!==(w=qe.oobCode)&&void 0!==w?w:null,Wt=function Rh(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=qe.mode)&&void 0!==M?M:null);le(st&&Et&&Wt,"argument-error"),this.apiKey=st,this.operation=Wt,this.code=Et,this.continueUrl=null!==(k=qe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Q=qe.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(ce=qe.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const _=function xh(b){const p=(0,R.zd)((0,R.pd)(b)).link,_=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,w=(0,R.zd)((0,R.pd)(b)).deep_link_id;return(w?(0,R.zd)((0,R.pd)(w)).link:null)||w||_||p||b}(p);try{return new Oo(_)}catch{return null}}}let eo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Pr._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const M=Oo.parseLink(w);return le(M,"argument-error"),Pr._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class xs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Po extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class es extends Po{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return le("providerId"in _&&"signInMethod"in _,"argument-error"),Xi._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return es.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return es.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:k,nonce:Q,providerId:ce}=p;if(!w&&!M&&!_&&!k||!ce)return null;try{return new es(ce)._credential({idToken:_,accessToken:w,nonce:Q,pendingToken:k})}catch{return null}}}let Ph=(()=>{class b extends Po{constructor(){super("facebook.com")}static credential(_){return Xi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),iu=(()=>{class b extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Xi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:M}=_;if(!w&&!M)return null;try{return b.credential(w,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Ya=(()=>{class b extends Po{constructor(){super("github.com")}static credential(_){return Xi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class to extends Ir{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return ds(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,ds(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ds(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:M,pendingToken:k}=_;return w&&M&&k&&w===M?new to(w,k):null}static _create(p,_){return new to(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ka extends xs{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ka.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ka.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=to.fromJSON(p);return le(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return to._create(w,_)}catch{return null}}}let Cc=(()=>{class b extends Po{constructor(){super("twitter.com")}static credential(_,w){return Xi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=_;if(!w||!M)return null;try{return b.credential(w,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ua(b,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signUp",ze(b,p))})).apply(this,arguments)}class Wn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,M=!1){return(0,l.Z)(function*(){const k=yield Qn._fromIdTokenResponse(p,w,M),Q=Ja(w);return new Wn({user:k,providerId:Q,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const M=Ja(w);return new Wn({user:p,providerId:M,_tokenResponse:w,operationType:_})})()}}function Ja(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Qa(b){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(b){var p;const _=_n(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Wn({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ua(_,{returnSecureToken:!0}),M=yield Wn._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ti extends R.ZR{constructor(p,_,w,M){var k;super(_.code,_.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Ti.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,M){return new Ti(p,_,w,M)}}function da(b,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ti._fromErrorAndOperation(b,k,p,w):k})}function Tr(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Fh(b,p){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,l.Z)(function*(b,p){const _=(0,R.m9)(b);yield el(!0,_,p);const{providerUserInfo:w}=yield function Gn(b,p){return re.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=Tr(w||[]);return _.providerData=_.providerData.filter(k=>M.has(k.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Xa.apply(this,arguments)}function no(b,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(b,p,_=!1){const w=yield zt(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Wn._forOperation(b,"link",w)})).apply(this,arguments)}function el(b,p,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(b,p,_){yield An(p);const M=!1===b?"provider-already-linked":"no-such-provider";le(Tr(p.providerData).has(_)===b,p.auth,M)})).apply(this,arguments)}function Ic(b,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(b,p,_=!1){const{auth:w}=b,M="reauthenticate";try{const k=yield zt(b,da(w,M,p,b),_);le(k.idToken,w,"internal-error");const Q=Ht(k.idToken);le(Q,w,"internal-error");const{sub:ce}=Q;return le(b.uid===ce,w,"user-mismatch"),Wn._forOperation(b,M,k)}catch(k){throw"auth/user-not-found"===k?.code&&Re(w,"user-mismatch"),k}})).apply(this,arguments)}function tl(b,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(b,p,_=!1){const w="signIn",M=yield da(b,w,p),k=yield Wn._fromIdTokenResponse(b,w,M);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Vt(b,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(b,p){return tl(_n(b),p)})).apply(this,arguments)}function Lh(b,p){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(b,p){const _=(0,R.m9)(b);return yield el(!1,_,p.providerId),no(_,p)})).apply(this,arguments)}function rl(b,p){return il.apply(this,arguments)}function il(){return(il=(0,l.Z)(function*(b,p){return Ic((0,R.m9)(b),p)})).apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(b,p){return Zt(b,"POST","/v1/accounts:signInWithCustomToken",ze(b,p))})).apply(this,arguments)}function Bh(b,p){return we.apply(this,arguments)}function we(){return we=(0,l.Z)(function*(b,p){const _=_n(b),w=yield function ou(b,p){return sl.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),M=yield Wn._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(M.user),M}),we.apply(this,arguments)}class an{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Fo._fromServerResponse(p,_):"totpInfo"in _?au._fromServerResponse(p,_):Re(p,"internal-error")}}class Fo extends an{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Fo(_)}}class au extends an{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new au(_)}}function Kn(b,p,_){var w;le((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),le(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(le(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(le(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Uh(b,p,_){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,l.Z)(function*(b,p,_){var w;const M=_n(b),k={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Q=yield mr(M,k,"getOobCode",!0);_&&Kn(M,Q,_),yield Xs(M,Q)}else _&&Kn(M,k,_),yield Xs(M,k).catch(function(){var Q=(0,l.Z)(function*(ce){if("auth/missing-recaptcha-token"!==ce.code)return Promise.reject(ce);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const qe=yield mr(M,k,"getOobCode",!0);_&&Kn(M,qe,_),yield Xs(M,qe)}});return function(ce){return Q.apply(this,arguments)}}())}),Lo.apply(this,arguments)}function Ui(b,p,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(b,p,_){yield Mo((0,R.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function Ec(b,p){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,l.Z)(function*(b,p){yield function Ks(b,p){return Ii.apply(this,arguments)}((0,R.m9)(b),{oobCode:p})}),Tc.apply(this,arguments)}function Ac(b,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(b,p){const _=(0,R.m9)(b),w=yield Mo(_,{oobCode:p}),M=w.requestType;switch(le(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,_,"internal-error");default:le(w.email,_,"internal-error")}let k=null;return w.mfaInfo&&(k=an._fromServerResponse(_n(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:M}})).apply(this,arguments)}function Fr(b,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(b,p){const{data:_}=yield Ac((0,R.m9)(b),p);return _.email})).apply(this,arguments)}function Bo(b,p,_){return ro.apply(this,arguments)}function ro(){return ro=(0,l.Z)(function*(b,p,_){var w;const M=_n(b),k={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const st=yield mr(M,k,"signUpPassword");Q=ua(M,st)}else Q=ua(M,k).catch(function(){var st=(0,l.Z)(function*(Et){if("auth/missing-recaptcha-token"===Et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wt=yield mr(M,k,"signUpPassword");return ua(M,Wt)}return Promise.reject(Et)});return function(Et){return st.apply(this,arguments)}}());const ce=yield Q.catch(st=>Promise.reject(st)),qe=yield Wn._fromIdTokenResponse(M,"signIn",ce);return yield M._updateCurrentUser(qe.user),qe}),ro.apply(this,arguments)}function hs(b,p,_){return Vt((0,R.m9)(b),eo.credential(p,_))}function al(b,p,_){return pa.apply(this,arguments)}function pa(){return pa=(0,l.Z)(function*(b,p,_){var w;const M=_n(b),k={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(ce,qe){le(qe.handleCodeInApp,M,"argument-error"),qe&&Kn(M,ce,qe)}if(null!==(w=M._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ce=yield mr(M,k,"getOobCode",!0);Q(ce,_),yield Rs(M,ce)}else Q(k,_),yield Rs(M,k).catch(function(){var ce=(0,l.Z)(function*(qe){if("auth/missing-recaptcha-token"!==qe.code)return Promise.reject(qe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const st=yield mr(M,k,"getOobCode",!0);Q(st,_),yield Rs(M,st)}});return function(qe){return ce.apply(this,arguments)}}())}),pa.apply(this,arguments)}function tg(b,p){return"EMAIL_SIGNIN"===Oo.parseLink(p)?.operation}function ng(b,p,_){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b),M=eo.credentialWithLink(p,_||et());return le(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Vt(w,M)})).apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:createAuthUri",ze(b,p))})).apply(this,arguments)}function Sc(b,p){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,l.Z)(function*(b,p){const w={identifier:p,continueUri:tn()?et():"http://localhost"},{signinMethods:M}=yield function ma(b,p){return lu.apply(this,arguments)}((0,R.m9)(b),w);return M||[]}),Mc.apply(this,arguments)}function Vh(b,p){return ll.apply(this,arguments)}function ll(){return ll=(0,l.Z)(function*(b,p){const _=(0,R.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Kn(_.auth,M,p);const{email:k}=yield function Qs(b,p){return Za.apply(this,arguments)}(_.auth,M);k!==b.email&&(yield b.reload())}),ll.apply(this,arguments)}function $h(b,p,_){return uu.apply(this,arguments)}function uu(){return uu=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Kn(w.auth,k,_);const{email:Q}=yield function Xp(b,p){return Wr.apply(this,arguments)}(w.auth,k);Q!==b.email&&(yield b.reload())}),uu.apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(b,p){return Bt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Os(b,p){return ul.apply(this,arguments)}function ul(){return ul=(0,l.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,R.m9)(b),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Q=yield zt(w,function jh(b,p){return cu.apply(this,arguments)}(w.auth,k));w.displayName=Q.displayName||null,w.photoURL=Q.photoUrl||null;const ce=w.providerData.find(({providerId:qe})=>"password"===qe);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Q)}),ul.apply(this,arguments)}function rg(b,p){return Ps((0,R.m9)(b),p,null)}function Lr(b,p){return Ps((0,R.m9)(b),null,p)}function Ps(b,p,_){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(b,p,_){const{auth:w}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(k.email=p),_&&(k.password=_);const Q=yield zt(b,lr(w,k));yield b._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Uo{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class Nc extends Uo{constructor(p,_,w,M){super(p,_,w),this.username=M}}class ig extends Uo{constructor(p,_){super(p,"facebook.com",_)}}class sg extends Nc{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class fs extends Uo{constructor(p,_){super(p,"google.com",_)}}class ks extends Nc{constructor(p,_,w){super(p,"twitter.com",_,w)}}function du(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Hh(b){var p,_;if(!b)return null;const{providerId:w}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const Q=null===(_=null===(p=Ht(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Q)return new Uo(k,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!w)return null;switch(w){case"facebook.com":return new ig(k,M);case"github.com":return new sg(k,M);case"google.com":return new fs(k,M);case"twitter.com":return new ks(k,M,b.screenName||null);case"custom":case"anonymous":return new Uo(k,null);default:return new Uo(k,w,M)}}(_)}class j{constructor(p,_,w){this.type=p,this.credential=_,this.auth=w}static _fromIdtoken(p,_){return new j("enroll",p,_)}static _fromMfaPendingCredential(p){return new j("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return j._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return j._fromIdtoken(p.multiFactorSession.idToken)}return null}}class be{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=_n(p),M=_.customData._serverResponse,k=(M.mfaInfo||[]).map(ce=>an._fromServerResponse(w,ce));le(M.mfaPendingCredential,w,"internal-error");const Q=j._fromMfaPendingCredential(M.mfaPendingCredential);return new be(Q,k,function(){var ce=(0,l.Z)(function*(qe){const st=yield qe._process(w,Q);delete M.mfaInfo,delete M.mfaPendingCredential;const Et=Object.assign(Object.assign({},M),{idToken:st.idToken,refreshToken:st.refreshToken});switch(_.operationType){case"signIn":const Wt=yield Wn._fromIdTokenResponse(w,_.operationType,Et);return yield w._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return le(_.user,w,"internal-error"),Wn._forOperation(_.user,_.operationType,Et);default:Re(w,"internal-error")}});return function(qe){return ce.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}function St(b,p){var _;const w=(0,R.m9)(b),M=p;return le(p.customData.operationType,w,"argument-error"),le(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),be._fromError(w,M)}class dl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>an._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new dl(p)}getSession(){var p=this;return(0,l.Z)(function*(){return j._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var w=this;return(0,l.Z)(function*(){const M=p,k=yield w.getSession(),Q=yield zt(w.user,M._process(w.user.auth,k,_));return yield w.user._updateTokensIfNecessary(Q),w.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const k=yield zt(_.user,function ps(b,p){return Bt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(b,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Q})=>Q!==w),yield _.user._updateTokensIfNecessary(k),yield _.user.reload()}catch(k){throw k}})()}}const fu=new WeakMap;function pu(b){const p=(0,R.m9)(b);return fu.has(p)||fu.set(p,dl._fromUser(p)),fu.get(p)}const Oc="__sak";class gu{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pc=(()=>{class b extends gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gh(){const b=(0,R.z$)();return L(b)||xt(b)}()&&function Xn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),k=this.localCache[w];M!==k&&_(w,k,M)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ce,qe,st)=>{this.notifyListeners(ce,st)});const M=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(M);if(_.newValue!==ce)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!w)return}const k=()=>{const ce=this.storage.getItem(M);!w&&this.localCache[M]===ce||this.notifyListeners(M,ce)},Q=this.storage.getItem(M);!function Pn(){return(0,R.w1)()&&10===document.documentMode}()||Q===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var M=()=>super._set,k=this;return(0,l.Z)(function*(){yield M().call(k,_,w),k.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,M=this;return(0,l.Z)(function*(){const k=yield w().call(M,_);return M.localCache[_]=JSON.stringify(k),k})()}_remove(_){var w=()=>super._remove,M=this;return(0,l.Z)(function*(){yield w().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),Ai=(()=>{class b extends gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let kc=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(k=>k.isListeningto(_));if(w)return w;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const M=_,{eventId:k,eventType:Q,data:ce}=M.data,qe=w.handlersMap[Q];if(!qe?.size)return;M.ports[0].postMessage({status:"ack",eventId:k,eventType:Q});const st=Array.from(qe).map(function(){var Wt=(0,l.Z)(function*(mi){return mi(M.origin,ce)});return function(mi){return Wt.apply(this,arguments)}}()),Et=yield function zh(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(st);M.ports[0].postMessage({status:"done",eventId:k,eventType:Q,response:Et})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Vo(b="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return b+_}class qh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var M=this;return(0,l.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Q,ce;return new Promise((qe,st)=>{const Et=Vo("",20);k.port1.start();const Wt=setTimeout(()=>{st(new Error("unsupported_event"))},w);ce={messageChannel:k,onMessage(mi){const Bs=mi;if(Bs.data.eventId===Et)switch(Bs.data.status){case"ack":clearTimeout(Wt),Q=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),qe(Bs.data.response);break;default:clearTimeout(Wt),clearTimeout(Q),st(new Error("invalid_response"))}}},M.handlers.add(ce),k.port1.addEventListener("message",ce.onMessage),M.target.postMessage({eventType:p,eventId:Et,data:_},[k.port2])}).finally(()=>{ce&&M.removeMessageHandler(ce)})})()}}function nr(){return window}function Fc(){return typeof nr().WorkerGlobalScope<"u"&&"function"==typeof nr().importScripts}function yu(){return(yu=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ug="firebaseLocalStorageDb",hl=1,so="firebaseLocalStorage",Dy="fbase_key";class va{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Lc(b,p){return b.transaction([so],p?"readwrite":"readonly").objectStore(so)}function Wh(){const b=indexedDB.open(ug,hl);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(so,{keyPath:Dy})}catch(M){_(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(so)?p(w):(w.close(),yield function fl(){const b=indexedDB.deleteDatabase(ug);return new va(b).toPromise()}(),p(yield Wh()))}))})}function Zh(b,p,_){return pl.apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(b,p,_){const w=Lc(b,!0).put({[Dy]:p,value:_});return new va(w).toPromise()})).apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(b,p){const _=Lc(b,!1).get(p),w=yield new va(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function bu(b,p){const _=Lc(b,!0).delete(p);return new va(_).toPromise()}const Yh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Wh()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const k=yield w._openDb();return yield _(k)}catch(k){if(M++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Fc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=kc._getInstance(function lg(){return Fc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(M,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(M,k){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(M,k){return["keyChanged"]});return function(M,k){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,M;if(_.activeServiceWorker=yield function og(){return yu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new qh(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);k&&null!==(w=k[0])&&void 0!==w&&w.fulfilled&&null!==(M=k[0])&&void 0!==M&&M.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ag(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Wh();return yield Zh(_,Oc,"1"),yield bu(_,Oc),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(k=>Zh(k,_,w)),M.localCache[_]=w,M.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const M=yield w._withRetries(k=>function Cy(b,p){return vu.apply(this,arguments)}(k,_));return w.localCache[_]=M,M})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(M=>bu(M,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(Q=>{const ce=Lc(Q,!1).getAll();return new va(ce).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const M=[],k=new Set;for(const{fbase_key:Q,value:ce}of w)k.add(Q),JSON.stringify(_.localCache[Q])!==JSON.stringify(ce)&&(_.notifyListeners(Q,ce),M.push(Q));for(const Q of Object.keys(_.localCache))_.localCache[Q]&&!k.has(Q)&&(_.notifyListeners(Q,null),M.push(Q));return M})()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const k of Array.from(M))k(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Kh=1e12;class _1{constructor(p){this.auth=p,this.counter=Kh,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new hg(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||Kh;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Kh))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(p||Kh))||void 0===w||w.execute(),""})()}}class hg{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;le(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ey(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ty=Dr("rcb"),zT=new Ee(3e4,6e4);class wu{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=nr().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return le(function WT(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Ut(nr().grecaptcha)?Promise.resolve(nr().grecaptcha):new Promise((w,M)=>{const k=nr().setTimeout(()=>{M(De(p,"network-request-failed"))},zT.get());nr()[Ty]=()=>{nr().clearTimeout(k),delete nr()[Ty];const ce=nr().grecaptcha;if(!ce||!Ut(ce))return void M(De(p,"internal-error"));const qe=ce.render;ce.render=(st,Et)=>{const Wt=qe(st,Et);return this.counter++,Wt},this.hostLanguage=_,w(ce)},dn(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:Ty,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),M(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=nr().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ZT{load(p){return(0,l.Z)(function*(){return new _1(p)})()}clearedOneInstance(){}}const Ar="recaptcha",fg={theme:"light",type:"image"};class Uc{constructor(p,_=Object.assign({},fg),w){this.parameters=_,this.type=Ar,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;le(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZT:new wu,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(k=>{const Q=ce=>{ce&&(p.tokenChangeListeners.delete(Q),k(ce))};p.tokenChangeListeners.add(Q),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=nr()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){le(tn()&&!Fc(),p.auth,"internal-error"),yield function Ay(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function pe(b){return ne.apply(this,arguments)}(p.auth);le(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $i{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=la._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function _l(b,p,_){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,l.Z)(function*(b,p,_){const w=_n(b),M=yield Xh(w,p,(0,R.m9)(_));return new $i(M,k=>Vt(w,k))})).apply(this,arguments)}function Qh(b,p,_){return yl.apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b);yield el(!1,w,"phone");const M=yield Xh(w.auth,p,(0,R.m9)(_));return new $i(M,k=>Lh(w,k))})).apply(this,arguments)}function y1(b,p,_){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b),M=yield Xh(w.auth,p,(0,R.m9)(_));return new $i(M,k=>rl(w,k))})).apply(this,arguments)}function Xh(b,p,_){return pg.apply(this,arguments)}function pg(){return pg=(0,l.Z)(function*(b,p,_){var w;const M=yield _.verify();try{let k;if(le("string"==typeof M,b,"argument-error"),le(_.type===Ar,b,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const Q=k.session;if("phoneNumber"in k)return le("enroll"===Q.type,b,"internal-error"),(yield function En(b,p){return Bt(b,"POST","/v2/accounts/mfaEnrollment:start",ze(b,p))}(b,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{le("signin"===Q.type,b,"internal-error");const ce=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return le(ce,b,"missing-multi-factor-info"),(yield function cg(b,p){return Bt(b,"POST","/v2/accounts/mfaSignIn:start",ze(b,p))}(b,{mfaPendingCredential:Q.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function eg(b,p){return xo.apply(this,arguments)}(b,{phoneNumber:k.phoneNumber,recaptchaToken:M});return Q}}finally{_._reset()}}),pg.apply(this,arguments)}function ts(b,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(b,p){yield no((0,R.m9)(b),p)})).apply(this,arguments)}let Zn=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=_n(_)}verifyPhoneNumber(_,w){return Xh(this.auth,_,(0,R.m9)(w))}static credential(_,w){return la._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:M}=_;return w&&M?la._fromTokenResponse(w,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function vl(b,p){return p?Un(p):(le(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Vc extends Ir{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ds(p,this._buildIdpRequest())}_linkToIdToken(p,_){return ds(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return ds(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function My(b){return tl(b.auth,new Vc(b),b.bypassAuthState)}function Ny(b){const{auth:p,user:_}=b;return le(_,p,"internal-error"),Ic(_,new Vc(b),b.bypassAuthState)}function gg(b){return ef.apply(this,arguments)}function ef(){return(ef=(0,l.Z)(function*(b){const{auth:p,user:_}=b;return le(_,p,"internal-error"),no(_,new Vc(b),b.bypassAuthState)})).apply(this,arguments)}class ns{constructor(p,_,w,M,k=!1){this.auth=p,this.resolver=w,this.user=M,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(w,M){p.pendingPromise={resolve:w,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:k,tenantId:Q,error:ce,type:qe}=p;if(ce)return void _.reject(ce);const st={auth:_.auth,requestUri:w,sessionId:M,tenantId:Q||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(qe)(st))}catch(Et){_.reject(Et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return My;case"linkViaPopup":case"linkViaRedirect":return gg;case"reauthViaPopup":case"reauthViaRedirect":return Ny;default:Re(this.auth,"internal-error")}}resolve(p){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $o=new Ee(2e3,1e4);function Fn(b,p,_){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(b,p,_){const w=_n(b);Ke(b,p,xs);const M=vl(w,_);return new nf(w,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function tf(b,p,_){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b);Ke(w.auth,p,xs);const M=vl(w.auth,_);return new nf(w.auth,"reauthViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}function $c(b,p,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b);Ke(w.auth,p,xs);const M=vl(w.auth,_);return new nf(w.auth,"linkViaPopup",p,M,w).executeNotNull()})).apply(this,arguments)}let nf=(()=>{class b extends ns{constructor(_,w,M,k,Q){super(_,w,k,Q),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return le(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){vt(1===_.filter.length,"Popup operations only handle one event");const w=Vo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(De(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,$o.get())};_()}}return b.currentPopupAction=null,b})();const rf="pendingRedirect",pi=new Map;class Zr extends ns{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=pi.get(_.auth._key());if(!w){try{const k=(yield function mg(b,p){return Du.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(k)}catch(M){w=()=>Promise.reject(M)}pi.set(_.auth._key(),w)}return _.bypassAuthState||pi.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const M=yield w.auth._redirectUserForId(p.eventId);if(M)return w.user=M,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Du(){return(Du=(0,l.Z)(function*(b,p){const _=Fs(p),w=Ry(b);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(_));return yield w._remove(_),M})).apply(this,arguments)}function sf(b,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(b,p){return Ry(b)._set(Fs(p),"true")})).apply(this,arguments)}function Cu(){pi.clear()}function Go(b,p){pi.set(b._key(),p)}function Ry(b){return Un(b._redirectPersistence)}function Fs(b){return di(rf,b.config.apiKey,b.name)}function _g(b,p,_){return function ii(b,p,_){return Ls.apply(this,arguments)}(b,p,_)}function Ls(){return(Ls=(0,l.Z)(function*(b,p,_){const w=_n(b);Ke(b,p,xs),yield w._initializationPromise;const M=vl(w,_);return yield sf(M,w),M._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function xy(b,p,_){return function Rn(b,p,_){return Da.apply(this,arguments)}(b,p,_)}function Da(){return(Da=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b);Ke(w.auth,p,xs),yield w.auth._initializationPromise;const M=vl(w.auth,_);yield sf(M,w.auth);const k=yield Tu(w);return M._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function af(b,p,_){return function yg(b,p,_){return Iu.apply(this,arguments)}(b,p,_)}function Iu(){return(Iu=(0,l.Z)(function*(b,p,_){const w=(0,R.m9)(b);Ke(w.auth,p,xs),yield w.auth._initializationPromise;const M=vl(w.auth,_);yield el(!1,w,p.providerId),yield sf(M,w.auth);const k=yield Tu(w);return M._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function Oy(b,p){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(b,p){return yield _n(b)._initializationPromise,lf(b,p,!1)})).apply(this,arguments)}function lf(b,p){return jc.apply(this,arguments)}function jc(){return(jc=(0,l.Z)(function*(b,p,_=!1){const w=_n(b),M=vl(w,p),Q=yield new Zr(w,M,_).execute();return Q&&!_&&(delete Q.user._redirectEventId,yield w._persistUserIfCurrent(Q.user),yield w._setRedirectUser(null,p)),Q})).apply(this,arguments)}function Tu(b){return bl.apply(this,arguments)}function bl(){return(bl=(0,l.Z)(function*(b){const p=Vo(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class vg{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Fy(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ky(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!ky(p)){const M=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(De(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Au(p))}saveEventToCache(p){this.cachedEventUids.add(Au(p)),this.lastProcessedEventTime=Date.now()}}function Au(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function ky({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function bg(b){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(b,p={}){return Bt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Ly=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uf=/^https?/;function wl(){return(wl=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield bg(b);for(const _ of p)try{if(df(_))return}catch{}Re(b,"unauthorized-domain")})).apply(this,arguments)}function df(b){const p=et(),{protocol:_,hostname:w}=new URL(p);if(b.startsWith("chrome-extension://")){const Q=new URL(b);return""===Q.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Q.hostname===w}if(!uf.test(_))return!1;if(Ly.test(b))return w===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Gc=new Ee(3e4,6e4);function Dl(){const b=nr().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Su=null;const gi=new Ee(5e3,15e3),oo="__/auth/iframe",zc="emulator/auth/iframe",v1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mu(b){const p=b.config;le(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?Ae(p,zc):`https://${b.config.authDomain}/${oo}`,w={apiKey:p.apiKey,appName:b.name,v:U.SDK_VERSION},M=b1.get(b.config.apiHost);M&&(w.eid=M);const k=b._getFrameworks();return k.length&&(w.fw=k.join(",")),`${_}?${(0,R.xO)(w).slice(1)}`}function Nu(){return Nu=(0,l.Z)(function*(b){const p=yield function wg(b){return Su=Su||function gs(b){return new Promise((p,_)=>{var w,M,k;function Q(){Dl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Dl(),_(De(b,"network-request-failed"))},timeout:Gc.get()})}if(null!==(M=null===(w=nr().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(k=nr().gapi)||void 0===k||!k.load){const ce=Dr("iframefcb");return nr()[ce]=()=>{gapi.load?Q():_(De(b,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${ce}`).catch(qe=>_(qe))}Q()}}).catch(p=>{throw Su=null,p})}(b),Su}(b),_=nr().gapi;return le(_,b,"internal-error"),p.open({where:document.body,url:Mu(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v1,dontclear:!0},w=>new Promise(function(){var M=(0,l.Z)(function*(k,Q){yield w.restyle({setHideOnLeave:!1});const ce=De(b,"network-request-failed"),qe=nr().setTimeout(()=>{Q(ce)},gi.get());function st(){nr().clearTimeout(qe),k(w)}w.ping(st).then(st,()=>{Q(ce)})});return function(k,Q){return M.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const qc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Si=500,Ru=600,Dg="_blank",Cg="http://localhost";class si{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Uy="__/auth/handler",w1="emulator/auth/handler",Vy=encodeURIComponent("fac");function hf(b,p,_,w,M,k){return xu.apply(this,arguments)}function xu(){return(xu=(0,l.Z)(function*(b,p,_,w,M,k){le(b.config.authDomain,b,"auth-domain-config-required"),le(b.config.apiKey,b,"invalid-api-key");const Q={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:U.SDK_VERSION,eventId:M};if(p instanceof xs){p.setDefaultLanguage(b.languageCode),Q.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Et,Wt]of Object.entries(k||{}))Q[Et]=Wt}if(p instanceof Po){const Et=p.getScopes().filter(Wt=>""!==Wt);Et.length>0&&(Q.scopes=Et.join(","))}b.tenantId&&(Q.tid=b.tenantId);const ce=Q;for(const Et of Object.keys(ce))void 0===ce[Et]&&delete ce[Et];const qe=yield b._getAppCheckToken(),st=qe?`#${Vy}=${encodeURIComponent(qe)}`:"";return`${function $y({config:b}){return b.emulator?Ae(b,w1):`https://${b.authDomain}/${Uy}`}(b)}?${(0,R.xO)(ce).slice(1)}${st}`})).apply(this,arguments)}const Zc="webStorageSupport",Yc=class jy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ai,this._completeRedirectFn=lf,this._overrideRedirectResult=Go}_openPopup(p,_,w,M){var k=this;return(0,l.Z)(function*(){var Q;vt(null===(Q=k.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const ce=yield hf(p,_,w,et(),M);return function Wc(b,p,_,w=Si,M=Ru){const k=Math.max((window.screen.availHeight-M)/2,0).toString(),Q=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const qe=Object.assign(Object.assign({},qc),{width:w.toString(),height:M.toString(),top:k,left:Q}),st=(0,R.z$)().toLowerCase();_&&(ce=x(st)?Dg:_),F(st)&&(p=p||Cg,qe.scrollbars="yes");const Et=Object.entries(qe).reduce((mi,[Bs,Qc])=>`${mi}${Bs}=${Qc},`,"");if(function Ft(b=(0,R.z$)()){var p;return xt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(st)&&"_self"!==ce)return function By(b,p){const _=document.createElement("a");_.href=b,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",ce),new si(null);const Wt=window.open(p||"",ce,Et);le(Wt,b,"popup-blocked");try{Wt.focus()}catch{}return new si(Wt)}(p,ce,Vo())})()}_openRedirect(p,_,w,M){var k=this;return(0,l.Z)(function*(){return yield k._originValidation(p),function _u(b){nr().location.href=b}(yield hf(p,_,w,et(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:k}=this.eventManagers[_];return M?Promise.resolve(M):(vt(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const w=yield function Cl(b){return Nu.apply(this,arguments)}(p),M=new vg(p);return w.register("authEvent",k=>(le(k?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=w,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Zc,{type:Zc},M=>{var k;const Q=null===(k=M?.[0])||void 0===k?void 0:k[Zc];void 0!==Q&&_(!!Q),Re(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function cf(b){return wl.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return jt()||L()||xt()}};class Ca{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return nt("unexpected MultiFactorSessionType")}}}class zo extends Ca{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new zo(p)}_finalizeEnroll(p,_,w){return function Br(b,p){return Bt(b,"POST","/v2/accounts/mfaEnrollment:finalize",ze(b,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function ml(b,p){return Bt(b,"POST","/v2/accounts/mfaSignIn:finalize",ze(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Il=(()=>{class b{constructor(){}static assertion(_){return zo._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Kc="@firebase/auth";class Ia{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Eg=(0,R.Pz)("authIdTokenMaxAge")||300;let Hy=null;const Tg=b=>function(){var p=(0,l.Z)(function*(_){const w=_&&(yield _.getIdTokenResult()),M=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(M&&M>Eg)return;const k=w?.token;Hy!==k&&(Hy=k,yield fetch(b,{method:k?"POST":"DELETE",headers:k?{Authorization:`Bearer ${k}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function D1(b=(0,U.getApp)()){const p=(0,U._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const _=function Cr(b,p){const _=(0,U._getProvider)(b,"auth");if(_.isInitialized()){const M=_.getImmediate(),k=_.getOptions();if((0,R.vZ)(k,p??{}))return M;Re(M,"already-initialized")}return _.initialize({options:p})}(b,{popupRedirectResolver:Yc,persistence:[Yh,Pc,Ai]}),w=(0,R.Pz)("authTokenSyncURL");if(w){const k=Tg(w);(function _a(b,p,_){(0,R.m9)(b).beforeAuthStateChanged(p,_)})(_,k,()=>k(_.currentUser)),function cl(b,p,_,w){(0,R.m9)(b).onIdTokenChanged(p,_,w)}(_,Q=>k(Q))}const M=(0,R.q4)("auth");return M&&Vn(_,`http://${M}`),_}!function Pu(b){(0,U._registerComponent)(new ve.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),k=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:ce}=w.options;le(Q&&!Q.includes(":"),"invalid-api-key",{appName:w.name}),le(!ce?.includes(":"),"argument-error",{appName:w.name});const qe={apiKey:Q,authDomain:ce,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ms(b)},st=new qn(w,M,k,qe);return function ar(b,p){const _=p?.persistence||[],w=(Array.isArray(_)?_:[_]).map(Un);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(w,p?.popupRedirectResolver)}(st,_),st},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,U._registerComponent)(new ve.wA("auth-internal",p=>{const _=_n(p.getProvider("auth").getImmediate());return new Ia(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,U.registerVersion)(Kc,"0.23.1",function Jc(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,U.registerVersion)(Kc,"0.23.1","esm2017")}("Browser")},2090:(At,de,$)=>{"use strict";$.d(de,{$s:()=>Un,BH:()=>Ne,G6:()=>Ae,L:()=>He,LL:()=>bt,P0:()=>Ge,Pz:()=>De,Sg:()=>Ke,UG:()=>nt,US:()=>ve,ZB:()=>ee,ZR:()=>Bt,aH:()=>Re,b$:()=>tn,eu:()=>je,hl:()=>Je,jU:()=>vt,m9:()=>di,ne:()=>zt,pd:()=>Ht,q4:()=>me,r3:()=>Gn,ru:()=>et,tV:()=>W,uI:()=>le,vZ:()=>ie,w1:()=>ge,xO:()=>sn,xb:()=>J,z$:()=>$e,zI:()=>ft,zd:()=>qt});const fe=function(G){const H=[];let F=0;for(let L=0;L<G.length;L++){let x=G.charCodeAt(L);x<128?H[F++]=x:x<2048?(H[F++]=x>>6|192,H[F++]=63&x|128):55296==(64512&x)&&L+1<G.length&&56320==(64512&G.charCodeAt(L+1))?(x=65536+((1023&x)<<10)+(1023&G.charCodeAt(++L)),H[F++]=x>>18|240,H[F++]=x>>12&63|128,H[F++]=x>>6&63|128,H[F++]=63&x|128):(H[F++]=x>>12|224,H[F++]=x>>6&63|128,H[F++]=63&x|128)}return H},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let x=0;x<G.length;x+=3){const Z=G[x],Ie=x+1<G.length,ut=Ie?G[x+1]:0,Pt=x+2<G.length,xt=Pt?G[x+2]:0;let Pn=(15&ut)<<2|xt>>6,jt=63&xt;Pt||(jt=64,Ie||(Pn=64)),L.push(F[Z>>2],F[(3&Z)<<4|ut>>4],F[Pn],F[jt])}return L.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(fe(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let F=0,L=0;for(;F<G.length;){const x=G[F++];if(x<128)H[L++]=String.fromCharCode(x);else if(x>191&&x<224){const Z=G[F++];H[L++]=String.fromCharCode((31&x)<<6|63&Z)}else if(x>239&&x<365){const Pt=((7&x)<<18|(63&G[F++])<<12|(63&G[F++])<<6|63&G[F++])-65536;H[L++]=String.fromCharCode(55296+(Pt>>10)),H[L++]=String.fromCharCode(56320+(1023&Pt))}else{const Z=G[F++],Ie=G[F++];H[L++]=String.fromCharCode((15&x)<<12|(63&Z)<<6|63&Ie)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const F=H?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let x=0;x<G.length;){const Z=F[G.charAt(x++)],ut=x<G.length?F[G.charAt(x)]:0;++x;const xt=x<G.length?F[G.charAt(x)]:64;++x;const Ft=x<G.length?F[G.charAt(x)]:64;if(++x,null==Z||null==ut||null==xt||null==Ft)throw new ke;L.push(Z<<2|ut>>4),64!==xt&&(L.push(ut<<4&240|xt>>2),64!==Ft&&L.push(xt<<6&192|Ft))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(G){return function(G){const H=fe(G);return ve.encodeByteArray(H,!0)}(G).replace(/\./g,"")},W=function(G){try{return ve.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ee(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const F in H)!H.hasOwnProperty(F)||!Ye(F)||(G[F]=ee(G[F],H[F]));return G}function Ye(G){return"__proto__"!==G}const Me=()=>{try{return function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&W(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},me=G=>{var H,F;return null===(F=null===(H=Me())||void 0===H?void 0:H.emulatorHosts)||void 0===F?void 0:F[G]},Ge=G=>{const H=me(G);if(!H)return;const F=H.lastIndexOf(":");if(F<=0||F+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const L=parseInt(H.substring(F+1),10);return"["===H[0]?[H.substring(1,F-1),L]:[H.substring(0,F),L]},Re=()=>{var G;return null===(G=Me())||void 0===G?void 0:G.config},De=G=>{var H;return null===(H=Me())||void 0===H?void 0:H[`_${G}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,F)=>{this.resolve=H,this.reject=F})}wrapCallback(H){return(F,L)=>{F?this.reject(F):this.resolve(L),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(F):H(F,L))}}}function Ke(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=H||"demo-project",x=G.iat||0,Z=G.sub||G.user_id;if(!Z)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:x,exp:x+3600,auth_time:x,sub:Z,user_id:Z,firebase:{sign_in_provider:"custom",identities:{}}},G);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(Ie)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function nt(){var G;const H=null===(G=Me())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function vt(){return"object"==typeof self&&self.self===self}function et(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const G=$e();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ae(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((G,H)=>{try{let F=!0;const L="validate-browser-context-for-indexeddb-analytics-module",x=self.indexedDB.open(L);x.onsuccess=()=>{x.result.close(),F||self.indexedDB.deleteDatabase(L),G(!0)},x.onupgradeneeded=()=>{F=!1},x.onerror=()=>{var Z;H((null===(Z=x.error)||void 0===Z?void 0:Z.message)||"")}}catch(F){H(F)}})}function ft(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Bt extends Error{constructor(H,F,L){super(F),this.code=H,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}}class bt{constructor(H,F,L){this.service=H,this.serviceName=F,this.errors=L}create(H,...F){const L=F[0]||{},x=`${this.service}/${H}`,Z=this.errors[H],Ie=Z?function kt(G,H){return G.replace(yt,(F,L)=>{const x=H[L];return null!=x?String(x):`<${L}?>`})}(Z,L):"Error";return new Bt(x,`${this.serviceName}: ${Ie} (${x}).`,L)}}const yt=/\{\$([^}]+)}/g;function Gn(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function J(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function ie(G,H){if(G===H)return!0;const F=Object.keys(G),L=Object.keys(H);for(const x of F){if(!L.includes(x))return!1;const Z=G[x],Ie=H[x];if(Be(Z)&&Be(Ie)){if(!ie(Z,Ie))return!1}else if(Z!==Ie)return!1}for(const x of L)if(!F.includes(x))return!1;return!0}function Be(G){return null!==G&&"object"==typeof G}function sn(G){const H=[];for(const[F,L]of Object.entries(G))Array.isArray(L)?L.forEach(x=>{H.push(encodeURIComponent(F)+"="+encodeURIComponent(x))}):H.push(encodeURIComponent(F)+"="+encodeURIComponent(L));return H.length?"&"+H.join("&"):""}function qt(G){const H={};return G.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[x,Z]=L.split("=");H[decodeURIComponent(x)]=decodeURIComponent(Z)}}),H}function Ht(G){const H=G.indexOf("?");if(!H)return"";const F=G.indexOf("#",H);return G.substring(H,F>0?F:void 0)}function zt(G,H){const F=new mt(G,H);return F.subscribe.bind(F)}class mt{constructor(H,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{H(this)}).catch(L=>{this.error(L)})}next(H){this.forEachObserver(F=>{F.next(H)})}error(H){this.forEachObserver(F=>{F.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,F,L){let x;if(void 0===H&&void 0===F&&void 0===L)throw new Error("Missing Observer.");x=function Nn(G,H){if("object"!=typeof G||null===G)return!1;for(const F of H)if(F in G&&"function"==typeof G[F])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:F,complete:L},void 0===x.next&&(x.next=Cn),void 0===x.error&&(x.error=Cn),void 0===x.complete&&(x.complete=Cn);const Z=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?x.error(this.finalError):x.complete()}catch{}}),this.observers.push(x),Z}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,H)}sendOne(H,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{F(this.observers[H])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}const Kt=1e3,Yn=2,Qn=144e5,qr=.5;function Un(G,H=Kt,F=Yn){const L=H*Math.pow(F,G),x=Math.round(qr*L*(Math.random()-.5)*2);return Math.min(Qn,L+x)}function di(G){return G&&G._delegate?G._delegate:G}},6087:(At,de,$)=>{"use strict";var l=$(4650);let R=null;function U(){return R}class Te{}const ve=new l.OlP("DocumentToken");let ke=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Se(){return(0,l.LFG)(W)}()},providedIn:"platform"}),n})();const He=new l.OlP("Location Initialized");let W=(()=>{class n extends ke{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=U().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){z()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){z()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ee(){return new W((0,l.LFG)(ve))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function Ye(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Le(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let tt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Me)},providedIn:"root"}),n})();const ue=new l.OlP("appBaseHref");let Me=(()=>{class n extends tt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ye(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+it(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+it(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ke),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),me=(()=>{class n extends tt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ye(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+it(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+it(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ke),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ke(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Le(Ne(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=Ye,n.stripTrailingSlash=Le,n.\u0275fac=function(t){return new(t||n)(l.LFG(tt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return new Ge((0,l.LFG)(tt))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Percent=1]="Percent",le[le.Currency=2]="Currency",le[le.Scientific=3]="Scientific",le))(),vt=(()=>((vt=vt||{})[vt.Format=0]="Format",vt[vt.Standalone=1]="Standalone",vt))(),et=(()=>((et=et||{})[et.Narrow=0]="Narrow",et[et.Abbreviated=1]="Abbreviated",et[et.Wide=2]="Wide",et[et.Short=3]="Short",et))(),tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.Medium=1]="Medium",tn[tn.Long=2]="Long",tn[tn.Full=3]="Full",tn))(),ht=(()=>((ht=ht||{})[ht.Decimal=0]="Decimal",ht[ht.Group=1]="Group",ht[ht.List=2]="List",ht[ht.PercentSign=3]="PercentSign",ht[ht.PlusSign=4]="PlusSign",ht[ht.MinusSign=5]="MinusSign",ht[ht.Exponential=6]="Exponential",ht[ht.SuperscriptingExponent=7]="SuperscriptingExponent",ht[ht.PerMille=8]="PerMille",ht[ht.Infinity=9]="Infinity",ht[ht.NaN=10]="NaN",ht[ht.TimeSeparator=11]="TimeSeparator",ht[ht.CurrencyDecimal=12]="CurrencyDecimal",ht[ht.CurrencyGroup=13]="CurrencyGroup",ht))();function Ee(n,e,t){const r=(0,l.cg1)(n),o=se([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return se(o,t)}function Ae(n,e,t){const r=(0,l.cg1)(n),o=se([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return se(o,t)}function Je(n,e,t){const r=(0,l.cg1)(n),o=se([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return se(o,t)}function Bt(n,e){return se((0,l.cg1)(n)[l.wAp.DateFormat],e)}function bt(n,e){return se((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function kt(n,e){return se((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function yt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ht.CurrencyDecimal)return t[l.wAp.NumberSymbols][ht.Decimal];if(e===ht.CurrencyGroup)return t[l.wAp.NumberSymbols][ht.Group]}return r}function Bn(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function se(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function ie(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const qt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ht={},Rt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var zt=(()=>((zt=zt||{})[zt.Short=0]="Short",zt[zt.ShortGMT=1]="ShortGMT",zt[zt.Long=2]="Long",zt[zt.Extended=3]="Extended",zt))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),Xe=(()=>((Xe=Xe||{})[Xe.DayPeriods=0]="DayPeriods",Xe[Xe.Days=1]="Days",Xe[Xe.Months=2]="Months",Xe[Xe.Eras=3]="Eras",Xe))();function Nn(n,e,t,r){let i=function x(n){if(Ie(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,c=1]=n.split("-").map(f=>+f);return Cn(i,o-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(qt))return function Z(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,m=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,c,f,m,v),e}(r)}const e=new Date(n);if(!Ie(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=An(t,e)||e;let f,c=[];for(;e;){if(f=Rt.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const C=c.pop();if(!C)break;e=C}}let m=i.getTimezoneOffset();r&&(m=H(r,m),i=function L(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function F(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(H(e,i)-i))}(i,r,!0));let v="";return c.forEach(C=>{const A=function G(n){if(di[n])return di[n];let e;switch(n){case"G":case"GG":case"GGG":e=on(Xe.Eras,et.Abbreviated);break;case"GGGG":e=on(Xe.Eras,et.Wide);break;case"GGGGG":e=on(Xe.Eras,et.Narrow);break;case"y":e=Yt(mt.FullYear,1,0,!1,!0);break;case"yy":e=Yt(mt.FullYear,2,0,!0,!0);break;case"yyy":e=Yt(mt.FullYear,3,0,!1,!0);break;case"yyyy":e=Yt(mt.FullYear,4,0,!1,!0);break;case"Y":e=Ci(1);break;case"YY":e=Ci(2,!0);break;case"YYY":e=Ci(3);break;case"YYYY":e=Ci(4);break;case"M":case"L":e=Yt(mt.Month,1,1);break;case"MM":case"LL":e=Yt(mt.Month,2,1);break;case"MMM":e=on(Xe.Months,et.Abbreviated);break;case"MMMM":e=on(Xe.Months,et.Wide);break;case"MMMMM":e=on(Xe.Months,et.Narrow);break;case"LLL":e=on(Xe.Months,et.Abbreviated,vt.Standalone);break;case"LLLL":e=on(Xe.Months,et.Wide,vt.Standalone);break;case"LLLLL":e=on(Xe.Months,et.Narrow,vt.Standalone);break;case"w":e=ci(1);break;case"ww":e=ci(2);break;case"W":e=ci(1,!0);break;case"d":e=Yt(mt.Date,1);break;case"dd":e=Yt(mt.Date,2);break;case"c":case"cc":e=Yt(mt.Day,1);break;case"ccc":e=on(Xe.Days,et.Abbreviated,vt.Standalone);break;case"cccc":e=on(Xe.Days,et.Wide,vt.Standalone);break;case"ccccc":e=on(Xe.Days,et.Narrow,vt.Standalone);break;case"cccccc":e=on(Xe.Days,et.Short,vt.Standalone);break;case"E":case"EE":case"EEE":e=on(Xe.Days,et.Abbreviated);break;case"EEEE":e=on(Xe.Days,et.Wide);break;case"EEEEE":e=on(Xe.Days,et.Narrow);break;case"EEEEEE":e=on(Xe.Days,et.Short);break;case"a":case"aa":case"aaa":e=on(Xe.DayPeriods,et.Abbreviated);break;case"aaaa":e=on(Xe.DayPeriods,et.Wide);break;case"aaaaa":e=on(Xe.DayPeriods,et.Narrow);break;case"b":case"bb":case"bbb":e=on(Xe.DayPeriods,et.Abbreviated,vt.Standalone,!0);break;case"bbbb":e=on(Xe.DayPeriods,et.Wide,vt.Standalone,!0);break;case"bbbbb":e=on(Xe.DayPeriods,et.Narrow,vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=on(Xe.DayPeriods,et.Abbreviated,vt.Format,!0);break;case"BBBB":e=on(Xe.DayPeriods,et.Wide,vt.Format,!0);break;case"BBBBB":e=on(Xe.DayPeriods,et.Narrow,vt.Format,!0);break;case"h":e=Yt(mt.Hours,1,-12);break;case"hh":e=Yt(mt.Hours,2,-12);break;case"H":e=Yt(mt.Hours,1);break;case"HH":e=Yt(mt.Hours,2);break;case"m":e=Yt(mt.Minutes,1);break;case"mm":e=Yt(mt.Minutes,2);break;case"s":e=Yt(mt.Seconds,1);break;case"ss":e=Yt(mt.Seconds,2);break;case"S":e=Yt(mt.FractionalSeconds,1);break;case"SS":e=Yt(mt.FractionalSeconds,2);break;case"SSS":e=Yt(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Kt(zt.Short);break;case"ZZZZZ":e=Kt(zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Kt(zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Kt(zt.Long);break;default:return null}return di[n]=e,e}(C);v+=A?A(i,t,m):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Cn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function An(n,e){const t=function _e(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Ht[t]=Ht[t]||{},Ht[t][e])return Ht[t][e];let r="";switch(e){case"shortDate":r=Bt(n,tn.Short);break;case"mediumDate":r=Bt(n,tn.Medium);break;case"longDate":r=Bt(n,tn.Long);break;case"fullDate":r=Bt(n,tn.Full);break;case"shortTime":r=bt(n,tn.Short);break;case"mediumTime":r=bt(n,tn.Medium);break;case"longTime":r=bt(n,tn.Long);break;case"fullTime":r=bt(n,tn.Full);break;case"short":const i=An(n,"shortTime"),o=An(n,"shortDate");r=pn(kt(n,tn.Short),[i,o]);break;case"medium":const c=An(n,"mediumTime"),f=An(n,"mediumDate");r=pn(kt(n,tn.Medium),[c,f]);break;case"long":const m=An(n,"longTime"),v=An(n,"longDate");r=pn(kt(n,tn.Long),[m,v]);break;case"full":const C=An(n,"fullTime"),A=An(n,"fullDate");r=pn(kt(n,tn.Full),[C,A])}return r&&(Ht[t][e]=r),r}function pn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function zn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),o+c}function Yt(n,e,t=0,r=!1,i=!1){return function(o,c){let f=function ri(n,e){switch(n){case mt.FullYear:return e.getFullYear();case mt.Month:return e.getMonth();case mt.Date:return e.getDate();case mt.Hours:return e.getHours();case mt.Minutes:return e.getMinutes();case mt.Seconds:return e.getSeconds();case mt.FractionalSeconds:return e.getMilliseconds();case mt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||f>-t)&&(f+=t),n===mt.Hours)0===f&&-12===t&&(f=12);else if(n===mt.FractionalSeconds)return function On(n,e){return zn(n,3).substring(0,e)}(f,e);const m=yt(c,ht.MinusSign);return zn(f,e,m,r,i)}}function on(n,e,t=vt.Format,r=!1){return function(i,o){return function Ss(n,e,t,r,i,o){switch(t){case Xe.Months:return Je(e,i,r)[n.getMonth()];case Xe.Days:return Ae(e,i,r)[n.getDay()];case Xe.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(o){const v=function Gn(n){const e=(0,l.cg1)(n);return Bn(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?ie(r):[ie(r[0]),ie(r[1])])}(e),C=function re(n,e,t){const r=(0,l.cg1)(n);Bn(r);const o=se([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return se(o,t)||[]}(e,i,r),A=v.findIndex(P=>{if(Array.isArray(P)){const[B,q]=P,te=c>=B.hours&&f>=B.minutes,oe=c<q.hours||c===q.hours&&f<q.minutes;if(B.hours<q.hours){if(te&&oe)return!0}else if(te||oe)return!0}else if(P.hours===c&&P.minutes===f)return!0;return!1});if(-1!==A)return C[A]}return Ee(e,i,r)[c<12?0:1];case Xe.Eras:return function je(n,e){return se((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function Kt(n){return function(e,t,r){const i=-1*r,o=yt(t,ht.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case zt.Short:return(i>=0?"+":"")+zn(c,2,o)+zn(Math.abs(i%60),2,o);case zt.ShortGMT:return"GMT"+(i>=0?"+":"")+zn(c,1,o);case zt.Long:return"GMT"+(i>=0?"+":"")+zn(c,2,o)+":"+zn(Math.abs(i%60),2,o);case zt.Extended:return 0===r?"Z":(i>=0?"+":"")+zn(c,2,o)+":"+zn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Yn=0,Qn=4;function Un(n){return Cn(n.getFullYear(),n.getMonth(),n.getDate()+(Qn-n.getDay()))}function ci(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+o)/7)}else{const o=Un(t),c=function qr(n){const e=Cn(n,Yn,1).getDay();return Cn(n,0,1+(e<=Qn?Qn:Qn+7)-e)}(o.getFullYear()),f=o.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return zn(i,n,yt(r,ht.MinusSign))}}function Ci(n,e=!1){return function(t,r){return zn(Un(t).getFullYear(),n,yt(r,ht.MinusSign),e)}}const di={};function H(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ie(n){return n instanceof Date&&!isNaN(n.valueOf())}const ut=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Pt=22,xt=".",Jt="0",Ft=";",Pn=",",jt="#";function dn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function So(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class Cr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ar=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Cr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const f=r.get(o);r.move(f,c),Vn(f,i)}});for(let i=0,o=r.length;i<o;i++){const f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Vn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Vn(n,e){n.context.$implicit=e.item}let er=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xt{constructor(){this.$implicit=null,this.ngIf=null}}function Wa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let hi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();let Mh=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function nu(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Ve(n,e,t){return function pe(n,e,t,r,i,o,c=!1){let f="",m=!1;if(isFinite(n)){let v=function It(n){let r,i,o,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf(xt))>-1&&(e=e.replace(xt,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Jt;o++);if(o===(f=e.length))r=[0],i=1;else{for(f--;e.charAt(f)===Jt;)f--;for(i-=o,r=[],c=0;o<=f;o++,c++)r[c]=Number(e.charAt(o))}return i>Pt&&(r=r.splice(0,Pt-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(v=function nn(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let C=e.minInt,A=e.minFrac,P=e.maxFrac;if(o){const Oe=o.match(ut);if(null===Oe)throw new Error(`${o} is not a valid digit info`);const Fe=Oe[1],Ze=Oe[3],rt=Oe[5];null!=Fe&&(C=dn(Fe)),null!=Ze&&(A=dn(Ze)),null!=rt?P=dn(rt):null!=Ze&&A>P&&(P=A)}!function mn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let c=o+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let A=c;A<r.length;A++)r[A]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=o+1),r[0]=0;for(let A=1;A<c;A++)r[A]=0}if(f>=5)if(c-1<0){for(let A=0;A>c;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,o);i++)r.push(0);let m=0!==o;const v=e+n.integerLen,C=r.reduceRight(function(A,P,B,q){return q[B]=(P+=A)<10?P:P-10,m&&(0===q[B]&&B>=v?q.pop():m=!1),P>=10?1:0},0);C&&(r.unshift(C),n.integerLen++)}(v,A,P);let B=v.digits,q=v.integerLen;const te=v.exponent;let oe=[];for(m=B.every(Oe=>!Oe);q<C;q++)B.unshift(0);for(;q<0;q++)B.unshift(0);q>0?oe=B.splice(q,B.length):(oe=B,B=[0]);const Ce=[];for(B.length>=e.lgSize&&Ce.unshift(B.splice(-e.lgSize,B.length).join(""));B.length>e.gSize;)Ce.unshift(B.splice(-e.gSize,B.length).join(""));B.length&&Ce.unshift(B.join("")),f=Ce.join(yt(t,r)),oe.length&&(f+=yt(t,i)+oe.join("")),te&&(f+=yt(t,ht.Exponential)+"+"+te)}else f=yt(t,ht.Infinity);return f=n<0&&!m?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function Ut(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Ft),i=r[0],o=r[1],c=-1!==i.indexOf(xt)?i.split(xt):[i.substring(0,i.lastIndexOf(Jt)+1),i.substring(i.lastIndexOf(Jt)+1)],f=c[0],m=c[1]||"";t.posPre=f.substring(0,f.indexOf(jt));for(let C=0;C<m.length;C++){const A=m.charAt(C);A===Jt?t.minFrac=t.maxFrac=C+1:A===jt?t.maxFrac=C+1:t.posSuf+=A}const v=f.split(Pn);if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,o){const C=i.length-t.posPre.length-t.posSuf.length,A=o.indexOf(jt);t.negPre=o.substring(0,A).replace(/'/g,""),t.negSuf=o.slice(A+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Zt(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,le.Percent),yt(e,ht.MinusSign)),e,ht.Group,ht.Decimal,t,!0).replace(new RegExp("%","g"),yt(e,ht.PercentSign))}(function ru(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw function Ei(n,e){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Rh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const xh="browser",Oo="server";function Po(n){return n===Oo}let Ya=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new kh((0,l.LFG)(ve),window)}),n})();class kh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Dc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=to(this.window.history)||to(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function to(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Cc{}class xc extends Te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cl extends xc{static makeCurrent(){!function fe(n){R||(R=n)}(new cl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ya(){return _a=_a||document.querySelector("base"),_a?_a.getAttribute("href"):null}();return null==t?null:function hu(n){io=io||document.createElement("a"),io.setAttribute("href",n);const e=io.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return So(document.cookie,e)}}let io,_a=null;const I=new l.OlP("TRANSITION_ID"),N=[{provide:l.ip1,useFactory:function E(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=U(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[I,ve,l.zs3],multi:!0}];let be=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const St=new l.OlP("EventManagerPlugins");let En=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(St),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Br{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=U().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ur=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Vi=(()=>{class n extends Ur{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ps={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dl=/%COMP%/g,mu=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Pc(n,e){return e.flat(100).map(t=>t.replace(dl,n))}function wy(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ai=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new zh(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Fc?i.applyToHost(t):i instanceof _u&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const c=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(r.encapsulation){case l.ifc.Emulated:o=new Fc(c,f,r,this.appId,m);break;case l.ifc.ShadowDom:return new nr(c,f,t,r);default:o=new _u(c,f,r,m)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(En),l.LFG(Vi),l.LFG(l.AFp),l.LFG(mu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class zh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ps[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(qh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(qh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=ps[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ps[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wy(r)):this.eventManager.addEventListener(e,t,wy(r))}}function qh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class nr extends zh{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Pc(i.id,i.styles);for(const c of o){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _u extends zh{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Pc(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Fc extends _u{constructor(e,t,r,i,o){const c=i+"-"+r.id;super(e,t,r,o,c),this.contentAttr=function m1(n){return"_ngcontent-%COMP%".replace(dl,n)}(c),this.hostAttr=function by(n){return"_nghost-%COMP%".replace(dl,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let og=(()=>{class n extends Br{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const yu=["alt","control","meta","shift"],ag={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lg={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ug=(()=>{class n extends Br{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),yu.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),c+=v+".")}),c+=o,0!=r.length||0===o.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=ag[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yu.forEach(c=>{c!==i&&(0,lg[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Cy=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:xh},{provide:l.g9A,useValue:function fl(){cl.makeCurrent()},multi:!0},{provide:ve,useFactory:function Zh(){return(0,l.RDi)(document),document},deps:[]}]),vu=new l.OlP(""),bu=[{provide:l.rWj,useClass:class j{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const f=function(m){c=c||m,o--,0==o&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?U().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ba=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Wh(){return new l.qLn},deps:[]},{provide:St,useClass:og,multi:!0,deps:[ve,l.R0b,l.Lbi]},{provide:St,useClass:ug,multi:!0,deps:[ve]},{provide:Ai,useClass:Ai,deps:[En,Vi,l.AFp,mu]},{provide:l.FYo,useExisting:Ai},{provide:Ur,useExisting:Vi},{provide:Vi,useClass:Vi,deps:[ve]},{provide:En,useClass:En,deps:[St,l.R0b]},{provide:Cc,useClass:be,deps:[]},[]];let gl=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:I,useExisting:l.AFp},N]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(vu,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...ba,...bu],imports:[Rh,l.hGG]}),n})(),Iy=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ml(){return new Iy((0,l.LFG)(ve))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var vn=$(8996),Zn=$(9751);const{isArray:vl}=Array,{getPrototypeOf:Vc,prototype:My,keys:Ny}=Object;function gg(n){if(1===n.length){const e=n[0];if(vl(e))return{args:e,keys:null};if(function ef(n){return n&&"object"==typeof n&&Vc(n)===My}(e)){const t=Ny(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ns=$(8421),$o=$(3269),Fn=$(5403),_t=$(4004);const{isArray:tf}=Array;function $c(n){return(0,_t.U)(e=>function wa(n,e){return tf(e)?n(...e):n(e)}(n,e))}function jo(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let rf=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),pi=(()=>{class n extends rf{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Zr=new l.OlP("NgValueAccessor"),mg={provide:Zr,useExisting:(0,l.Gpc)(()=>Du),multi:!0};let Du=(()=>{class n extends pi{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[l._Bn([mg]),l.qOj]}),n})();const sf={provide:Zr,useExisting:(0,l.Gpc)(()=>Go),multi:!0},Cu=new l.OlP("CompositionEventMode");let Go=(()=>{class n extends rf{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ho(){const n=U()?U().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Cu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[l._Bn([sf]),l.qOj]}),n})();const Ry=!1;function Fs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _g(n){return null!=n&&"number"==typeof n.length}const ii=new l.OlP("NgValidators"),Ls=new l.OlP("NgAsyncValidators"),xy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rn{static min(e){return function Da(n){return e=>{if(Fs(e.value)||Fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function af(n){return e=>{if(Fs(e.value)||Fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function yg(n){return Fs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Iu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Oy(n){return Fs(n.value)||xy.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Eu(n){return e=>Fs(e.value)||!_g(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function lf(n){return e=>_g(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function jc(n){if(!n)return Tu;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return bg(e)}static composeAsync(e){return Ly(e)}}function Tu(n){return null}function bl(n){return null!=n}function Py(n){const e=(0,l.QGY)(n)?(0,vn.D)(n):n;if(Ry&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function vg(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Au(n,e){return e.map(t=>t(n))}function Fy(n){return n.map(e=>function ky(n){return!n.validate}(e)?e:t=>e.validate(t))}function bg(n){if(!n)return null;const e=n.filter(bl);return 0==e.length?null:function(t){return vg(Au(t,e))}}function Hc(n){return null!=n?bg(Fy(n)):null}function Ly(n){if(!n)return null;const e=n.filter(bl);return 0==e.length?null:function(t){return function nf(...n){const e=(0,$o.jO)(n),{args:t,keys:r}=gg(n),i=new Zn.y(o=>{const{length:c}=t;if(!c)return void o.complete();const f=new Array(c);let m=c,v=c;for(let C=0;C<c;C++){let A=!1;(0,ns.Xf)(t[C]).subscribe((0,Fn.x)(o,P=>{A||(A=!0,v--),f[C]=P},()=>m--,void 0,()=>{(!m||!A)&&(v||o.next(r?jo(r,f):f),o.complete())}))}});return e?i.pipe($c(e)):i}(Au(t,e).map(Py)).pipe((0,_t.U)(vg))}}function uf(n){return null!=n?Ly(Fy(n)):null}function cf(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wl(n){return n._rawValidators}function df(n){return n._rawAsyncValidators}function Gc(n){return n?Array.isArray(n)?n:[n]:[]}function Dl(n,e){return Array.isArray(n)?n.includes(e):n===e}function gs(n,e){const t=Gc(e);return Gc(n).forEach(i=>{Dl(t,i)||t.push(i)}),t}function Su(n,e){return Gc(e).filter(t=>!Dl(n,t))}class wg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class gi extends wg{get formDirective(){return null}get path(){return null}}class oo extends wg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zc{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mu=(()=>{class n extends zc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oo,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),Cl=(()=>{class n extends zc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();function xu(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Yc=!1,Ca="VALID",zo="INVALID",Il="PENDING",qo="DISABLED";function Ou(n){return(El(n)?n.validators:n)||null}function Wo(n,e){return(El(e)?e.asyncValidators:n)||null}function El(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ia(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,Yc?function $y(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new l.vHH(1001,Yc?function Zc(n,e){return`Cannot find form control ${xu(n,e)}`}(e,t):"")}function Jc(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,Yc?function jy(n,e){return`Must supply a value for form control ${xu(n,e)}`}(e,i):"")})}class Pu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ca}get invalid(){return this.status===zo}get pending(){return this.status==Il}get disabled(){return this.status===qo}get enabled(){return this.status!==qo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Su(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Su(e,this._rawAsyncValidators))}hasValidator(e){return Dl(this._rawValidators,e)}hasAsyncValidator(e){return Dl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Il,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qo,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ca,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ca||this.status===Il)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qo:Ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Il,this._hasOwnPendingAsyncValidator=!0;const t=Py(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?qo:this.errors?zo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Il)?Il:this._anyControlsHaveStatus(zo)?zo:Ca}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){El(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ig(n){return Array.isArray(n)?Hc(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Kc(n){return Array.isArray(n)?uf(n):n||null}(this._rawAsyncValidators)}}class ku extends Pu{constructor(e,t,r){super(Ou(t),Wo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Jc(this,!0,e),Object.keys(e).forEach(r=>{Ia(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Tg extends ku{}const b=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>p}),p="always";function _(n,e){return[...e.path,n]}function w(n,e,t=p){ce(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function st(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Wt(n,e)})}(n,e),function mi(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Et(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Wt(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Q(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function M(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qe(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function k(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ce(n,e){const t=wl(n);null!==e.validator?n.setValidators(cf(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=df(n);null!==e.asyncValidator?n.setAsyncValidators(cf(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();k(e._rawValidators,i),k(e._rawAsyncValidators,i)}function qe(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=wl(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=df(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return k(e._rawValidators,r),k(e._rawAsyncValidators,r),t}function Wt(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bs(n,e){ce(n,e)}function Fu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Lu(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ea(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Go?t=o:function ed(n){return Object.getPrototypeOf(n.constructor)===pi}(o)?r=o:i=o}),i||r||t||null}const gf={provide:gi,useExisting:(0,l.Gpc)(()=>nd)},Bu=(()=>Promise.resolve())();let nd=(()=>{class n extends gi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new ku({},Hc(t),uf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bu.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),w(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bu.then(()=>{const r=this._findContainer(t.path),i=new ku({});Bs(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bu.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Lu(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ii,10),l.Y36(Ls,10),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([gf]),l.qOj]}),n})();function rd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function I1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Al=class extends Pu{constructor(e=null,t,r){super(Ou(t),Wo(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),El(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=I1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){I1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},QT={provide:oo,useExisting:(0,l.Gpc)(()=>zy)},XT=(()=>Promise.resolve())();let zy=(()=>{class n extends oo{constructor(t,r,i,o,c,f){super(),this._changeDetectorRef=c,this.callSetDisabledState=f,this.control=new Al,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ea(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Fu(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){w(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){XT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);XT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?_(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gi,9),l.Y36(ii,10),l.Y36(Ls,10),l.Y36(Zr,10),l.Y36(l.sBO,8),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([QT]),l.qOj,l.TTD]}),n})(),Uu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const eA={provide:Zr,useExisting:(0,l.Gpc)(()=>sd),multi:!0};let sd=(()=>{class n extends pi{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[l._Bn([eA]),l.qOj]}),n})(),qy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Zy=new l.OlP("NgModelWithFormControlWarning"),nA={provide:gi,useExisting:(0,l.Gpc)(()=>ms)};let ms=(()=>{class n extends gi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return w(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){M(t.control||null,t,!1),function td(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Lu(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(M(r||null,t),(n=>n instanceof Al)(i)&&(w(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Bs(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Qc(n,e){return qe(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ce(this.form,this),this._oldForm&&qe(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ii,10),l.Y36(Ls,10),l.Y36(b,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([nA]),l.qOj,l.TTD]}),n})();const $O={provide:oo,useExisting:(0,l.Gpc)(()=>Mg)};let Mg=(()=>{class n extends oo{set isDisabled(t){}constructor(t,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Ea(0,o)}ngOnChanges(t){this._added||this._setUpControl(),Fu(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return _(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(gi,13),l.Y36(ii,10),l.Y36(Ls,10),l.Y36(Zr,10),l.Y36(Zy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([$O]),l.qOj,l.TTD]}),n})();const P1={provide:Zr,useExisting:(0,l.Gpc)(()=>Ng),multi:!0};function k1(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ng=(()=>{class n extends pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=k1(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function iA(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([P1]),l.qOj]}),n})(),F1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(k1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ng,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Ky={provide:Zr,useExisting:(0,l.Gpc)(()=>Rg),multi:!0};function Zo(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Rg=(()=>{class n extends pi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,c)=>{o._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const c=o;for(let f=0;f<c.length;f++){const v=this._getOptionValue(c[f].value);i.push(v)}}else{const c=r.options;for(let f=0;f<c.length;f++){const m=c[f];if(m.selected){const v=this._getOptionValue(m.value);i.push(v)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function _f(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Ky]),l.qOj]}),n})(),Jy=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Zo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Zo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Rg,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),H1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qy]}),n})();class G1 extends Pu{constructor(e,t,r){super(Ou(t),Wo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Jc(this,!1,e),e.forEach((r,i)=>{Ia(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function nv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let z1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return nv(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ku(i,o)}record(t,r=null){const i=this._reduceControls(t);return new Tg(i,r)}control(t,r,i){let o={};return this.useNonNullable?(nv(r)?o=r:(o.validators=r,o.asyncValidators=i),new Al(t,{...o,nonNullable:!0})):new Al(t,r,i)}array(t,r,i){const o=t.map(c=>this._createControl(c));return new G1(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Al||t instanceof Pu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:b,useValue:t.callSetDisabledState??p}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[H1]}),n})(),Z1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Zy,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:b,useValue:t.callSetDisabledState??p}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[H1]}),n})();function Ct(...n){const e=(0,$o.yG)(n);return(0,vn.D)(n,e)}var _i=$(5577),ao=$(576);function Ta(n,e){return(0,ao.m)(e)?(0,_i.z)(n,e,1):(0,_i.z)(n,1)}var Sr=$(4482);function rr(n,e){return(0,Sr.e)((t,r)=>{let i=0;t.subscribe((0,Fn.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}class rv{}class yf{}class Aa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Aa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Aa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Aa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===o.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class K1{encodeKey(e){return kg(e)}encodeValue(e){return kg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Vu=/%(\d[a-f0-9])/gi,hA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kg(n){return encodeURIComponent(n).replace(Vu,(e,t)=>hA[t]??e)}function $u(n){return`${n}`}class Sl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new K1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function J1(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,f]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],m=t.get(c)||[];m.push(f),t.set(c,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map($u):[$u(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Sl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($u(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($u(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Fg{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function iv(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Lg(n){return typeof Blob<"u"&&n instanceof Blob}function X1(n){return typeof FormData<"u"&&n instanceof FormData}class ad{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ju(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Aa),this.context||(this.context=new Fg),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new Sl,this.urlWithParams=t}serializeBody(){return null===this.body?null:iv(this.body)||Lg(this.body)||X1(this.body)||function fA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X1(this.body)?null:Lg(this.body)?this.body.type||null:iv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((A,P)=>A.set(P,e.setHeaders[P]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((A,P)=>A.set(P,e.setParams[P]),v)),new ad(t,r,o,{params:v,headers:m,context:C,reportProgress:f,responseType:i,withCredentials:c})}}var Jn=(()=>((Jn=Jn||{})[Jn.Sent=0]="Sent",Jn[Jn.UploadProgress=1]="UploadProgress",Jn[Jn.ResponseHeader=2]="ResponseHeader",Jn[Jn.DownloadProgress=3]="DownloadProgress",Jn[Jn.Response=4]="Response",Jn[Jn.User=5]="User",Jn))();class sv{constructor(e,t=200,r="OK"){this.headers=e.headers||new Aa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ov extends sv{constructor(e={}){super(e),this.type=Jn.ResponseHeader}clone(e={}){return new ov({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bg extends sv{constructor(e={}){super(e),this.type=Jn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ug extends sv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function av(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vf=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ad)o=t;else{let m,v;m=i.headers instanceof Aa?i.headers:new Aa(i.headers),i.params&&(v=i.params instanceof Sl?i.params:new Sl({fromObject:i.params})),o=new ad(t,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Ct(o).pipe(Ta(m=>this.handler.handle(m)));if(t instanceof ad||"events"===i.observe)return c;const f=c.pipe(rr(m=>m instanceof Bg));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe((0,_t.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,_t.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,_t.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,_t.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Sl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,av(i,r))}post(t,r,i={}){return this.request("POST",t,av(i,r))}put(t,r,i={}){return this.request("PUT",t,av(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function eD(n,e){return e(n)}function tD(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const pA=new l.OlP("HTTP_INTERCEPTORS"),Sa=new l.OlP("HTTP_INTERCEPTOR_FNS");function gA(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(pA,{optional:!0})??[]).reduceRight(tD,eD)),n(e,t))}let Hu=(()=>{class n extends rv{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Sa)));this.chain=r.reduceRight((i,o)=>function qO(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),eD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yf),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const uv=/^\)\]\}',?\n/;let iD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Zn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,q)=>i.setRequestHeader(B,q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const o=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const B=i.statusText||"OK",q=new Aa(i.getAllResponseHeaders()),te=function bf(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new ov({headers:q,status:i.status,statusText:B,url:te}),c},m=()=>{let{headers:B,status:q,statusText:te,url:oe}=f(),Ce=null;204!==q&&(Ce=typeof i.response>"u"?i.responseText:i.response),0===q&&(q=Ce?200:0);let Oe=q>=200&&q<300;if("json"===t.responseType&&"string"==typeof Ce){const Fe=Ce;Ce=Ce.replace(uv,"");try{Ce=""!==Ce?JSON.parse(Ce):null}catch(Ze){Ce=Fe,Oe&&(Oe=!1,Ce={error:Ze,text:Ce})}}Oe?(r.next(new Bg({body:Ce,headers:B,status:q,statusText:te,url:oe||void 0})),r.complete()):r.error(new Ug({error:Ce,headers:B,status:q,statusText:te,url:oe||void 0}))},v=B=>{const{url:q}=f(),te=new Ug({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:q||void 0});r.error(te)};let C=!1;const A=B=>{C||(r.next(f()),C=!0);let q={type:Jn.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),"text"===t.responseType&&i.responseText&&(q.partialText=i.responseText),r.next(q)},P=B=>{let q={type:Jn.UploadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),r.next(q)};return i.addEventListener("load",m),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",A),null!==o&&i.upload&&i.upload.addEventListener("progress",P)),i.send(o),r.next({type:Jn.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",m),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",A),null!==o&&i.upload&&i.upload.removeEventListener("progress",P)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const cv=new l.OlP("XSRF_ENABLED"),sD=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oD=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class aD{}let ld=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=So(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve),l.LFG(l.Lbi),l.LFG(sD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ma(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(cv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(aD).getToken(),i=(0,l.f3M)(oD);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Mr=(()=>((Mr=Mr||{})[Mr.Interceptors=0]="Interceptors",Mr[Mr.LegacyInterceptors=1]="LegacyInterceptors",Mr[Mr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Mr[Mr.NoXsrfProtection=3]="NoXsrfProtection",Mr[Mr.JsonpSupport=4]="JsonpSupport",Mr[Mr.RequestsMadeViaParent=5]="RequestsMadeViaParent",Mr))();function wf(n,e){return{\u0275kind:n,\u0275providers:e}}function XO(...n){const e=[vf,iD,Hu,{provide:rv,useExisting:Hu},{provide:yf,useExisting:iD},{provide:Sa,useValue:Ma,multi:!0},{provide:cv,useValue:!0},{provide:aD,useClass:ld}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const bA=new l.OlP("LEGACY_INTERCEPTOR_FN");let lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XO(wf(Mr.LegacyInterceptors,[{provide:bA,useFactory:gA},{provide:Sa,useExisting:bA,multi:!0}]))]}),n})();var X=$(5861);function jg(n){return(0,Sr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var dv=$(727);class IA extends dv.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Df={setInterval(n,e,...t){const{delegate:r}=Df;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Df;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var EA=$(8737);class uD extends IA{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Df.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Df.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,EA.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const hv={now:()=>(hv.delegate||Date).now(),delegate:void 0};class Gt{constructor(e,t=Gt.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Gt.now=hv.now;class fv extends Gt{constructor(e,t=Gt.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const ud=new fv(uD),cD=ud;var ln=$(6881);(0,ln.registerVersion)("firebase","9.21.0","app");var pt=$(2090),rs=$(4859),uo=$(1877);const AA=(n,e)=>e.some(t=>n instanceof t);let SA,pv;const fD=new WeakMap,Cf=new WeakMap,Hg=new WeakMap,gv=new WeakMap,pD=new WeakMap;let mv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Cf.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Hg.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function MA(n){return"function"==typeof n?function oP(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gu(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(_v(this),e),_s(fD.get(this))}:function(...e){return _s(n.apply(_v(this),e))}:function(e,...t){const r=n.call(_v(this),e,...t);return Hg.set(r,e.sort?e.sort():[e]),_s(r)}}(n):(n instanceof IDBTransaction&&function sP(n){if(Cf.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Cf.set(n,e)}(n),AA(n,function hD(){return SA||(SA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,mv):n)}function _s(n){if(n instanceof IDBRequest)return function iP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(_s(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&fD.set(t,n)}).catch(()=>{}),pD.set(e,n),e}(n);if(gv.has(n))return gv.get(n);const e=MA(n);return e!==n&&(gv.set(n,e),pD.set(e,n)),e}const _v=n=>pD.get(n),NA=["get","getKey","getAll","getAllKeys","count"],_D=["put","add","delete","clear"],vv=new Map;function yD(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(vv.get(e))return vv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_D.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!NA.includes(t))return;const o=function(){var c=(0,X.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return c.apply(this,arguments)}}();return vv.set(e,o),o}!function gD(n){mv=n(mv)}(n=>({...n,get:(e,t,r)=>yD(e,t)||n.get(e,t,r),has:(e,t)=>!!yD(e,t)||n.has(e,t)}));const vD="@firebase/installations",bv="0.6.4",bD=1e4,wv=`w:${bv}`,wD="FIS_v2",DD="https://firebaseinstallations.googleapis.com/v1",CD=36e5,Na=new pt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function RA(n){return n instanceof pt.ZR&&n.code.includes("request-failed")}function Ml({projectId:n}){return`${DD}/projects/${n}/installations`}function Iv(n){return{token:n.token,requestStatus:2,expiresIn:Tv(n.expiresIn),creationTime:Date.now()}}function Ev(n,e){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,X.Z)(function*(n,e){const r=(yield e.json()).error;return Na.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function ID({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function cd(n){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,X.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Tv(n){return Number(n.replace("s","000"))}function dd(){return(dd=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Ml(n),i=ID(n),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:wD,appId:n.appId,sdkVersion:wv})},m=yield cd(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Iv(v.authToken)}}throw yield Ev("Create Installation",m)})).apply(this,arguments)}function Sv(n){return new Promise(e=>{setTimeout(e,n)})}const Nv=/^[cdef][\w-]{21}$/,Ef="";function TD(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Rv(n){return function Mv(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Nv.test(t)?t:Ef}catch{return Ef}}function hd(n){return`${n.appName}!${n.appId}`}const fd=new Map;function xv(n,e){const t=hd(n);Ov(t,e),function OA(n,e){const t=function is(){return!zu&&"BroadcastChannel"in self&&(zu=new BroadcastChannel("[Firebase] FID Change"),zu.onmessage=n=>{Ov(n.data.key,n.data.fid)}),zu}();t&&t.postMessage({key:n,fid:e}),function SD(){0===fd.size&&zu&&(zu.close(),zu=null)}()}(t,e)}function Ov(n,e){const t=fd.get(n);if(t)for(const r of t)r(e)}let zu=null;const PA="firebase-installations-database",lP=1,Ra="firebase-installations-store";let zg=null;function Pv(){return zg||(zg=function mD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(n,e),f=_s(c);return r&&c.addEventListener("upgradeneeded",m=>{r(_s(c.result),m.oldVersion,m.newVersion,_s(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(PA,lP,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ra)}})),zg}function qg(n,e){return kv.apply(this,arguments)}function kv(){return(kv=(0,X.Z)(function*(n,e){const t=hd(n),i=(yield Pv()).transaction(Ra,"readwrite"),o=i.objectStore(Ra),c=yield o.get(t);return yield o.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&xv(n,e.fid),e})).apply(this,arguments)}function Wg(n){return Fv.apply(this,arguments)}function Fv(){return(Fv=(0,X.Z)(function*(n){const e=hd(n),r=(yield Pv()).transaction(Ra,"readwrite");yield r.objectStore(Ra).delete(e),yield r.done})).apply(this,arguments)}function Tf(n,e){return Af.apply(this,arguments)}function Af(){return(Af=(0,X.Z)(function*(n,e){const t=hd(n),i=(yield Pv()).transaction(Ra,"readwrite"),o=i.objectStore(Ra),c=yield o.get(t),f=e(c);return void 0===f?yield o.delete(t):yield o.put(f,t),yield i.done,f&&(!c||c.fid!==f.fid)&&xv(n,f.fid),f})).apply(this,arguments)}function Lv(n){return Bv.apply(this,arguments)}function Bv(){return Bv=(0,X.Z)(function*(n){let e;const t=yield Tf(n.appConfig,r=>{const i=function kA(n){return $v(n||{fid:TD(),registrationStatus:0})}(r),o=function FA(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Na.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function LA(n,e){return Us.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Uv(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Ef?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),Bv.apply(this,arguments)}function Us(){return Us=(0,X.Z)(function*(n,e){try{const t=yield function Av(n,e){return dd.apply(this,arguments)}(n,e);return qg(n.appConfig,t)}catch(t){throw RA(t)&&409===t.customData.serverCode?yield Wg(n.appConfig):yield qg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Us.apply(this,arguments)}function Uv(n){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,X.Z)(function*(n){let e=yield MD(n.appConfig);for(;1===e.registrationStatus;)yield Sv(100),e=yield MD(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Lv(n);return r||t}return e})).apply(this,arguments)}function MD(n){return Tf(n,e=>{if(!e)throw Na.create("installation-not-found");return $v(e)})}function $v(n){return function BA(n){return 1===n.registrationStatus&&n.registrationTime+bD<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function jv(){return(jv=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Hv(n,{fid:e}){return`${Ml(n)}/${e}/authTokens:generate`}(n,t),i=function ED(n,{refreshToken:e}){const t=ID(n);return t.append("Authorization",function If(n){return`${wD} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:wv,appId:n.appId}})},m=yield cd(()=>fetch(r,f));if(m.ok)return Iv(yield m.json());throw yield Ev("Generate Auth Token",m)})).apply(this,arguments)}function Gv(n){return zv.apply(this,arguments)}function zv(){return zv=(0,X.Z)(function*(n,e=!1){let t;const r=yield Tf(n.appConfig,o=>{if(!VA(o))throw Na.create("not-registered");const c=o.authToken;if(!e&&function ND(n){return 2===n.requestStatus&&!function RD(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+CD}(n)}(c))return o;if(1===c.requestStatus)return t=function Zg(n,e){return pd.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Na.create("app-offline");const f=function xD(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function uP(n,e){return Mf.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),zv.apply(this,arguments)}function pd(){return(pd=(0,X.Z)(function*(n,e){let t=yield Sf(n.appConfig);for(;1===t.authToken.requestStatus;)yield Sv(100),t=yield Sf(n.appConfig);const r=t.authToken;return 0===r.requestStatus?Gv(n,e):r})).apply(this,arguments)}function Sf(n){return Tf(n,e=>{if(!VA(e))throw Na.create("not-registered");return function OD(n){return 1===n.requestStatus&&n.requestTime+bD<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Mf(){return Mf=(0,X.Z)(function*(n,e){try{const t=yield function UA(n,e){return jv.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield qg(n.appConfig,r),t}catch(t){if(!RA(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield qg(n.appConfig,r)}else yield Wg(n.appConfig);throw t}}),Mf.apply(this,arguments)}function VA(n){return void 0!==n&&2===n.registrationStatus}function co(){return(co=(0,X.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Lv(e);return r?r.catch(console.error):Gv(e).catch(console.error),t.fid})).apply(this,arguments)}function gd(){return gd=(0,X.Z)(function*(n,e=!1){const t=n;return yield function Nf(n){return Wv.apply(this,arguments)}(t),(yield Gv(t,e)).token}),gd.apply(this,arguments)}function Wv(){return(Wv=(0,X.Z)(function*(n){const{registrationPromise:e}=yield Lv(n);e&&(yield e)})).apply(this,arguments)}function Zv(n){return Na.create("missing-app-config-values",{valueName:n})}const kD="installations",GA=n=>{const e=n.getProvider("app").getImmediate(),t=function jA(n){if(!n||!n.options)throw Zv("App Configuration");if(!n.name)throw Zv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Zv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,ln._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},zA=n=>{const e=n.getProvider("app").getImmediate(),t=(0,ln._getProvider)(e,kD).getImmediate();return{getId:()=>function qv(n){return co.apply(this,arguments)}(t),getToken:i=>function Yg(n){return gd.apply(this,arguments)}(t,i)}};(function qA(){(0,ln._registerComponent)(new rs.wA(kD,GA,"PUBLIC")),(0,ln._registerComponent)(new rs.wA("installations-internal",zA,"PRIVATE"))})(),(0,ln.registerVersion)(vD,bv),(0,ln.registerVersion)(vD,bv,"esm2017");const Jg="@firebase/remote-config",ss=new pt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wu{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,X.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&c.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(c),o})()}}function nm(n=navigator){return n.languages&&n.languages[0]||n.language}class Vs{constructor(e,t,r,i,o,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=c}fetch(e){var t=this;return(0,X.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:nm()},v={method:"POST",headers:f,body:JSON.stringify(m)},C=fetch(c,v),A=new Promise((Ce,Oe)=>{e.signal.addEventListener(()=>{const Fe=new Error("The operation was aborted.");Fe.name="AbortError",Oe(Fe)})});let P;try{yield Promise.race([C,A]),P=yield C}catch(Ce){let Oe="fetch-client-network";throw"AbortError"===Ce?.name&&(Oe="fetch-timeout"),ss.create(Oe,{originalErrorMessage:Ce?.message})}let B=P.status;const q=P.headers.get("ETag")||void 0;let te,oe;if(200===P.status){let Ce;try{Ce=yield P.json()}catch(Oe){throw ss.create("fetch-client-parse",{originalErrorMessage:Oe?.message})}te=Ce.entries,oe=Ce.state}if("INSTANCE_STATE_UNSPECIFIED"===oe?B=500:"NO_CHANGE"===oe?B=304:("NO_TEMPLATE"===oe||"EMPTY_CONFIG"===oe)&&(te={}),304!==B&&200!==B)throw ss.create("fetch-status",{httpStatus:B});return{status:B,eTag:q,config:te}})()}}class yd{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,X.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,X.Z)(function*(){yield function Yv(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(ss.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function _d(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const c={throttleEndTimeMillis:Date.now()+(0,pt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class wd{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xa(n,e){const t=n.target.error||void 0;return ss.create(e,{originalErrorMessage:t&&t?.message})}const $s="app_namespace_store";class jD{constructor(e,t,r,i=function $D(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(xa(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($s,{keyPath:"compositeKey"})}}catch(t){e(ss.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,X.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([$s],"readonly").objectStore($s),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=C=>{o(xa(C,"storage-get"))},v.onsuccess=C=>{const A=C.target.result;i(A?A.value:void 0)}}catch(v){o(ss.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,X.Z)(function*(){const i=yield r.openDbPromise;return new Promise((o,c)=>{const m=i.transaction([$s],"readwrite").objectStore($s),v=r.createCompositeKey(e);try{const C=m.put({compositeKey:v,value:t});C.onerror=A=>{c(xa(A,"storage-set"))},C.onsuccess=()=>{o()}}catch(C){c(ss.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,X.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([$s],"readwrite").objectStore($s),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=C=>{o(xa(C,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){o(ss.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class HD{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,X.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function zD(){return im.apply(this,arguments)}function im(){return(im=(0,X.Z)(function*(){if(!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch{return!1}})).apply(this,arguments)}!function GD(){(0,ln._registerComponent)(new rs.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ss.create("registration-window");if(!(0,pt.hl)())throw ss.create("indexed-db-unavailable");const{projectId:o,apiKey:c,appId:f}=r.options;if(!o)throw ss.create("registration-project-id");if(!c)throw ss.create("registration-api-key");if(!f)throw ss.create("registration-app-id");const m=new jD(f,r.name,t=t||"firebase"),v=new HD(m),C=new uo.Yd(Jg);C.logLevel=uo.in.ERROR;const A=new Vs(i,ln.SDK_VERSION,t,o,c,f),P=new yd(A,m),B=new Wu(P,m,v,C),q=new wd(r,B,v,m,C);return function UD(n){const e=(0,pt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(q),q},"PUBLIC").setMultipleInstances(!0)),(0,ln.registerVersion)(Jg,"0.4.4"),(0,ln.registerVersion)(Jg,"0.4.4","esm2017")}();const qD=(n,e)=>e.some(t=>n instanceof t);let WD,ZD;const Kv=new WeakMap,Rf=new WeakMap,sm=new WeakMap,Jv=new WeakMap,Id=new WeakMap;let Xv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Rf.get(n);if("objectStoreNames"===e)return n.objectStoreNames||sm.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function KD(n){return"function"==typeof n?function lm(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tS(){return ZD||(ZD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xf(this),e),Yo(Kv.get(this))}:function(...e){return Yo(n.apply(xf(this),e))}:function(e,...t){const r=n.call(xf(this),e,...t);return sm.set(r,e.sort?e.sort():[e]),Yo(r)}}(n):(n instanceof IDBTransaction&&function Qv(n){if(Rf.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Rf.set(n,e)}(n),qD(n,function YD(){return WD||(WD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Xv):n)}function Yo(n){if(n instanceof IDBRequest)return function om(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Yo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Kv.set(t,n)}).catch(()=>{}),Id.set(e,n),e}(n);if(Jv.has(n))return Jv.get(n);const e=KD(n);return e!==n&&(Jv.set(n,e),Id.set(e,n)),e}const xf=n=>Id.get(n);function e0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(n,e),f=Yo(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Yo(c.result),m.oldVersion,m.newVersion,Yo(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function um(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Yo(t).then(()=>{})}const t0=["get","getKey","getAll","getAllKeys","count"],JD=["put","add","delete","clear"],n0=new Map;function r0(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(n0.get(e))return n0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=JD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!t0.includes(t))return;const o=function(){var c=(0,X.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return c.apply(this,arguments)}}();return n0.set(e,o),o}!function am(n){Xv=n(Xv)}(n=>({...n,get:(e,t,r)=>r0(e,t)||n.get(e,t,r),has:(e,t)=>!!r0(e,t)||n.has(e,t)}));const QD="/firebase-messaging-sw.js",XD="/firebase-cloud-messaging-push-scope",s0="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nS="https://fcmregistrations.googleapis.com/v1",o0="google.c.a.c_id",eC="google.c.a.c_l",a0="google.c.a.ts",cm="google.c.a.e";var Zu=(()=>{return(n=Zu||(Zu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Zu;var n})();function Ko(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tC(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const dm="fcm_token_details_db",nC=5,l0="fcm_token_object_Store";function Ed(){return Ed=(0,X.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(dm))return null;let e=null;return(yield e0(dm,nC,{upgrade:(r=(0,X.Z)(function*(i,o,c,f){var m;if(o<2||!i.objectStoreNames.contains(l0))return;const v=f.objectStore(l0),C=yield v.index("fcmSenderId").get(n);if(yield v.clear(),C)if(2===o){const A=C;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(m=A.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:Ko(A.vapidKey)}}}else if(3===o){const A=C;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ko(A.auth),p256dh:Ko(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ko(A.vapidKey)}}}else if(4===o){const A=C;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:Ko(A.auth),p256dh:Ko(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:Ko(A.vapidKey)}}}}),function(o,c,f,m){return r.apply(this,arguments)})})).close(),yield um(dm),yield um("fcm_vapid_details_db"),yield um("undefined"),function Rl(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Ed.apply(this,arguments)}const iS="firebase-messaging-database",sS=1,Oa="firebase-messaging-store";let Pa=null;function Of(){return Pa||(Pa=e0(iS,sS,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Oa)}})),Pa}function iC(n){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,X.Z)(function*(n){const e=hm(n),r=yield(yield Of()).transaction(Oa).objectStore(Oa).get(e);if(r)return r;{const i=yield function rC(n){return Ed.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield sC(n,i),i}}),Pf.apply(this,arguments)}function sC(n,e){return oC.apply(this,arguments)}function oC(){return(oC=(0,X.Z)(function*(n,e){const t=hm(n),i=(yield Of()).transaction(Oa,"readwrite");return yield i.objectStore(Oa).put(e,t),yield i.done,e})).apply(this,arguments)}function u0(){return(u0=(0,X.Z)(function*(n){const e=hm(n),r=(yield Of()).transaction(Oa,"readwrite");yield r.objectStore(Oa).delete(e),yield r.done})).apply(this,arguments)}function hm({appConfig:n}){return n.appId}const bn=new pt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function aC(n,e){return c0.apply(this,arguments)}function c0(){return(c0=(0,X.Z)(function*(n,e){const t=yield xl(n),r=uC(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(gm(n.appConfig),i)).json()}catch(c){throw bn.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(o.error)throw bn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw bn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function fm(){return(fm=(0,X.Z)(function*(n,e){const t=yield xl(n),r=uC(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${gm(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw bn.create("token-update-failed",{errorInfo:c?.toString()})}if(o.error)throw bn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw bn.create("token-update-no-token");return o.token})).apply(this,arguments)}function lC(n,e){return pm.apply(this,arguments)}function pm(){return(pm=(0,X.Z)(function*(n,e){const r={method:"DELETE",headers:yield xl(n)};try{const o=yield(yield fetch(`${gm(n.appConfig)}/${e}`,r)).json();if(o.error)throw bn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw bn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function gm({projectId:n}){return`${nS}/projects/${n}/registrations`}function xl(n){return d0.apply(this,arguments)}function d0(){return(d0=(0,X.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function uC({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==s0&&(i.web.applicationPubKey=r),i}const cC=6048e5;function mm(){return mm=(0,X.Z)(function*(n){const e=yield function Jo(n,e){return vs.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ko(e.getKey("auth")),p256dh:Ko(e.getKey("p256dh"))},r=yield iC(n.firebaseDependencies);if(r){if(function ho(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+cC?function h0(n,e){return js.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield lC(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return dC(n.firebaseDependencies,t)}return dC(n.firebaseDependencies,t)}),mm.apply(this,arguments)}function kf(){return kf=(0,X.Z)(function*(n){const e=yield iC(n.firebaseDependencies);e&&(yield lC(n.firebaseDependencies,e.token),yield function oS(n){return u0.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),kf.apply(this,arguments)}function js(){return js=(0,X.Z)(function*(n,e){try{const t=yield function lS(n,e){return fm.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield sC(n.firebaseDependencies,r),t}catch(t){throw yield function cS(n){return kf.apply(this,arguments)}(n),t}}),js.apply(this,arguments)}function dC(n,e){return _m.apply(this,arguments)}function _m(){return(_m=(0,X.Z)(function*(n,e){const r={token:yield aC(n,e),createTime:Date.now(),subscriptionOptions:e};return yield sC(n,r),r.token})).apply(this,arguments)}function vs(){return(vs=(0,X.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tC(e)})})).apply(this,arguments)}function f0(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function hC(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function dS(n,e){e.data&&(n.data=e.data)}(e,n),function hS(n,e){var t,r,i,o,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;f&&(n.fcmOptions.link=f);const m=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function fC(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Yu(n){return bn.create("missing-app-config-values",{valueName:n})}fC("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fC("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pS{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function p0(n){if(!n||!n.options)throw Yu("App Configuration Object");if(!n.name)throw Yu("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Yu(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function g0(n){return m0.apply(this,arguments)}function m0(){return(m0=(0,X.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(QD,{scope:XD}),n.swRegistration.update().catch(()=>{})}catch(e){throw bn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function ym(){return(ym=(0,X.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield g0(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw bn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Td(){return(Td=(0,X.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=s0)})).apply(this,arguments)}function vm(){return vm=(0,X.Z)(function*(n,e){if(!navigator)throw bn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bn.create("permission-blocked");return yield function pC(n,e){return Td.apply(this,arguments)}(n,e?.vapidKey),yield function gS(n,e){return ym.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function uS(n){return mm.apply(this,arguments)}(n)}),vm.apply(this,arguments)}function Ff(){return(Ff=(0,X.Z)(function*(n,e,t){const r=function bm(n){switch(n){case Zu.NOTIFICATION_CLICKED:return"notification_open";case Zu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[o0],message_name:t[eC],message_time:t[a0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wm(){return wm=(0,X.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Zu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(f0(t)):n.onMessageHandler.next(f0(t)));const r=t.data;(function fS(n){return"object"==typeof n&&!!n&&o0 in n})(r)&&"1"===r[cm]&&(yield function mC(n,e,t){return Ff.apply(this,arguments)}(n,t.messageType,r))}),wm.apply(this,arguments)}const _0="@firebase/messaging",yC=n=>{const e=new pS(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function _C(n,e){return wm.apply(this,arguments)}(e,t)),e},vC=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function gC(n,e){return vm.apply(this,arguments)}(e,r)}};function v0(){return b0.apply(this,arguments)}function b0(){return(b0=(0,X.Z)(function*(){try{yield(0,pt.eu)()}catch{return!1}return typeof window<"u"&&(0,pt.hl)()&&(0,pt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bC(){(0,ln._registerComponent)(new rs.wA("messaging",yC,"PUBLIC")),(0,ln._registerComponent)(new rs.wA("messaging-internal",vC,"PRIVATE")),(0,ln.registerVersion)(_0,"0.12.4"),(0,ln.registerVersion)(_0,"0.12.4","esm2017")}();const Dm="analytics",_S="firebase_id",yS="origin",vS=6e4,bS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",C0="https://www.googletagmanager.com/gtag/js",oi=new uo.Yd("@firebase/analytics"),ji=new pt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function DC(n){if(!n.startsWith(C0)){const e=ji.create("invalid-gtag-resource",{gtagURL:n});return oi.warn(e.message),""}return n}function I0(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Cm(){return(Cm=(0,X.Z)(function*(n,e,t,r,i,o){const c=r[i];try{if(c)yield e[c];else{const m=(yield I0(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){oi.error(f)}n("config",i,o)})).apply(this,arguments)}function Im(){return(Im=(0,X.Z)(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=yield I0(t);for(const m of c){const v=f.find(A=>A.measurementId===m),C=v&&e[v.appId];if(!C){o=[];break}o.push(C)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){oi.error(o)}})).apply(this,arguments)}const DS=30,IS=new class Ad{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function T0(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Em(){return(Em=(0,X.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:T0(r)},o=bS.replace("{app-id}",t),c=yield fetch(o,i);if(200!==c.status&&304!==c.status){let f="";try{const m=yield c.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw ji.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()})).apply(this,arguments)}function NC(){return(NC=(0,X.Z)(function*(n,e=IS,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw ji.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ji.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Sd;return setTimeout((0,X.Z)(function*(){f.abort()}),void 0!==t?t:vS),Lt({appId:r,apiKey:i,measurementId:o},c,f,e)})).apply(this,arguments)}function Lt(n,e,t){return A0.apply(this,arguments)}function A0(){return A0=(0,X.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=IS){var o;const{appId:c,measurementId:f}=n;try{yield function ES(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(ji.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(m){if(f)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=yield function bP(n){return Em.apply(this,arguments)}(n);return i.deleteThrottleMetadata(c),m}catch(m){const v=m;if(!function TS(n){if(!(n instanceof pt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(c),f)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw m}const C=503===Number(null===(o=v?.customData)||void 0===o?void 0:o.httpStatus)?(0,pt.$s)(t,i.intervalMillis,DS):(0,pt.$s)(t,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(c,A),oi.debug(`Calling attemptFetch again in ${C} millis`),Lt(n,A,r,i)}}),A0.apply(this,arguments)}class Sd{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let S0,N0;function Md(){return(Md=(0,X.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function R0(){return(R0=(0,X.Z)(function*(){if(!(0,pt.hl)())return oi.warn(ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pt.eu)()}catch(n){return oi.warn(ji.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Rd(){return Rd=(0,X.Z)(function*(n,e,t,r,i,o,c){var f;const m=function MC(n){return NC.apply(this,arguments)}(n);m.then(B=>{t[B.measurementId]=B.appId,n.options.measurementId&&B.measurementId!==n.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>oi.error(B)),e.push(m);const v=function SS(){return R0.apply(this,arguments)}().then(B=>{if(B)return r.getId()}),[C,A]=yield Promise.all([m,v]);(function Ku(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(C0)&&t.src.includes(n))return t;return null})(o)||function IC(n,e){const t=function CC(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:DC}),r=document.createElement("script"),i=`${C0}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,C.measurementId),N0&&(i("consent","default",N0),function kC(n){N0=n}(void 0)),i("js",new Date);const P=null!==(f=c?.config)&&void 0!==f?f:{};return P[yS]="firebase",P.update=!0,null!=A&&(P[_S]=A),i("config",C.measurementId,P),S0&&(i("set",S0),function Nd(n){S0=n}(void 0)),C.measurementId}),Rd.apply(this,arguments)}class FC{constructor(e){this.app=e}_delete(){return delete fo[this.app.options.appId],Promise.resolve()}}let fo={},x0=[];const LC={};let BC,Qo,Ol="dataLayer",xd="gtag",O0=!1;function VC(n,e,t){!function UC(){const n=[];if((0,pt.ru)()&&n.push("This is a browser extension environment."),(0,pt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ji.create("invalid-analytics-context",{errorInfo:e});oi.warn(t.message)}}();const r=n.options.appId;if(!r)throw ji.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ji.create("no-api-key");oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fo[r])throw ji.create("already-exists",{id:r});if(!O0){!function EC(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Ol);const{wrappedGtag:o,gtagCore:c}=function SC(n,e,t,r,i){let o=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function E0(n,e,t,r){function o(){return o=(0,X.Z)(function*(c,...f){try{if("event"===c){const[m,v]=f;yield function AC(n,e,t,r,i){return Im.apply(this,arguments)}(n,e,t,m,v)}else if("config"===c){const[m,v]=f;yield function TC(n,e,t,r,i,o){return Cm.apply(this,arguments)}(n,e,t,r,m,v)}else if("consent"===c){const[m]=f;n("consent","update",m)}else if("get"===c){const[m,v,C]=f;n("get",m,v,C)}else if("set"===c){const[m]=f;n("set",m)}else n(c,...f)}catch(m){oi.error(m)}}),o.apply(this,arguments)}return function i(c){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(fo,x0,LC,Ol,xd);Qo=o,BC=c,O0=!0}return fo[r]=function MS(n,e,t,r,i,o,c){return Rd.apply(this,arguments)}(n,x0,LC,e,BC,Ol,t),new FC(n)}function RS(){return P0.apply(this,arguments)}function P0(){return(P0=(0,X.Z)(function*(){if((0,pt.ru)()||!(0,pt.zI)()||!(0,pt.hl)())return!1;try{return yield(0,pt.eu)()}catch{return!1}})).apply(this,arguments)}const Od="@firebase/analytics";!function kS(){(0,ln._registerComponent)(new rs.wA(Dm,(e,{options:t})=>VC(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,ln._registerComponent)(new rs.wA("analytics-internal",function n(e){try{const t=e.getProvider(Dm).getImmediate();return{logEvent:(r,i,o)=>function OS(n,e,t,r){n=(0,pt.m9)(n),function Tm(n,e,t,r,i){return Md.apply(this,arguments)}(Qo,fo[n.app.options.appId],e,t,r).catch(i=>oi.error(i))}(t,r,i,o)}}catch(t){throw ji.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,ln.registerVersion)(Od,"0.10.0"),(0,ln.registerVersion)(Od,"0.10.0","esm2017")}();const CP=new class LS extends fv{}(class FS extends uD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var Pl=$(4671);function Yr(n,e,t){const r=(0,ao.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Sr.e)((i,o)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,Fn.x)(o,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),o.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),o.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),o.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Pl.y}var Ju=$(5363),ka=$(9468);const Lf=new l.GfV("7.5.0"),Nm="__angularfire_symbol__analyticsIsSupportedValue",F0="__angularfire_symbol__analyticsIsSupported",Rm="__angularfire_symbol__remoteConfigIsSupportedValue",L0="__angularfire_symbol__remoteConfigIsSupported",xm="__angularfire_symbol__messagingIsSupportedValue",B0="__angularfire_symbol__messagingIsSupported";function U0(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(c=>c.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[F0]||(globalThis[F0]=RS().then(n=>globalThis[Nm]=n).catch(()=>globalThis[Nm]=!1)),globalThis[B0]||(globalThis[B0]=v0().then(n=>globalThis[xm]=n).catch(()=>globalThis[xm]=!1)),globalThis[L0]||(globalThis[L0]=zD().then(n=>globalThis[Rm]=n).catch(()=>globalThis[Rm]=!1));const V0=(n,e)=>{const t=e?[e]:(0,ln.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function Pd(){}class Om{constructor(e,t=CP){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class VS{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pd,{},Pd,Pd)),t.pipe(Yr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qu=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Om(Zone.current)),this.insideAngular=t.run(()=>new Om(Zone.current,ud)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ec(n){return Xu().ngZone.run(()=>n())}function GC(n){return n.pipe((0,Ju.Q)(Xu().outsideAngular))}function Hi(n){return Xu(),function jS(n){return function(t){return(t=t.lift(new VS(n.ngZone))).pipe((0,ka.R)(n.outsideAngular),(0,Ju.Q)(n.insideAngular))}}(Xu())(n)}const HS=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ec(()=>n.apply(void 0,r))},Pm=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=ec(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pd,{},Pd,Pd)))),r[o]=HS(r[o],t));const i=function $S(n){return Xu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Zn.y){const o=Xu();return i.pipe((0,ka.R)(o.outsideAngular),(0,Ju.Q)(o.insideAngular))}return ec(()=>i)}return i instanceof Zn.y?i.pipe(Hi):i instanceof Promise?ec(()=>new Promise((o,c)=>i.then(f=>ec(()=>o(f)),f=>ec(()=>c(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ec(()=>i)};var kd=$(8189);function Uf(...n){return function zC(){return(0,kd.J)(1)}()((0,vn.D)(n,(0,$o.yG)(n)))}function Fa(...n){const e=(0,$o.yG)(n);return(0,Sr.e)((t,r)=>{(e?Uf(n,t,e):Uf(n,t)).subscribe(r)})}function km(){return(0,Sr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Fn.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function Vf(n,e){return(0,Sr.e)(function GS(n,e,t,r,i){return(o,c)=>{let f=t,m=e,v=0;o.subscribe((0,Fn.x)(c,C=>{const A=v++;m=f?n(m,C,A):(f=!0,C),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Fd(n,e=Pl.y){return n=n??$0,(0,Sr.e)((t,r)=>{let i,o=!0;t.subscribe((0,Fn.x)(r,c=>{const f=e(c);(o||!n(i,f))&&(o=!1,i=f,r.next(c))}))})}function $0(n,e){return n===e}var dt,Ni=$(2011),WC=($(9568),$(3942)),zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bs={},Fm=Fm||{},$t=zS||self;function $f(){}function Lm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Bm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var jf="closure_uid_"+(1e9*Math.random()>>>0),qS=0;function j0(n,e,t){return n.call.apply(n.bind,arguments)}function WS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yi(n,e,t){return(yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j0:WS).apply(null,arguments)}function Ld(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Kr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function La(){this.s=this.s,this.o=this.o}La.prototype.s=!1,La.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ZC(n){Object.prototype.hasOwnProperty.call(n,jf)&&n[jf]||(n[jf]=++qS)}(this)},La.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const H0=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function G0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function KC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Lm(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function Ri(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ri.prototype.h=function(){this.defaultPrevented=!0};var ZS=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",$f,e),$t.removeEventListener("test",$f,e)}catch{}return n}();function Hf(n){return/^[\s\xa0]*$/.test(n)}var YS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Um(n,e){return n<e?-1:n>e?1:0}function Vm(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function Xo(n){return-1!=Vm().indexOf(n)}function JC(n){return JC[" "](n),n}function QC(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}JC[" "]=$f;var jm,n,KS=Xo("Opera"),Bd=Xo("Trident")||Xo("MSIE"),z0=Xo("Edge"),$m=z0||Bd,q0=Xo("Gecko")&&!(-1!=Vm().toLowerCase().indexOf("webkit")&&!Xo("Edge"))&&!(Xo("Trident")||Xo("MSIE"))&&!Xo("Edge"),JS=-1!=Vm().toLowerCase().indexOf("webkit")&&!Xo("Edge");function XC(){var n=$t.document;return n?n.documentMode:void 0}e:{var W0="",Z0=(n=Vm(),q0?/rv:([^\);]+)(\)|;)/.exec(n):z0?/Edge\/([\d\.]+)/.exec(n):Bd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JS?/WebKit\/(\S+)/.exec(n):KS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Z0&&(W0=Z0?Z0[1]:""),Bd){var Y0=XC();if(null!=Y0&&Y0>parseFloat(W0)){jm=String(Y0);break e}}jm=W0}var Gf={},tI=$t.document&&Bd&&(XC()||parseInt(jm,10))||void 0;function Ud(n,e){if(Ri.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(q0){e:{try{JC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ud.$.h.call(this)}}Kr(Ud,Ri);var nI={2:"touch",3:"pen",4:"mouse"};Ud.prototype.h=function(){Ud.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zf="closure_listenable_"+(1e6*Math.random()|0),AP=0;function rI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++AP,this.fa=this.ia=!1}function Gm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function J0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function iI(n){const e={};for(const t in n)e[t]=n[t];return e}const sI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vd(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<sI.length;o++)t=sI[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zm(n){this.src=n,this.g={},this.h=0}function qf(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=H0(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Gm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Hs(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}zm.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Hs(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new rI(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Q0="closure_lm_"+(1e6*Math.random()|0),Wf={};function $d(n,e,t,r,i){if(r&&r.once)return aI(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$d(n,e[o],t,r,i);return null}return t=Yf(t),n&&n[zf]?n.O(e,t,Bm(r)?!!r.capture:!!r,i):oI(n,e,t,!1,r,i)}function oI(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=Bm(i)?!!i.capture:!!i,f=qm(n);if(f||(n[Q0]=f=new zm(n)),(t=f.add(e,t,r,c,o)).proxy)return t;if(r=function QS(){const e=XS;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZS||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(lI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function aI(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)aI(n,e[o],t,r,i);return null}return t=Yf(t),n&&n[zf]?n.P(e,t,Bm(r)?!!r.capture:!!r,i):oI(n,e,t,!0,r,i)}function Zf(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Zf(n,e[o],t,r,i);else r=Bm(r)?!!r.capture:!!r,t=Yf(t),n&&n[zf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Hs(o=n.g[e],t,r,i))&&(Gm(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=qm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Hs(e,t,r,i)),(t=-1<n?e[n]:null)&&jd(t))}function jd(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[zf])qf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qm(e))?(qf(t,n),0==t.h&&(t.src=null,e[Q0]=null)):Gm(n)}}}function lI(n){return n in Wf?Wf[n]:Wf[n]="on"+n}function XS(n,e){if(n.fa)n=!0;else{e=new Ud(e,this);var t=n.listener,r=n.la||n.src;n.ia&&jd(n),n=t.call(r,e)}return n}function qm(n){return(n=n[Q0])instanceof zm?n:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yf(n){return"function"==typeof n?n:(n[Wm]||(n[Wm]=function(e){return n.handleEvent(e)}),n[Wm])}function Jr(){La.call(this),this.i=new zm(this),this.S=this,this.J=null}function Qr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ri(e,n);else if(e instanceof Ri)e.target=e.target||n;else{var i=e;Vd(e=new Ri(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=Hd(c,r,!0,e)&&i}if(i=Hd(c=e.g=n,r,!0,e)&&i,i=Hd(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Hd(c=e.g=t[o],r,!1,e)&&i}function Hd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var f=c.listener,m=c.la||c.src;c.ia&&qf(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Kr(Jr,La),Jr.prototype[zf]=!0,Jr.prototype.removeEventListener=function(n,e,t,r){Zf(this,n,e,t,r)},Jr.prototype.N=function(){if(Jr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Gm(t[r]);delete n.g[e],n.h--}}this.J=null},Jr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Jr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Zm=$t.JSON.stringify;function X0(){var n=nb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ym,uI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eM,n=>n.reset());class eM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tM(n){$t.setTimeout(()=>{throw n},0)}function cI(n,e){Ym||function tb(){var n=$t.Promise.resolve(void 0);Ym=function(){n.then(dI)}}(),Km||(Ym(),Km=!0),nb.add(n,e)}var Km=!1,nb=new class eb{constructor(){this.h=this.g=null}add(e,t){const r=uI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function dI(){for(var n;n=X0();){try{n.h.call(n.g)}catch(t){tM(t)}var e=uI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Km=!1}function Kf(n,e){Jr.call(this),this.h=n||1,this.g=e||$t,this.j=yi(this.qb,this),this.l=Date.now()}function rb(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Jm(n,e,t){if("function"==typeof n)t&&(n=yi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yi(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function ib(n){n.g=Jm(()=>{n.g=null,n.i&&(n.i=!1,ib(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Kr(Kf,Jr),(dt=Kf.prototype).ga=!1,dt.T=null,dt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qr(this,"tick"),this.ga&&(rb(this),this.start()))}},dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.N=function(){Kf.$.N.call(this),rb(this),delete this.g};class nM extends La{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ib(this)}N(){super.N(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gd(n){La.call(this),this.h=n,this.g={}}Kr(Gd,La);var sb=[];function xi(n,e,t,r){Array.isArray(t)||(t&&(sb[0]=t.toString()),t=sb);for(var i=0;i<t.length;i++){var o=$d(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function tc(n){J0(n.g,function(e,t){this.g.hasOwnProperty(t)&&jd(e)},n),n.g={}}function Qm(){this.g=!0}function Jf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ob(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return Zm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Gd.prototype.N=function(){Gd.$.N.call(this),tc(this)},Gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qm.prototype.Ea=function(){this.g=!1},Qm.prototype.info=function(){};var po={},fI=null;function zd(){return fI=fI||new Jr}function pI(n){Ri.call(this,po.Ta,n)}function qd(n){const e=zd();Qr(e,new pI(e))}function gI(n,e){Ri.call(this,po.STAT_EVENT,n),this.stat=e}function Gi(n){const e=zd();Qr(e,new gI(e,n))}function mI(n,e){Ri.call(this,po.Ua,n),this.size=e}function nc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}po.Ta="serverreachability",Kr(pI,Ri),po.STAT_EVENT="statevent",Kr(gI,Ri),po.Ua="timingevent",Kr(mI,Ri);var Qf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ab={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wd(){}function iM(){}Wd.prototype.h=null;var kl,Zd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lb(){Ri.call(this,"d")}function e_(){Ri.call(this,"c")}function t_(){}function Yd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Gd(this),this.P=MP,this.V=new Kf(n=$m?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new n_}function n_(){this.i=null,this.g="",this.h=!1}Kr(lb,Ri),Kr(e_,Ri),Kr(t_,Wd),t_.prototype.g=function(){return new XMLHttpRequest},t_.prototype.i=function(){return{}},kl=new t_;var MP=45e3,ub={},cb={};function db(n,e,t){n.L=1,n.v=_b(Ba(e)),n.s=t,n.S=!0,_I(n,null)}function _I(n,e){n.G=Date.now(),Xf(n),n.A=Ba(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),a_(t.i,"t",r),n.C=0,t=n.l.I,n.h=new n_,n.g=Nb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new nM(yi(n.Pa,n,n.g),n.O)),xi(n.U,n.g,"readystatechange",n.nb),e=n.I?iI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),qd(),function rM(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",f=o.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var C=v[0];v=v[1];var A=C.split("_");c=2<=A.length&&"type"==A[1]?c+(C+"=")+v+"&":c+(C+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function yI(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function hb(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=vI(n,t),i==cb){4==e&&(n.o=4,Gi(14),r=!1),Jf(n.j,n.m,null,"[Incomplete Response]");break}if(i==ub){n.o=4,Gi(15),Jf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Jf(n.j,n.m,i,null),r_(n,i)}yI(n)&&i!=cb&&i!=ub&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Tb(e),e.L=!0,Gi(11))):(Jf(n.j,n.m,t,"[Invalid Chunked Response]"),rc(n),tp(n))}function vI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?cb:(t=Number(e.substring(t,r)),isNaN(t)?ub:(r+=1)+t>e.length?cb:(e=e.substr(r,t),n.C=r+t,e))}function Xf(n){n.Y=Date.now()+n.P,fb(n,n.P)}function fb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nc(yi(n.lb,n),e)}function ep(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function tp(n){0==n.l.H||n.J||Mb(n.l,n)}function rc(n){ep(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,rb(n.V),tc(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function r_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vb(t.h,n)))if(!n.K&&vb(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Sb(t),mo(t)}Eb(t),Gi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=nc(yi(t.ib,t),6e3));if(1>=rp(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Ll(t,11)}else if((n.K||t.g==n)&&Sb(t),!Hf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.J=v[1],t.oa=v[2];const C=v[3];null!=C&&(t.qa=C,t.j.info("VER="+t.qa));const A=v[4];null!=A&&(t.Ga=A,t.j.info("SVER="+t.Ga));const P=v[5];null!=P&&"number"==typeof P&&0<P&&(t.K=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var o=r.h;o.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(II(o,o.h),o.h=null))}if(r.F){const te=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.Da=te,ur(r.G,r.F,te))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=f_(r,r.I?r.oa:null,r.Y),c.K){hM(r.h,c);var f=c,m=r.K;m&&f.setTimeout(m),f.B&&(ep(f),Xf(f)),r.g=c}else xI(r);0<t.i.length&&Jd(t)}else"stop"!=v[0]&&"close"!=v[0]||Ll(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Ll(t,7):go(t):"noop"!=v[0]&&t.l&&t.l.Aa(v),t.A=0)}qd()}catch{}}function pb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bI(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function sM(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(dt=Yd.prototype).setTimeout=function(n){this.P=n},dt.nb=function(n){n=n.target;const e=this.M;e&&3==ea(n)?e.l():this.Pa(n)},dt.Pa=function(n){try{if(n==this.g)e:{const C=ea(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||$m||this.g&&(this.h.h||this.g.ja()||Cb(this.g)))){this.J||4!=C||7==e||qd(),ep(this);var t=this.g.da();this.aa=t;t:if(yI(this)){var r=Cb(this.g);n="";var i=r.length,o=4==ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rc(this),tp(this);var c="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function SP(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hf(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Gi(12),rc(this),tp(this);break e}Jf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,r_(this,t)}this.S?(hb(this,C,c),$m&&this.i&&3==C&&(xi(this.U,this.V,"tick",this.mb),this.V.start())):(Jf(this.j,this.m,c,null),r_(this,c)),4==C&&rc(this),this.i&&!this.J&&(4==C?Mb(this.l,this):(this.i=!1,Xf(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),rc(this),tp(this)}}}catch{}},dt.mb=function(){if(this.g){var n=ea(this.g),e=this.g.ja();this.C<e.length&&(ep(this),hb(this,n,e),this.i&&4!=n&&Xf(this))}},dt.cancel=function(){this.J=!0,rc(this)},dt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(qd(),Gi(17)),rc(this),this.o=2,tp(this)):fb(this,this.Y-n)};var gb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ic(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ic){this.h=void 0!==e?e:n.h,mb(this,n.j),this.s=n.s,this.g=n.g,np(this,n.m),this.l=n.l,e=n.i;var t=new Fl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),oM(this,t),this.o=n.o}else n&&(t=String(n).match(gb))?(this.h=!!e,mb(this,t[1]||"",!0),this.s=i_(t[2]||""),this.g=i_(t[3]||"",!0),np(this,t[4]),this.l=i_(t[5]||"",!0),oM(this,t[6]||"",!0),this.o=i_(t[7]||"")):(this.h=!!e,this.i=new Fl(null,this.h))}function Ba(n){return new ic(n)}function mb(n,e,t){n.j=t?i_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function np(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oM(n,e,t){e instanceof Fl?(n.i=e,function uM(n,e){e&&!n.j&&(Ua(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(yb(this,r),a_(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=s_(e,xP)),n.i=new Fl(e,n.h))}function ur(n,e,t){n.i.set(e,t)}function _b(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function i_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function s_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,NP),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NP(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ic.prototype.toString=function(){var n=[],e=this.j;e&&n.push(s_(e,aM,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(s_(e,aM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(s_(t,"/"==t.charAt(0)?o_:RP,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",s_(t,DI)),n.join("")};var aM=/[#\/\?@]/g,RP=/[#\?:]/g,o_=/[#\?]/g,xP=/[#\?@]/g,DI=/#/g;function Fl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ua(n){n.g||(n.g=new Map,n.h=0,n.i&&function wI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function yb(n,e){Ua(n),e=sc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function lM(n,e){return Ua(n),e=sc(n,e),n.g.has(e)}function a_(n,e,t){yb(n,e),0<t.length&&(n.i=null,n.g.set(sc(n,e),G0(t)),n.h+=t.length)}function sc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function cM(n){this.l=n||dM,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ka&&$t.g.Ka()&&$t.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Fl.prototype).add=function(n,e){Ua(this),this.i=null,n=sc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Ua(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.sa=function(){Ua(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},dt.Z=function(n){Ua(this);let e=[];if("string"==typeof n)lM(this,n)&&(e=e.concat(this.g.get(sc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return Ua(this),this.i=null,lM(this,n=sc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var dM=10;function CI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function rp(n){return n.h?1:n.g?n.g.size:0}function vb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function II(n,e){n.g?n.g.add(e):n.h=e}function hM(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fM(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return G0(n.i)}function bb(){}function pM(){this.g=new bb}function gM(n,e,t){const r=t||"";try{pb(n,function(i,o){let c=i;Bm(i)&&(c=Zm(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function l_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kd(n){this.l=n.fc||null,this.j=n.ob||!1}function ip(n,e){Jr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=EI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cM.prototype.cancel=function(){if(this.i=fM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},bb.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},bb.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},Kr(Kd,Wd),Kd.prototype.g=function(){return new ip(this.l,this.j)},Kd.prototype.i=function(n){return function(){return n}}({}),Kr(ip,Jr);var EI=0;function Gs(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,oc(n)}function oc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=ip.prototype).open=function(n,e){if(this.readyState!=EI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,oc(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$t).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=EI},dt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gs(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},dt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sp(this):oc(this),3==this.readyState&&Gs(this)}},dt.Za=function(n){this.g&&(this.response=this.responseText=n,sp(this))},dt.Ya=function(n){this.g&&(this.response=n,sp(this))},dt.ka=function(){this.g&&sp(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ip.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mM=$t.JSON.parse;function Nr(n){Jr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ws,this.L=this.M=!1}Kr(Nr,Jr);var ws="",_M=/^https?$/i,wb=["POST","PUT"];function TI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,u_(n),op(n)}function u_(n){n.F||(n.F=!0,Qr(n,"complete"),Qr(n,"error"))}function Db(n){if(n.h&&typeof Fm<"u"&&(!n.C[1]||4!=ea(n)||2!=n.da()))if(n.v&&4==ea(n))Jm(n.La,0,n);else if(Qr(n,"readystatechange"),4==ea(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.I).match(gb)[1]||null;if(!i&&$t.self&&$t.self.location){var o=$t.self.location.protocol;i=o.substr(0,o.length-1)}r=!_M.test(i?i.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var c=2<ea(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",u_(n)}}finally{op(n)}}}function op(n,e){if(n.g){AI(n);const t=n.g,r=n.C[0]?$f:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch{}}}function AI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function ea(n){return n.g?n.g.readyState:0}function Cb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ws:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function SI(n){let e="";return J0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function c_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=SI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ur(n,e,t))}function ap(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function d_(n){this.Ga=0,this.i=[],this.j=new Qm,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ap("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ap("baseRetryDelayMs",5e3,n),this.hb=ap("retryDelaySeedMs",1e4,n),this.eb=ap("forwardChannelMaxRetries",2,n),this.xa=ap("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new cM(n&&n.concurrentRequestLimit),this.Ja=new pM,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function go(n){if(Ib(n),3==n.H){var e=n.W++,t=Ba(n.G);ur(t,"SID",n.J),ur(t,"RID",e),ur(t,"TYPE","terminate"),h_(n,t),(e=new Yd(n,n.j,e,void 0)).L=2,e.v=_b(Ba(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=Nb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xf(e)}vM(n)}function mo(n){n.g&&(Tb(n),n.g.cancel(),n.g=null)}function Ib(n){mo(n),n.u&&($t.clearTimeout(n.u),n.u=null),Sb(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function Jd(n){CI(n.h)||n.m||(n.m=!0,cI(n.Na,n),n.C=0)}function NI(n,e){var t;t=e?e.m:n.W++;const r=Ba(n.G);ur(r,"SID",n.J),ur(r,"RID",t),ur(r,"AID",n.V),h_(n,r),n.o&&n.s&&c_(r,n.o,n.s),t=new Yd(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=RI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),II(n.h,t),db(t,r,e)}function h_(n,e){n.ma&&J0(n.ma,function(t,r){ur(e,r,t)}),n.l&&pb({},function(t,r){ur(e,r,t)})}function RI(n,e,t){t=Math.min(n.i.length,t);var r=n.l?yi(n.l.Va,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let f=!0;for(let m=0;m<t;m++){let v=i[m].h;const C=i[m].g;if(v-=o,0>v)o=Math.max(0,i[m].h-100),f=!1;else try{gM(C,c,"req"+v+"_")}catch{r&&r(C)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function xI(n){n.g||n.u||(n.ba=1,cI(n.Ma,n),n.A=0)}function Eb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=nc(yi(n.Ma,n),OI(n,n.A)),n.A++,0))}function Tb(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function Ab(n){n.g=new Yd(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ba(n.wa);ur(e,"RID","rpc"),ur(e,"SID",n.J),ur(e,"CI",n.M?"0":"1"),ur(e,"AID",n.V),ur(e,"TYPE","xmlhttp"),h_(n,e),n.o&&n.s&&c_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=_b(Ba(e)),t.s=null,t.S=!0,_I(t,n)}function Sb(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function Mb(n,e){var t=null;if(n.g==e){Sb(n),Tb(n),n.g=null;var r=2}else{if(!vb(n.h,e))return;t=e.F,hM(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Qr(r=zd(),new mI(r,t)),Jd(n)}else xI(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function MI(n,e){return!(rp(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=nc(yi(n.Na,n,e),OI(n,n.C)),n.C++,0)))}(n,e)||2==r&&Eb(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Ll(n,5);break;case 4:Ll(n,10);break;case 3:Ll(n,6);break;default:Ll(n,2)}}function OI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Ll(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=yi(n.pb,n);t||(t=new ic("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||mb(t,"https"),_b(t)),function PP(n,e){const t=new Qm;if($t.Image){const r=new Image;r.onload=Ld(l_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ld(l_,t,r,"TestLoadImage: error",!1,e),r.onabort=Ld(l_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ld(l_,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Gi(2);n.H=0,n.l&&n.l.za(e),vM(n),Ib(n)}function vM(n){if(n.H=0,n.pa=[],n.l){const e=fM(n.h);(0!=e.length||0!=n.i.length)&&(KC(n.pa,e),KC(n.pa,n.i),n.h.i.length=0,G0(n.i),n.i.length=0),n.l.ya()}}function f_(n,e,t){var r=t instanceof ic?Ba(t):new ic(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),np(r,r.m);else{var i=$t.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ic(null,void 0);r&&mb(o,r),e&&(o.g=e),i&&np(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&ur(r,t,e),ur(r,"VER",n.qa),h_(n,r),r}function Nb(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nr(t&&n.Ha&&!n.va?new Kd({ob:!0}):n.va)).Oa(n.I),e}function Rb(){}function lp(){if(Bd&&!(10<=Number(tI)))throw Error("Environmental error: no available transport.")}function os(n,e){Jr.call(this),this.g=new d_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Va(this)}function xb(n){lb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function up(){e_.call(this),this.status=1}function Va(n){this.g=n}function _o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ob(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ln(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(dt=Nr.prototype).Oa=function(n){this.M=n},dt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kl.g(),this.C=function Xm(n){return n.h||(n.h=n.i())}(this.u?this.u:kl),this.g.onreadystatechange=yi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void TI(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=$t.FormData&&n instanceof $t.FormData,!(0<=H0(wb,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{AI(this),0<this.B&&((this.L=function yM(n){return Bd&&function eI(){return QC(Gf,9,function(){let n=0;const e=YS(String(jm)).split("."),t=YS("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",o=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=Um(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Um(0==i[2].length,0==o[2].length)||Um(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yi(this.ua,this)):this.A=Jm(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){TI(this,o)}},dt.ua=function(){typeof Fm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),op(this))},dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),op(this,!0)),Nr.$.N.call(this)},dt.La=function(){this.s||(this.G||this.v||this.l?Db(this):this.kb())},dt.kb=function(){Db(this)},dt.da=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},dt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mM(e)}},dt.Ia=function(){return this.m},dt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=d_.prototype).qa=8,dt.H=1,dt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Yd(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=iI(o),Vd(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=RI(this,i,e),ur(t=Ba(this.G),"RID",n),ur(t,"CVER",22),this.F&&ur(t,"X-HTTP-Session-Id",this.F),h_(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(SI(o)))+"&"+e:this.o&&c_(t,this.o,o)),II(this.h,i),this.bb&&ur(t,"TYPE","init"),this.P?(ur(t,"$req",e),ur(t,"SID","null"),i.ba=!0,db(i,t,null)):db(i,t,e),this.H=2}}else 3==this.H&&(n?NI(this,n):0==this.i.length||CI(this.h)||NI(this))},dt.Ma=function(){if(this.u=null,Ab(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=nc(yi(this.jb,this),n)}},dt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Gi(10),mo(this),Ab(this))},dt.ib=function(){null!=this.v&&(this.v=null,mo(this),Eb(this),Gi(19))},dt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Gi(2)):(this.j.info("Failed to ping google.com"),Gi(1))},(dt=Rb.prototype).Ba=function(){},dt.Aa=function(){},dt.za=function(){},dt.ya=function(){},dt.Va=function(){},lp.prototype.g=function(n,e){return new os(n,e)},Kr(os,Jr),os.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Gi(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=f_(n,null,n.Y),Jd(n)},os.prototype.close=function(){go(this.g)},os.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Zm(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Jd(e)},os.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,os.$.N.call(this)},Kr(xb,lb),Kr(up,e_),Kr(Va,Rb),Va.prototype.Ba=function(){Qr(this.g,"a")},Va.prototype.Aa=function(n){Qr(this.g,new xb(n))},Va.prototype.za=function(n){Qr(this.g,new up)},Va.prototype.ya=function(){Qr(this.g,"b")},Kr(_o,function PI(){this.blockSize=-1}),_o.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_o.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)Ob(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){Ob(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){Ob(this,r),i=0;break}}this.h=i,this.i+=e},_o.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var kP={};function kI(n){return-128<=n&&128>n?QC(kP,n,function(e){return new Ln([0|e],0>e?-1:0)}):new Ln([0|n],0>n?-1:0)}function yo(n){if(isNaN(n)||!isFinite(n))return Qd;if(0>n)return Oi(yo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Pb;return new Ln(e,0)}var Pb=4294967296,Qd=kI(0),LI=kI(1),bM=kI(16777216);function Bl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function vo(n){return-1==n.h}function Oi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ln(t,~n.h).add(LI)}function p_(n,e){return n.add(Oi(e))}function ac(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function cp(n,e){this.g=n,this.h=e}function g_(n,e){if(Bl(e))throw Error("division by zero");if(Bl(n))return new cp(Qd,Qd);if(vo(n))return e=g_(Oi(n),e),new cp(Oi(e.g),Oi(e.h));if(vo(e))return e=g_(n,Oi(e)),new cp(Oi(e.g),e.h);if(30<n.g.length){if(vo(n)||vo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=LI,r=e;0>=r.X(n);)t=kb(t),r=kb(r);var i=zs(t,1),o=zs(r,1);for(r=zs(r,2),t=zs(t,2);!Bl(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=zs(r,1),t=zs(t,1)}return e=p_(n,i.R(e)),new cp(i,e)}for(i=Qd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=yo(t)).R(e);vo(c)||0<c.X(n);)c=(o=yo(t-=r)).R(e);Bl(o)&&(o=LI),i=i.add(o),n=p_(n,c)}return new cp(i,n)}function kb(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ln(t,n.h)}function zs(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ln(i,n.h)}(dt=Ln.prototype).ea=function(){if(vo(this))return-Oi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Pb+r)*e,e*=Pb}return n},dt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Bl(this))return"0";if(vo(this))return"-"+Oi(this).toString(n);for(var e=yo(Math.pow(n,6)),t=this,r="";;){var i=g_(t,e).g,o=((0<(t=p_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Bl(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},dt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},dt.X=function(n){return vo(n=p_(this,n))?-1:Bl(n)?0:1},dt.abs=function(){return vo(this)?Oi(this):this},dt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new Ln(t,-2147483648&t[t.length-1]?-1:0)},dt.R=function(n){if(Bl(this)||Bl(n))return Qd;if(vo(this))return vo(n)?Oi(this).R(Oi(n)):Oi(Oi(this).R(n));if(vo(n))return Oi(this.R(Oi(n)));if(0>this.X(bM)&&0>n.X(bM))return yo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=c*m,ac(t,2*r+2*i),t[2*r+2*i+1]+=o*m,ac(t,2*r+2*i+1),t[2*r+2*i+1]+=c*f,ac(t,2*r+2*i+1),t[2*r+2*i+2]+=o*f,ac(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ln(t,0)},dt.gb=function(n){return g_(this,n).h},dt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ln(t,this.h&n.h)},dt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ln(t,this.h|n.h)},dt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ln(t,this.h^n.h)},lp.prototype.createWebChannel=lp.prototype.g,os.prototype.send=os.prototype.u,os.prototype.open=os.prototype.m,os.prototype.close=os.prototype.close,Qf.NO_ERROR=0,Qf.TIMEOUT=8,Qf.HTTP_ERROR=6,ab.COMPLETE="complete",iM.EventType=Zd,Zd.OPEN="a",Zd.CLOSE="b",Zd.ERROR="c",Zd.MESSAGE="d",Jr.prototype.listen=Jr.prototype.O,Nr.prototype.listenOnce=Nr.prototype.P,Nr.prototype.getLastError=Nr.prototype.Sa,Nr.prototype.getLastErrorCode=Nr.prototype.Ia,Nr.prototype.getStatus=Nr.prototype.da,Nr.prototype.getResponseJson=Nr.prototype.Wa,Nr.prototype.getResponseText=Nr.prototype.ja,Nr.prototype.send=Nr.prototype.ha,Nr.prototype.setWithCredentials=Nr.prototype.Oa,_o.prototype.digest=_o.prototype.l,_o.prototype.reset=_o.prototype.reset,_o.prototype.update=_o.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=yo,Ln.fromString=function FI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Oi(FI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yo(Math.pow(e,8)),r=Qd,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=yo(Math.pow(e,o)),r=r.R(o).add(yo(c))):r=(r=r.R(t)).add(yo(c))}return r};var BI=bs.createWebChannelTransport=function(){return new lp},Fb=bs.getStatEventTarget=function(){return zd()},dp=bs.ErrorCode=Qf,wM=bs.EventType=ab,Lb=bs.Event=po,m_=bs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},__=bs.FetchXmlHttpFactory=Kd,Bb=bs.WebChannel=iM,FP=bs.XhrIo=Nr,LP=bs.Md5=_o,hp=bs.Integer=Ln;const Ub="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let Xd="9.21.0";const Ul=new uo.Yd("@firebase/firestore");function Vb(){return Ul.logLevel}function Ue(n,...e){if(Ul.logLevel<=uo.in.DEBUG){const t=e.map($b);Ul.debug(`Firestore (${Xd}): ${n}`,...t)}}function yr(n,...e){if(Ul.logLevel<=uo.in.ERROR){const t=e.map($b);Ul.error(`Firestore (${Xd}): ${n}`,...t)}}function qs(n,...e){if(Ul.logLevel<=uo.in.WARN){const t=e.map($b);Ul.warn(`Firestore (${Xd}): ${n}`,...t)}}function $b(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${Xd}) INTERNAL ASSERTION FAILED: `+n;throw yr(e),new Error(e)}function Tt(n,e){n||gt()}function ot(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends pt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class DM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class CM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IM{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,X.Z)(function*(){yield v.promise,yield o(r.currentUser)}))},m=v=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new DM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new ai(e)}}class EM{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class VP{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new EM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $P{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.T=t.token,new TM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function AM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class SM{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AM(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function en(n,e){return n<e?-1:n>e?1:0}function fp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function MM(n){return n+"\0"}class ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ir(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new ir(0,0))}static max(){return new Mt(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class s{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===s.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof s?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class a extends s{construct(e,t,r){return new a(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new a(t)}static emptyPath(){return new a([])}}const u=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class d extends s{construct(e,t,r){return new d(e,t,r)}static isValidIdentifier(e){return u.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),d.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new d(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new xe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new xe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new xe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(o(),i++)}if(o(),c)throw new xe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new d(t)}static emptyPath(){return new d([])}}class h{constructor(e){this.path=e}static fromPath(e){return new h(a.fromString(e))}static fromName(e){return new h(a.fromString(e).popFirst(5))}static empty(){return new h(a.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===a.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return a.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new h(new a(e.slice()))}}class g{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function y(n){return n.fields.find(e=>2===e.kind)}function D(n){return n.fields.filter(e=>2!==e.kind)}g.UNKNOWN_ID=-1;class S{constructor(e,t){this.fieldPath=e,this.kind=t}}class V{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new V(0,ye.min())}}function Y(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new ir(t+1,0):new ir(t,r));return new ye(i,h.empty(),e)}function ae(n){return new ye(n.readTime,n.key,-1)}class ye{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ye(Mt.min(),h.empty(),-1)}static max(){return new ye(Mt.max(),h.empty(),-1)}}function We(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=h.comparator(n.documentKey,e.documentKey),0!==t?t:en(n.largestBatchId,e.largestBatchId))}const at="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Nt(n){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,X.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==at)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),Pe.apply(this,arguments)}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,r)=>{t(e)})}static reject(e){return new K((t,r)=>{r(e)})}static waitFor(e){return new K((t,r)=>{let i=0,o=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++o,c&&o===i&&t()},m=>r(m))}),c=!0,o===i&&t()})}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next(i=>i?K.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new K((r,i)=>{const o=e.length,c=new Array(o);let f=0;for(let m=0;m<o;m++){const v=m;t(e[v]).next(C=>{c[v]=C,++f,f===o&&r(c)},C=>i(C))}})}static doWhile(e,t){return new K((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class $n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Xr,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new jb(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=NM(r.target.error);this.R.reject(new jb(e,i))}}static open(e,t,r,i){try{return new $n(t,e.transaction(i,r))}catch(o){throw new jb(t,o)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new H$(t)}}class Mn{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Mn.S((0,pt.z$)())&&yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),pp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,pt.hl)())return!1;if(Mn.C())return!0;const e=(0,pt.z$)(),t=Mn.S(e),r=0<t&&t<10,i=Mn.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,X.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new jb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new xe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new xe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new jb(e,f))},o.onupgradeneeded=c=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.$(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,X.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{o.db=yield o.O(e);const m=$n.open(o.db,e,c?"readonly":"readwrite",r),v=i(m).next(C=>(m.P(),C)).catch(C=>(m.abort(C),K.reject(C))).toPromise();return v.catch(()=>{}),yield m.v,v}catch(m){const v=m,C="FirebaseError"!==v.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),o.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jP{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return pp(this.L.delete())}}class jb extends xe{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function eh(n){return"IndexedDbTransactionError"===n.name}class H${constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),pp(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),pp(this.store.add(e))}get(e){return pp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),pp(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),pp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(c,f)=>{o.push(f)}).next(()=>o)}{const i=this.store.getAll(r.range);return new K((o,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{o(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new K((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,c,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new K((r,i)=>{t.onerror=o=>{const c=NM(o.target.error);i(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}W(e,t){const r=[];return new K((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const m=new jP(f),v=t(f.primaryKey,f.value,m);if(v instanceof K){const C=v.catch(A=>(m.done(),K.reject(A)));r.push(C)}m.isDone?i():null===m.K?f.continue():f.continue(m.K)}}).next(()=>K.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pp(n){return new K((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=NM(r.target.error);t(i)}})}let HP=!1;function NM(n){const e=Mn.S((0,pt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HP||(HP=!0,setTimeout(()=>{throw r},0)),r}}return n}class G${constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){eh(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Nt(r)}yield t.et(6e4)}))}}class z${constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return K.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ue("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(f=>{i-=f,r.add(c)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,o)).next(f=>(Ue("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const c=ae(o);We(c,r)>0&&(r=c)}),new ye(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let bo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Hb(n){return null==n}function Gb(n){return 0===n&&1/n==-1/0}function GP(n){return"number"==typeof n&&Number.isInteger(n)&&!Gb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function as(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zP(e)),e=q$(n.get(t),e);return zP(e)}function q$(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function zP(n){return n+"\x01\x01"}function Vl(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),a.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&gt(),n.charAt(c+1)){case"\x01":const f=n.substring(o,c);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:gt()}o=c+2}return new a(r)}const qP=["userId","batchId"];function VI(n,e){return[n,as(e)]}function WP(n,e,t){return[n,as(e),t]}const W$={},Z$=["prefixPath","collectionGroup","readTime","documentId"],Y$=["prefixPath","collectionGroup","documentId"],K$=["collectionGroup","readTime","prefixPath","documentId"],J$=["canonicalId","targetId"],Q$=["targetId","path"],X$=["path","targetId"],e3=["collectionId","parent"],t3=["indexId","uid"],n3=["uid","sequenceNumber"],r3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],i3=["indexId","uid","orderedDocumentKey"],s3=["userId","collectionPath","documentId"],o3=["userId","collectionPath","largestBatchId"],a3=["userId","collectionGroup","largestBatchId"],ZP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],l3=[...ZP,"documentOverlays"],YP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KP=YP,u3=[...KP,"indexConfiguration","indexState","indexEntries"];class RM extends wt{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=ot(n);return Mn.M(t.at,e)}function JP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function th(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class sr{constructor(e,t){this.comparator=e,this.root=t||zi.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $I(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $I(this.root,e,this.comparator,!1)}getReverseIterator(){return new $I(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $I(this.root,e,this.comparator,!0)}}class $I{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zi{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??zi.RED,this.left=i??zi.EMPTY,this.right=o??zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new zi(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return zi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new zi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class cr{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XP(this.data.getIterator())}getIteratorFrom(e){return new XP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cr(this.comparator);return t.data=e,t}}class XP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function y_(n){return n.hasNext()?n.getNext():void 0}class Ws{constructor(e){this.fields=e,e.sort(d.comparator)}static empty(){return new Ws([])}unionWith(e){let t=new cr(d.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ek extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ek("Invalid base64 string: "+i):i}}(e);return new vi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new vi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const d3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=d3.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$r(n.seconds),nanos:$r(n.nanos)}}function $r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function lc(n){return"string"==typeof n?vi.fromBase64String(n):vi.fromUint8Array(n)}function jI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HI(n){const e=n.mapValue.fields.__previous_value__;return jI(e)?HI(e):e}function zb(n){const e=nh(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}class h3{constructor(e,t,r,i,o,c,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class rh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rh&&e.projectId===this.projectId&&e.database===this.database}}const ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},GI={nullValue:"NULL_VALUE"};function sh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jI(n)?4:ik(n)?9007199254740991:10:gt()}function $l(n,e){if(n===e)return!0;const t=sh(n);if(t!==sh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zb(n).isEqual(zb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=nh(r.timestampValue),c=nh(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,lc(n.bytesValue).isEqual(lc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return $r(r.geoPointValue.latitude)===$r(i.geoPointValue.latitude)&&$r(r.geoPointValue.longitude)===$r(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return $r(r.integerValue)===$r(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=$r(r.doubleValue),c=$r(i.doubleValue);return o===c?Gb(o)===Gb(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return fp(n.arrayValue.values||[],e.arrayValue.values||[],$l);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(JP(o)!==JP(c))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===c[f]||!$l(o[f],c[f])))return!1;return!0}(n,e);default:return gt()}var i}function qb(n,e){return void 0!==(n.values||[]).find(t=>$l(t,e))}function oh(n,e){if(n===e)return 0;const t=sh(n),r=sh(e);if(t!==r)return en(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=$r(i.integerValue||i.doubleValue),f=$r(o.integerValue||o.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return tk(n.timestampValue,e.timestampValue);case 4:return tk(zb(n),zb(e));case 5:return en(n.stringValue,e.stringValue);case 6:return function(i,o){const c=lc(i),f=lc(o);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),f=o.split("/");for(let m=0;m<c.length&&m<f.length;m++){const v=en(c[m],f[m]);if(0!==v)return v}return en(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=en($r(i.latitude),$r(o.latitude));return 0!==c?c:en($r(i.longitude),$r(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],f=o.values||[];for(let m=0;m<c.length&&m<f.length;++m){const v=oh(c[m],f[m]);if(v)return v}return en(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ih.mapValue&&o===ih.mapValue)return 0;if(i===ih.mapValue)return 1;if(o===ih.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),m=o.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const A=en(f[C],v[C]);if(0!==A)return A;const P=oh(c[f[C]],m[v[C]]);if(0!==P)return P}return en(f.length,v.length)}(n.mapValue,e.mapValue);default:throw gt()}}function tk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return en(n,e);const t=nh(n),r=nh(e),i=en(t.seconds,r.seconds);return 0!==i?i:en(t.nanos,r.nanos)}function v_(n){return xM(n)}function xM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=nh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?lc(n.bytesValue).toBase64():"referenceValue"in n?h.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=xM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const f of i)c?c=!1:o+=",",o+=`${f}:${xM(r.fields[f])}`;return o+"}"}(n.mapValue):gt();var e}function gp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function OM(n){return!!n&&"integerValue"in n}function Wb(n){return!!n&&"arrayValue"in n}function nk(n){return!!n&&"nullValue"in n}function rk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qI(n){return!!n&&"mapValue"in n}function Zb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return th(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ik(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function f3(n){return"nullValue"in n?GI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gp(rh.empty(),h.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function p3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gp(rh.empty(),h.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ih:gt()}function sk(n,e){const t=oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ok(n,e){const t=oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zb(t)}setAll(e){let t=d.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Zb(c):i.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());qI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $l(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){th(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qi(Zb(this.value))}}function ak(n){const e=[];return th(n.fields,(t,r)=>{const i=new d([t]);if(qI(r)){const o=ak(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new Ws(e)}class dr{constructor(e,t,r,i,o,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new dr(e,0,Mt.min(),Mt.min(),Mt.min(),qi.empty(),0)}static newFoundDocument(e,t,r,i){return new dr(e,1,t,Mt.min(),r,i,0)}static newNoDocument(e,t){return new dr(e,2,t,Mt.min(),Mt.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Mt.min(),Mt.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,t){this.position=e,this.inclusive=t}}function lk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?h.comparator(h.fromName(c.referenceValue),t.key):oh(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function uk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$l(n.position[t],e.position[t]))return!1;return!0}class b_{constructor(e,t="asc"){this.field=e,this.dir=t}}function g3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ck{}class wn extends ck{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new m3(e,t,r):"array-contains"===t?new v3(e,r):"in"===t?new mk(e,r):"not-in"===t?new b3(e,r):"array-contains-any"===t?new w3(e,r):new wn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _3(e,r):new y3(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oh(t,this.value)):null!==t&&sh(this.value)===sh(t)&&this.matchesComparison(oh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends ck{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new jn(e,t)}matches(e){return w_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function w_(n){return"and"===n.op}function PM(n){return"or"===n.op}function kM(n){return dk(n)&&w_(n)}function dk(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function FM(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+v_(n.value);if(kM(n))return n.filters.map(e=>FM(e)).join(",");{const e=n.filters.map(t=>FM(t)).join(",");return`${n.op}(${e})`}}function hk(n,e){return n instanceof wn?(t=n,(r=e)instanceof wn&&t.op===r.op&&t.field.isEqual(r.field)&&$l(t.value,r.value)):n instanceof jn?function(t,r){return r instanceof jn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,c)=>i&&hk(o,r.filters[c]),!0)}(n,e):void gt();var t,r}function fk(n,e){const t=n.filters.concat(e);return jn.create(t,n.op)}function pk(n){return n instanceof wn?`${(e=n).field.canonicalString()} ${e.op} ${v_(e.value)}`:n instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(pk).join(" ,")+"}"}(n):"Filter";var e}class m3 extends wn{constructor(e,t,r){super(e,t,r),this.key=h.fromName(r.referenceValue)}matches(e){const t=h.comparator(e.key,this.key);return this.matchesComparison(t)}}class _3 extends wn{constructor(e,t){super(e,"in",t),this.keys=gk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class y3 extends wn{constructor(e,t){super(e,"not-in",t),this.keys=gk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>h.fromName(r.referenceValue))}class v3 extends wn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wb(t)&&qb(t.arrayValue,this.value)}}class mk extends wn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qb(this.value.arrayValue,t)}}class b3 extends wn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qb(this.value.arrayValue,t)}}class w3 extends wn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qb(this.value.arrayValue,r))}}class D3{constructor(e,t=null,r=[],i=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=f,this.ft=null}}function LM(n,e=null,t=[],r=[],i=null,o=null,c=null){return new D3(n,e,t,r,i,o,c)}function mp(n){const e=ot(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>FM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Hb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>v_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>v_(r)).join(",")),e.ft=t}return e.ft}function Yb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!g3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uk(n.startAt,e.startAt)&&uk(n.endAt,e.endAt)}function WI(n){return h.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ZI(n,e){return n.filters.filter(t=>t instanceof wn&&t.field.isEqual(e))}function _k(n,e,t){let r=GI,i=!0;for(const o of ZI(n,e)){let c=GI,f=!0;switch(o.op){case"<":case"<=":c=f3(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,f=!1;break;case"!=":case"not-in":c=GI}sk({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];sk({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function yk(n,e,t){let r=ih,i=!0;for(const o of ZI(n,e)){let c=ih,f=!0;switch(o.op){case">=":case">":c=p3(o.value),f=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,f=!1;break;case"!=":case"not-in":c=ih}ok({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];ok({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class uc{constructor(e,t=null,r=[],i=[],o=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=m,this.dt=null,this._t=null}}function vk(n,e,t,r,i,o,c,f){return new uc(n,e,t,r,i,o,c,f)}function D_(n){return new uc(n)}function bk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function BM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function YI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function UM(n){return null!==n.collectionGroup}function _p(n){const e=ot(n);if(null===e.dt){e.dt=[];const t=YI(e),r=BM(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new b_(t)),e.dt.push(new b_(d.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new b_(d.keyField(),o))}}}return e.dt}function Ds(n){const e=ot(n);if(!e._t)if("F"===e.limitType)e._t=LM(e.path,e.collectionGroup,_p(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of _p(e))t.push(new b_(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new ah(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ah(e.startAt.position,e.startAt.inclusive):null;e._t=LM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function VM(n,e){e.getFirstInequalityField(),YI(n);const t=n.filters.concat([e]);return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function KI(n,e,t){return new uc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kb(n,e){return Yb(Ds(n),Ds(e))&&n.limitType===e.limitType}function wk(n){return`${mp(Ds(n))}|lt:${n.limitType}`}function $M(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>pk(r)).join(", ")}]`),Hb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>v_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>v_(r)).join(",")),`Target(${t})`}(Ds(n))}; limitType=${n.limitType})`}function Jb(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):h.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of _p(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const f=lk(i,o,c);return i.inclusive?f<=0:f<0}(t.startAt,_p(t),r)||t.endAt&&!function(i,o,c){const f=lk(i,o,c);return i.inclusive?f>=0:f>0}(t.endAt,_p(t),r)));var t,r}function Dk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ck(n){return(e,t)=>{let r=!1;for(const i of _p(n)){const o=C3(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function C3(n,e,t){const r=n.field.isKeyField()?h.comparator(e.key,t.key):function(i,o,c){const f=o.data.field(i),m=c.data.field(i);return null!==f&&null!==m?oh(f,m):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}class cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){th(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return QP(this.inner)}size(){return this.innerSize}}const I3=new sr(h.comparator);function Zs(){return I3}const Ik=new sr(h.comparator);function Qb(...n){let e=Ik;for(const t of n)e=e.insert(t.key,t);return e}function Ek(n){let e=Ik;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jl(){return Xb()}function Tk(){return Xb()}function Xb(){return new cc(n=>n.toString(),(n,e)=>n.isEqual(e))}const E3=new sr(h.comparator),T3=new cr(h.comparator);function hn(...n){let e=T3;for(const t of n)e=e.add(t);return e}const A3=new cr(en);function jM(){return A3}function Ak(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gb(e)?"-0":e}}function Sk(n){return{integerValue:""+n}}function Mk(n,e){return GP(e)?Sk(e):Ak(n,e)}class JI{constructor(){this._=void 0}}function S3(n,e,t){return n instanceof C_?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&jI(i)&&(i=HI(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof yp?Rk(n,e):n instanceof vp?xk(n,e):function(r,i){const o=Nk(r,i),c=Ok(o)+Ok(r.wt);return OM(o)&&OM(r.wt)?Sk(c):Ak(r.serializer,c)}(n,e)}function M3(n,e,t){return n instanceof yp?Rk(n,e):n instanceof vp?xk(n,e):t}function Nk(n,e){return n instanceof I_?OM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class C_ extends JI{}class yp extends JI{constructor(e){super(),this.elements=e}}function Rk(n,e){const t=Pk(e);for(const r of n.elements)t.some(i=>$l(i,r))||t.push(r);return{arrayValue:{values:t}}}class vp extends JI{constructor(e){super(),this.elements=e}}function xk(n,e){let t=Pk(e);for(const r of n.elements)t=t.filter(i=>!$l(i,r));return{arrayValue:{values:t}}}class I_ extends JI{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Ok(n){return $r(n.integerValue||n.doubleValue)}function Pk(n){return Wb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ew{constructor(e,t){this.field=e,this.transform=t}}class R3{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function QI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class XI{}function kk(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new T_(n.key,vr.none()):new E_(n.key,n.data,vr.none());{const t=n.data,r=qi.empty();let i=new cr(d.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new dc(n.key,r,new Ws(i.toArray()),vr.none())}}function x3(n,e,t){n instanceof E_?function(r,i,o){const c=r.value.clone(),f=Bk(r.fieldTransforms,i,o.transformResults);c.setAll(f),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof dc?function(r,i,o){if(!QI(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=Bk(r.fieldTransforms,i,o.transformResults),f=i.data;f.setAll(Lk(r)),f.setAll(c),i.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tw(n,e,t,r){return n instanceof E_?function(i,o,c,f){if(!QI(i.precondition,o))return c;const m=i.value.clone(),v=Uk(i.fieldTransforms,f,o);return m.setAll(v),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof dc?function(i,o,c,f){if(!QI(i.precondition,o))return c;const m=Uk(i.fieldTransforms,f,o),v=o.data;return v.setAll(Lk(i)),v.setAll(m),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(c=t,QI(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function O3(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Nk(r.transform,i||null);null!=o&&(null===t&&(t=qi.empty()),t.set(r.field,o))}return t||null}function Fk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&fp(t,r,(i,o)=>function N3(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yp&&r instanceof yp||t instanceof vp&&r instanceof vp?fp(t.elements,r.elements,$l):t instanceof I_&&r instanceof I_?$l(t.wt,r.wt):t instanceof C_&&r instanceof C_);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class E_ extends XI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dc extends XI{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lk(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Bk(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,f=e.data.field(o.field);r.set(o.field,M3(c,f,t[i]))}return r}function Uk(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,S3(o,c,e))}return r}class T_ extends XI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HM extends XI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&x3(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Tk();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(i.key)?null:f;const m=kk(c,f);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),hn())}isEqual(e){return this.batchId===e.batchId&&fp(this.mutations,e.mutations,(t,r)=>Fk(t,r))&&fp(this.baseMutations,e.baseMutations,(t,r)=>Fk(t,r))}}class zM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=E3;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new zM(e,t,r,i)}}class qM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class k3{constructor(e,t){this.count=e,this.unchangedNames=t}}var li,Tn;function Vk(n){switch(n){default:return gt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function $k(n){if(void 0===n)return yr("GRPC error has no .code"),he.UNKNOWN;switch(n){case li.OK:return he.OK;case li.CANCELLED:return he.CANCELLED;case li.UNKNOWN:return he.UNKNOWN;case li.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case li.INTERNAL:return he.INTERNAL;case li.UNAVAILABLE:return he.UNAVAILABLE;case li.UNAUTHENTICATED:return he.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case li.NOT_FOUND:return he.NOT_FOUND;case li.ALREADY_EXISTS:return he.ALREADY_EXISTS;case li.PERMISSION_DENIED:return he.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case li.ABORTED:return he.ABORTED;case li.OUT_OF_RANGE:return he.OUT_OF_RANGE;case li.UNIMPLEMENTED:return he.UNIMPLEMENTED;case li.DATA_LOSS:return he.DATA_LOSS;default:return gt()}}(Tn=li||(li={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class WM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return eE}static getOrCreateInstance(){return null===eE&&(eE=new WM),eE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let eE=null;function jk(){return new TextEncoder}const F3=new hp([4294967295,4294967295],0);function Hk(n){const e=jk().encode(n),t=new LP;return t.update(e),new Uint8Array(t.digest())}function Gk(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hp([t,r],0),new hp([i,o],0)]}class ZM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nw(`Invalid padding: ${t}`);if(r<0)throw new nw(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new nw(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new nw(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=hp.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(hp.fromNumber(r)));return 1===i.compare(F3)&&(i=new hp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=Hk(e),[r,i]=Gk(t);for(let o=0;o<this.hashCount;o++){const c=this.Tt(r,i,o);if(!this.Et(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ZM(o,i,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(0===this.yt)return;const t=Hk(e),[r,i]=Gk(t);for(let o=0;o<this.hashCount;o++){const c=this.Tt(r,i,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class nw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rw{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,iw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rw(Mt.min(),i,new sr(en),Zs(),hn())}}class iw{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new iw(r,t,hn(),hn(),hn())}}class tE{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class zk{constructor(e,t){this.targetId=e,this.bt=t}}class qk{constructor(e,t,r=vi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Wk{constructor(){this.Vt=0,this.St=Yk(),this.Dt=vi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=hn(),t=hn(),r=hn();return this.St.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new iw(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=Yk()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class L3{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Zs(),this.jt=Zk(),this.zt=new sr(en)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,o=this.ne(r);if(o){const c=o.target;if(WI(c))if(0===i){const f=new h(c.path);this.Jt(r,f,dr.newNoDocument(f,Mt.min()))}else Tt(1===i);else{const f=this.se(r);if(f!==i){const m=this.ie(e,f);0!==m&&(this.te(r),this.zt=this.zt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=WM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,A){var P,B,q,te,oe,Ce;const Oe={localCacheCount:C,existenceFilterCount:A.count},Fe=A.unchangedNames;return Fe&&(Oe.bloomFilter={applied:0===v,hashCount:null!==(P=Fe?.hashCount)&&void 0!==P?P:0,bitmapLength:null!==(te=null===(q=null===(B=Fe?.bits)||void 0===B?void 0:B.bitmap)||void 0===q?void 0:q.length)&&void 0!==te?te:0,padding:null!==(Ce=null===(oe=Fe?.bits)||void 0===oe?void 0:oe.padding)&&void 0!==Ce?Ce:0}),Oe}(m,f,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:f=0}=r;let m,v;try{m=lc(o).toUint8Array()}catch(C){if(C instanceof ek)return qs("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new ZM(m,c,f)}catch(C){return qs(C instanceof nw?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.yt?1:i!==t-this.re(e.targetId,v)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const c=this.Kt.oe(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.At(f)||(this.Jt(e,o,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((o,c)=>{const f=this.ne(c);if(f){if(o.current&&WI(f.target)){const m=new h(f.target.path);null!==this.Qt.get(m)||this.ce(c,m)||this.Jt(c,m,dr.newNoDocument(m,e))}o.kt&&(t.set(c,o.Ot()),o.$t())}});let r=hn();this.jt.forEach((o,c)=>{let f=!0;c.forEachWhile(m=>{const v=this.ne(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(o))}),this.Qt.forEach((o,c)=>c.setReadTime(e));const i=new rw(e,t,this.zt,this.Qt,r);return this.Qt=Zs(),this.jt=Zk(),this.zt=new sr(en),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new Wk,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new cr(en),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new Wk),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function Zk(){return new sr(h.comparator)}function Yk(){return new sr(h.comparator)}const B3={asc:"ASCENDING",desc:"DESCENDING"},U3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V3={and:"AND",or:"OR"};class $3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function YM(n,e){return n.useProto3Json||Hb(e)?e:{value:e}}function A_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function j3(n,e){return A_(n,e.toTimestamp())}function ei(n){return Tt(!!n),Mt.fromTimestamp(function(e){const t=nh(e);return new ir(t.seconds,t.nanos)}(n))}function KM(n,e){return(t=n,new a(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jk(n){const e=a.fromString(n);return Tt(o2(e)),e}function sw(n,e){return KM(n.databaseId,e.path)}function Hl(n,e){const t=Jk(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new h(Xk(t))}function JM(n,e){return KM(n.databaseId,e)}function Qk(n){const e=Jk(n);return 4===e.length?a.emptyPath():Xk(e)}function ow(n){return new a(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xk(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function e2(n,e,t){return{name:sw(n,e),fields:t.value.mapValue.fields}}function t2(n,e,t){const r=Hl(n,e.name),i=ei(e.updateTime),o=e.createTime?ei(e.createTime):Mt.min(),c=new qi({mapValue:{fields:e.fields}}),f=dr.newFoundDocument(r,i,o,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function aw(n,e){let t;if(e instanceof E_)t={update:e2(n,e.key,e.value)};else if(e instanceof T_)t={delete:sw(n,e.key)};else if(e instanceof dc)t={update:e2(n,e.key,e.data),updateMask:K3(e.fieldMask)};else{if(!(e instanceof HM))return gt();t={verify:sw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof C_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof yp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof I_)return{fieldPath:o.field.canonicalString(),increment:c.wt};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:j3(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),t;var i}function QM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?vr.updateTime(ei(i.updateTime)):void 0!==i.exists?vr.exists(i.exists):vr.none():vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,c){let f=null;"setToServerValue"in c?(Tt("REQUEST_TIME"===c.setToServerValue),f=new C_):"appendMissingElements"in c?f=new yp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new vp(c.removeAllFromArray.values||[]):"increment"in c?f=new I_(o,c.increment):gt();const m=d.fromServerFormat(c.fieldPath);return new ew(m,f)}(n,i)):[];var i;if(e.update){const i=Hl(n,e.update.name),o=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ws((e.updateMask.fieldPaths||[]).map(v=>d.fromServerFormat(v)));return new dc(i,o,c,t,r)}return new E_(i,o,t,r)}if(e.delete){const i=Hl(n,e.delete);return new T_(i,t)}if(e.verify){const i=Hl(n,e.verify);return new HM(i,t)}return gt()}function n2(n,e){return{documents:[JM(n,e.path)]}}function XM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=JM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=JM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return s2(jn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:lh((C=v).field),direction:W3(C.dir)};var C})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=YM(n,e.limit);var f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function r2(n){let e=Qk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let o=[];t.where&&(o=function(C){const A=i2(C);return A instanceof jn&&kM(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new b_(S_((A=C).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(C){let A;return A="object"==typeof C?C.value:C,Hb(A)?null:A}(t.limit));let m=null;var C;t.startAt&&(m=new ah((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new ah(C.values||[],!C.before)}(t.endAt)),vk(e,i,c,o,f,"F",m,v)}function i2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=S_(e.unaryFilter.field);return wn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=S_(e.unaryFilter.field);return wn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=S_(e.unaryFilter.field);return wn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=S_(e.unaryFilter.field);return wn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(n):void 0!==n.fieldFilter?wn.create(S_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return jn.create(e.compositeFilter.filters.map(t=>i2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gt()}}(e.compositeFilter.op))}(n):gt();var e}function W3(n){return B3[n]}function Z3(n){return U3[n]}function Y3(n){return V3[n]}function lh(n){return{fieldPath:n.canonicalString()}}function S_(n){return d.fromServerFormat(n.fieldPath)}function s2(n){return n instanceof wn?function(e){if("=="===e.op){if(rk(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NAN"}};if(nk(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rk(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NOT_NAN"}};if(nk(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lh(e.field),op:Z3(e.op),value:e.value}}}(n):n instanceof jn?function(e){const t=e.getFilters().map(r=>s2(r));return 1===t.length?t[0]:{compositeFilter:{op:Y3(e.op),filters:t}}}(n):gt()}function K3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class hc{constructor(e,t,r,i,o=Mt.min(),c=Mt.min(),f=vi.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class a2{constructor(e){this.le=e}}function l2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:sw(i=n.le,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:A_(i,o.version.toTimestamp()),createTime:A_(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:bp(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:bp(e.version)}}var i,o;return r}function nE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function bp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wp(n){const e=new ir(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function Dp(n,e){const t=(e.baseMutations||[]).map(o=>QM(n.le,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>QM(n.le,o)),i=ir.fromMillis(e.localWriteTimeMs);return new GM(e.batchId,i,t,r)}function lw(n){const e=wp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?wp(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=Ds(D_(Qk(i.documents[0])))):r=Ds(r2(n.query)),new hc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vi.fromBase64String(n.resumeToken))}function u2(n,e){const t=bp(e.snapshotVersion),r=bp(e.lastLimboFreeSnapshotVersion);let i;i=WI(e.target)?n2(n.le,e.target):XM(n.le,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mp(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function eN(n){const e=r2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?KI(e,e.limit,"L"):e}function tN(n,e){return new qM(e.largestBatchId,QM(n.le,e.overlayMutation))}function c2(n,e){const t=e.path.lastSegment();return[n,as(e.path.popLast()),t]}function d2(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:bp(r.readTime),documentKey:as(r.documentKey.path),largestBatchId:r.largestBatchId}}class Q3{getBundleMetadata(e,t){return h2(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:wp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return h2(e).put({bundleId:(r=t).id,createTime:bp(ei(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return f2(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:eN(i.bundledQuery),readTime:wp(i.readTime)};var i})}saveNamedQuery(e,t){return f2(e).put({name:(r=t).name,readTime:bp(ei(r.readTime)),bundledQuery:r.bundledQuery});var r}}function h2(n){return Pi(n,"bundles")}function f2(n){return Pi(n,"namedQueries")}class rE{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new rE(e,t.uid||"")}getOverlay(e,t){return uw(e).get(c2(this.userId,t)).next(r=>r?tN(this.serializer,r):null)}getOverlays(e,t){const r=jl();return K.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,c)=>{const f=new qM(t,c);i.push(this.de(e,f))}),K.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(as(c.getCollectionPath())));const o=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(uw(e).J("collectionPathOverlayIndex",f))}),K.waitFor(o)}getOverlaysForCollection(e,t,r){const i=jl(),o=as(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return uw(e).j("collectionPathOverlayIndex",c).next(f=>{for(const m of f){const v=tN(this.serializer,m);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=jl();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return uw(e).X({index:"collectionGroupOverlayIndex",range:f},(m,v,C)=>{const A=tN(this.serializer,v);o.size()<i||A.largestBatchId===c?(o.set(A.getKey(),A),c=A.largestBatchId):C.done()}).next(()=>o)}de(e,t){return uw(e).put(function(r,i,o){const[c,f,m]=c2(i,o.mutation.key);return{userId:i,collectionPath:f,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:aw(r.le,o.mutation)}}(this.serializer,this.userId,t))}}function uw(n){return Pi(n,"documentOverlays")}class Cp{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye($r(e.integerValue));else if("doubleValue"in e){const r=$r(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),Gb(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(lc(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?ik(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):gt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),h.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function X3(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function p2(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=X3(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}Cp.be=new Cp;class ej{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=p2(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=p2(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class tj{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class nj{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class cw{constructor(){this.Qe=new ej,this.je=new tj(this.Qe),this.ze=new nj(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class Ip{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ip(this.indexId,this.documentKey,this.arrayValue,r)}}function uh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=g2(n.arrayValue,e.arrayValue),0!==t?t:(t=g2(n.directionalValue,e.directionalValue),0!==t?t:h.comparator(n.documentKey,e.documentKey)))}function g2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class rj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){Tt(e.collectionGroup===this.collectionId);const t=y(e);if(void 0!==t&&!this.tn(t))return!1;const r=D(e);let i=0,o=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const c=r[i];if(!this.en(this.Xe,c)||!this.nn(this.Je[o++],c))return!1;++i}for(;i<r.length;++i)if(o>=this.Je.length||!this.nn(this.Je[o++],r[i]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function m2(n){var e,t;if(Tt(n instanceof wn||n instanceof jn),n instanceof wn){if(n instanceof mk){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>wn.create(n.field,"==",o)))||[];return jn.create(i,"or")}return n}const r=n.filters.map(i=>m2(i));return jn.create(r,n.op)}function ij(n){if(0===n.getFilters().length)return[];const e=iN(m2(n));return Tt(_2(e)),nN(e)||rN(e)?[e]:e.getFilters()}function nN(n){return n instanceof wn}function rN(n){return n instanceof jn&&kM(n)}function _2(n){return nN(n)||rN(n)||function(e){if(e instanceof jn&&PM(e)){for(const t of e.getFilters())if(!nN(t)&&!rN(t))return!1;return!0}return!1}(n)}function iN(n){if(Tt(n instanceof wn||n instanceof jn),n instanceof wn)return n;if(1===n.filters.length)return iN(n.filters[0]);const e=n.filters.map(r=>iN(r));let t=jn.create(e,n.op);return t=iE(t),_2(t)?t:(Tt(t instanceof jn),Tt(w_(t)),Tt(t.filters.length>1),t.filters.reduce((r,i)=>sN(r,i)))}function sN(n,e){let t;return Tt(n instanceof wn||n instanceof jn),Tt(e instanceof wn||e instanceof jn),t=n instanceof wn?e instanceof wn?jn.create([n,e],"and"):y2(n,e):e instanceof wn?y2(e,n):function(r,i){if(Tt(r.filters.length>0&&i.filters.length>0),w_(r)&&w_(i))return fk(r,i.getFilters());const o=PM(r)?r:i,c=PM(r)?i:r,f=o.filters.map(m=>sN(m,c));return jn.create(f,"or")}(n,e),iE(t)}function y2(n,e){if(w_(e))return fk(e,n.getFilters());{const t=e.filters.map(r=>sN(n,r));return jn.create(t,"or")}}function iE(n){if(Tt(n instanceof wn||n instanceof jn),n instanceof wn)return n;const e=n.getFilters();if(1===e.length)return iE(e[0]);if(dk(n))return n;const t=e.map(i=>iE(i)),r=[];return t.forEach(i=>{i instanceof wn?r.push(i):i instanceof jn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:jn.create(r,n.op)}class sj{constructor(){this.sn=new oN}addToCollectionParentIndex(e,t){return this.sn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(ye.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(ye.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class oN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new cr(a.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new cr(a.comparator)).toArray()}}const sE=new Uint8Array(0);class oj{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new oN,this.on=new cc(r=>mp(r),(r,i)=>Yb(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const o={collectionId:r,parent:as(i)};return v2(e).put(o)}return K.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[MM(t),""],!1,!0);return v2(e).j(i).next(o=>{for(const c of o){if(c.collectionId!==t)break;r.push(Vl(c.parent))}return r})}addFieldIndex(e,t){const r=oE(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const o=r.add(i);if(t.indexState){const c=hw(e);return o.next(f=>{c.put(d2(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=oE(e),i=hw(e),o=dw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=dw(e);let i=!0;const o=new Map;return K.forEach(this.un(t),c=>this.cn(e,c).next(f=>{i&&(i=!!f),o.set(c,f)})).next(()=>{if(i){let c=hn();const f=[];return K.forEach(o,(m,v)=>{var C;Ue("IndexedDbIndexManager",`Using index ${C=m,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Fe=>`${Fe.fieldPath}:${Fe.kind}`).join(",")}`} to execute ${mp(t)}`);const A=function(Fe,Ze){const rt=y(Ze);if(void 0===rt)return null;for(const ct of ZI(Fe,rt.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null}(v,m),P=function(Fe,Ze){const rt=new Map;for(const ct of D(Ze))for(const rn of ZI(Fe,ct.fieldPath))switch(rn.op){case"==":case"in":rt.set(ct.fieldPath.canonicalString(),rn.value);break;case"not-in":case"!=":return rt.set(ct.fieldPath.canonicalString(),rn.value),Array.from(rt.values())}return null}(v,m),B=function(Fe,Ze){const rt=[];let ct=!0;for(const rn of D(Ze)){const cn=0===rn.kind?_k(Fe,rn.fieldPath,Fe.startAt):yk(Fe,rn.fieldPath,Fe.startAt);rt.push(cn.value),ct&&(ct=cn.inclusive)}return new ah(rt,ct)}(v,m),q=function(Fe,Ze){const rt=[];let ct=!0;for(const rn of D(Ze)){const cn=0===rn.kind?yk(Fe,rn.fieldPath,Fe.endAt):_k(Fe,rn.fieldPath,Fe.endAt);rt.push(cn.value),ct&&(ct=cn.inclusive)}return new ah(rt,ct)}(v,m),te=this.an(m,v,B),oe=this.an(m,v,q),Ce=this.hn(m,v,P),Oe=this.ln(m.indexId,A,te,B.inclusive,oe,q.inclusive,Ce);return K.forEach(Oe,Fe=>r.H(Fe,t.limit).next(Ze=>{Ze.forEach(rt=>{const ct=h.fromSegments(rt.documentKey);c.has(ct)||(c=c.add(ct),f.push(ct))})}))}).next(()=>f)}return K.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:ij(jn.create(e.filters,"and")).map(r=>LM(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,o,c,f){const m=(null!=t?t.length:1)*Math.max(r.length,o.length),v=m/(null!=t?t.length:1),C=[];for(let A=0;A<m;++A){const P=t?this.fn(t[A/v]):sE,B=this.dn(e,P,r[A%v],i),q=this._n(e,P,o[A%v],c),te=f.map(oe=>this.dn(e,P,oe,!0));C.push(...this.createRange(B,q,te))}return C}dn(e,t,r,i){const o=new Ip(e,h.empty(),t,r);return i?o:o.He()}_n(e,t,r,i){const o=new Ip(e,h.empty(),t,r);return i?o.He():o}cn(e,t){const r=new rj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let c=null;for(const f of o)r.Ze(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.un(t);return K.forEach(i,o=>this.cn(e,o).next(c=>{c?0!==r&&c.fields.length<function(f){let m=new cr(d.comparator),v=!1;for(const C of f.filters)for(const A of C.getFlattenedFilters())A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?v=!0:m=m.add(A.field));for(const C of f.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new cw;for(const i of D(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const c=r.We(i.kind);Cp.be._e(o,c)}return r.Ge()}fn(e){const t=new cw;return Cp.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new cw;return Cp.be._e(gp(this.databaseId,t),r.We(function(i){const o=D(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new cw);let o=0;for(const c of D(e)){const f=r[o++];for(const m of i)if(this.gn(t,c.fieldPath)&&Wb(f))i=this.yn(i,c,f);else{const v=m.We(c.kind);Cp.be._e(f,v)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],o=[];for(const c of r.arrayValue.values||[])for(const f of i){const m=new cw;m.seed(f.Ge()),Cp.be._e(c,m.We(t.kind)),o.push(m)}return o}gn(e,t){return!!e.filters.find(r=>r instanceof wn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=oE(e),i=hw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const c=[];return K.forEach(o,f=>i.get([f.indexId,this.uid]).next(m=>{c.push(function(v,C){const A=C?new V(C.sequenceNumber,new ye(wp(C.readTime),new h(Vl(C.documentKey)),C.largestBatchId)):V.empty(),P=v.fields.map(([B,q])=>new S(d.fromServerFormat(B),q));return new g(v.indexId,v.collectionGroup,P,A)}(f,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:en(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=oE(e),o=hw(e);return this.In(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>K.forEach(f,m=>o.put(d2(m.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return K.forEach(t,(i,o)=>{const c=r.get(i.collectionGroup);return(c?K.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),K.forEach(f,m=>this.Tn(e,i,m).next(v=>{const C=this.En(o,m);return v.isEqual(C)?K.resolve():this.An(e,o,m,v,C)}))))})}Rn(e,t,r,i){return dw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return dw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=dw(e);let o=new cr(uh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(c,f)=>{o=o.add(new Ip(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>o)}En(e,t){let r=new cr(uh);const i=this.wn(t,e);if(null==i)return r;const o=y(t);if(null!=o){const c=e.data.field(o.fieldPath);if(Wb(c))for(const f of c.arrayValue.values||[])r=r.add(new Ip(t.indexId,e.key,this.fn(f),i))}else r=r.add(new Ip(t.indexId,e.key,sE,i));return r}An(e,t,r,i,o){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,m,v,C,A){const P=f.getIterator(),B=m.getIterator();let q=y_(P),te=y_(B);for(;q||te;){let oe=!1,Ce=!1;if(q&&te){const Oe=v(q,te);Oe<0?Ce=!0:Oe>0&&(oe=!0)}else null!=q?Ce=!0:oe=!0;oe?(C(te),te=y_(B)):Ce?(A(q),q=y_(P)):(q=y_(P),te=y_(B))}}(i,o,uh,f=>{c.push(this.Rn(e,t,r,f))},f=>{c.push(this.vn(e,t,r,f))}),K.waitFor(c)}In(e){let t=1;return hw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>uh(c,f)).filter((c,f,m)=>!f||0!==uh(c,m[f-1]));const i=[];i.push(e);for(const c of r){const f=uh(c,e),m=uh(c,t);if(0===f)i[0]=e.He();else if(f>0&&m<0)i.push(c),i.push(c.He());else if(m>0)break}i.push(t);const o=[];for(let c=0;c<i.length;c+=2){if(this.Pn(i[c],i[c+1]))return[];o.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,sE,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,sE,[]]))}return o}Pn(e,t){return uh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(b2)}getMinOffset(e,t){return K.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||gt())).next(b2)}}function v2(n){return Pi(n,"collectionParents")}function dw(n){return Pi(n,"indexEntries")}function oE(n){return Pi(n,"indexConfiguration")}function hw(n){return Pi(n,"indexState")}function b2(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;We(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ye(e.readTime,e.documentKey,t)}const w2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ls{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ls(e,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function D2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let f=0;const m=r.X({range:c},(C,A,P)=>(f++,P.delete()));o.push(m.next(()=>{Tt(1===f)}));const v=[];for(const C of t.mutations){const A=WP(e,C.key.path,t.batchId);o.push(i.delete(A)),v.push(C.key)}return K.waitFor(o).next(()=>v)}function aE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(41943040,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);class lE{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){Tt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new lE(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).X({index:"userMutationsIndex",range:r},(i,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=M_(e),c=ch(e);return c.add({}).next(f=>{Tt("number"==typeof f);const m=new GM(f,t,r,i),v=function(P,B,q){const te=q.baseMutations.map(Ce=>aw(P.le,Ce)),oe=q.mutations.map(Ce=>aw(P.le,Ce));return{userId:B,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:te,mutations:oe}}(this.serializer,this.userId,m),C=[];let A=new cr((P,B)=>en(P.canonicalString(),B.canonicalString()));for(const P of i){const B=WP(this.userId,P.key.path,f);A=A.add(P.key.path.popLast()),C.push(c.put(v)),C.push(o.put(B,W$))}return A.forEach(P=>{C.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.bn[f]=m.keys()}),K.waitFor(C).next(()=>m)})}lookupMutationBatch(e,t){return ch(e).get(t).next(r=>r?(Tt(r.userId===this.userId),Dp(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?K.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ch(e).X({index:"userMutationsIndex",range:i},(c,f,m)=>{f.userId===this.userId&&(Tt(f.batchId>=r),o=Dp(this.serializer,f)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ch(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).j("userMutationsIndex",t).next(r=>r.map(i=>Dp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=VI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return M_(e).X({range:i},(c,f,m)=>{const[v,C,A]=c,P=Vl(C);if(v===this.userId&&t.path.isEqual(P))return ch(e).get(A).next(B=>{if(!B)throw gt();Tt(B.userId===this.userId),o.push(Dp(this.serializer,B))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(en);const i=[];return t.forEach(o=>{const c=VI(this.userId,o.path),f=IDBKeyRange.lowerBound(c),m=M_(e).X({range:f},(v,C,A)=>{const[P,B,q]=v,te=Vl(B);P===this.userId&&o.path.isEqual(te)?r=r.add(q):A.done()});i.push(m)}),K.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=VI(this.userId,r),c=IDBKeyRange.lowerBound(o);let f=new cr(en);return M_(e).X({range:c},(m,v,C)=>{const[A,P,B]=m,q=Vl(P);A===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(B)):C.done()}).next(()=>this.Sn(e,f))}Sn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(ch(e).get(o).next(c=>{if(null===c)throw gt();Tt(c.userId===this.userId),r.push(Dp(this.serializer,c))}))}),K.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return D2(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),K.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return K.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return M_(e).X({range:r},(o,c,f)=>{if(o[0]===this.userId){const m=Vl(o[1]);i.push(m)}else f.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return C2(e,this.userId,t)}Cn(e){return I2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function C2(n,e,t){const r=VI(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return M_(n).X({range:o,Y:!0},(f,m,v)=>{const[C,A,P]=f;C===e&&A===i&&(c=!0),v.done()}).next(()=>c)}function ch(n){return Pi(n,"mutations")}function M_(n){return Pi(n,"documentMutations")}function I2(n){return Pi(n,"mutationQueues")}class Ep{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ep(0)}static kn(){return new Ep(-1)}}class aj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Ep(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Mt.fromTimestamp(new ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>N_(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return N_(e).X((c,f)=>{const m=lw(f);m.sequenceNumber<=t&&null===r.get(m.targetId)&&(i++,o.push(this.removeTargetData(e,m)))}).next(()=>K.waitFor(o)).next(()=>i)}forEachTarget(e,t){return N_(e).X((r,i)=>{const o=lw(i);t(o)})}Mn(e){return E2(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}On(e,t){return E2(e).put("targetGlobalKey",t)}$n(e,t){return N_(e).put(u2(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=mp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return N_(e).X({range:i,index:"queryTargetsIndex"},(c,f,m)=>{const v=lw(f);Yb(t,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=dh(e);return t.forEach(c=>{const f=as(c.path);i.push(o.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),K.waitFor(i)}removeMatchingKeys(e,t,r){const i=dh(e);return K.forEach(t,o=>{const c=as(o.path);return K.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=dh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=dh(e);let o=hn();return i.X({range:r,Y:!0},(c,f,m)=>{const v=Vl(c[1]),C=new h(v);o=o.add(C)}).next(()=>o)}containsKey(e,t){const r=as(t.path),i=IDBKeyRange.bound([r],[MM(r)],!1,!0);let o=0;return dh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,f],m,v)=>{0!==c&&(o++,v.done())}).next(()=>o>0)}he(e,t){return N_(e).get(t).next(r=>r?lw(r):null)}}function N_(n){return Pi(n,"targets")}function E2(n){return Pi(n,"targetGlobal")}function dh(n){return Pi(n,"targetDocuments")}function T2([n,e],[t,r]){const i=en(n,t);return 0===i?en(e,r):i}class lj{constructor(e){this.Bn=e,this.buffer=new cr(T2),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();T2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class A2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){eh(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Nt(r)}yield t.Gn(3e5)}))}}class uj{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return K.resolve(bo.ct);const r=new lj(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(w2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w2):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,o,c,f,m,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(o=A,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(v=Date.now(),Vb()<=uo.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${o} targets in `+(m-f)+`ms\n\tRemoved ${A} documents in `+(v-m)+`ms\nTotal Duration: ${v-C}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:A})))}}class cj{constructor(e,t){this.db=e,this.garbageCollector=function S2(n,e){return new uj(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return uE(e,r)}removeReference(e,t,r){return uE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return uE(e,t)}Yn(e,t){return function(r,i){let o=!1;return I2(r).Z(c=>C2(r,c,i).next(f=>(f&&(o=!0),K.resolve(!f)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Jn(e,(c,f)=>{if(f<=t){const m=this.Yn(e,c).next(v=>{if(!v)return o++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Mt.min()),dh(e).delete([0,as(c.path)])))});i.push(m)}}).next(()=>K.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return uE(e,t)}Jn(e,t){const r=dh(e);let i,o=bo.ct;return r.X({index:"documentTargetsIndex"},([c,f],{path:m,sequenceNumber:v})=>{0===c?(o!==bo.ct&&t(new h(Vl(i)),o),o=v,i=m):o=bo.ct}).next(()=>{o!==bo.ct&&t(new h(Vl(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uE(n,e){return dh(n).put((r=n.currentSequenceNumber,{targetId:0,path:as(e.path),sequenceNumber:r}));var r}class M2{constructor(){this.changes=new cc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Tp(e).put(r)}removeEntry(e,t,r){return Tp(e).delete(function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],nE(o),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=dr.newInvalidDocument(t);return Tp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(fw(t))},(i,o)=>{r=this.Zn(t,o)}).next(()=>r)}ts(e,t){let r={size:0,document:dr.newInvalidDocument(t)};return Tp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(fw(t))},(i,o)=>{r={document:this.Zn(t,o),size:aE(o)}}).next(()=>r)}getEntries(e,t){let r=Zs();return this.es(e,t,(i,o)=>{const c=this.Zn(i,o);r=r.insert(i,c)}).next(()=>r)}ns(e,t){let r=Zs(),i=new sr(h.comparator);return this.es(e,t,(o,c)=>{const f=this.Zn(o,c);r=r.insert(o,f),i=i.insert(o,aE(c))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return K.resolve();let i=new cr(O2);t.forEach(m=>i=i.add(m));const o=IDBKeyRange.bound(fw(i.first()),fw(i.last())),c=i.getIterator();let f=c.getNext();return Tp(e).X({index:"documentKeyIndex",range:o},(m,v,C)=>{const A=h.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&O2(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,v),f=c.hasNext()?c.getNext():null),f?C.G(fw(f)):C.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),nE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Tp(e).j(IDBKeyRange.bound(c,f,!0)).next(m=>{let v=Zs();for(const C of m){const A=this.Zn(h.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);A.isFoundDocument()&&(Jb(t,A)||i.has(A.key))&&(v=v.insert(A.key,A))}return v})}getAllFromCollectionGroup(e,t,r,i){let o=Zs();const c=x2(t,r),f=x2(t,ye.max());return Tp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(m,v,C)=>{const A=this.Zn(h.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(A.key,A),o.size===i&&C.done()}).next(()=>o)}newChangeBuffer(e){return new hj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return R2(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Xn(e,t){return R2(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function J3(n,e){let t;if(e.document)t=t2(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=h.fromSegments(e.noDocument.path),i=wp(e.noDocument.readTime);t=dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=h.fromSegments(e.unknownDocument.path),i=wp(e.unknownDocument.version);t=dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ir(r[0],r[1]);return Mt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return dr.newInvalidDocument(e)}}function N2(n){return new dj(n)}class hj extends M2{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new cc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new cr((o,c)=>en(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const f=this.os.get(o);if(t.push(this.rs.removeEntry(e,o,f.readTime)),c.isValidDocument()){const m=l2(this.rs.serializer,c);i=i.add(o.path.popLast());const v=aE(m);r+=v-f.size,t.push(this.rs.addEntry(e,o,m))}else if(r-=f.size,this.trackRemovals){const m=l2(this.rs.serializer,c.convertToNoDocument(Mt.min()));t.push(this.rs.addEntry(e,o,m))}}),i.forEach(o=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.rs.updateMetadata(e,r)),K.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((o,c)=>{this.os.set(o,{size:c,readTime:r.get(o).readTime})}),r))}}function R2(n){return Pi(n,"remoteDocumentGlobal")}function Tp(n){return Pi(n,"remoteDocumentsV14")}function fw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function x2(n,e){const t=e.documentKey.path.toArray();return[n,nE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function O2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=en(t[o],r[o]),i)return i;return i=en(t.length,r.length),i||(i=en(t[t.length-2],r[r.length-2]),i||en(t[t.length-1],r[r.length-1]))}class fj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class P2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&tw(r.mutation,i,Ws.empty(),ir.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,hn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=hn()){const i=jl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let c=Qb();return o.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=jl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,hn()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let o=Zs();const c=Xb(),f=Xb();return t.forEach((m,v)=>{const C=r.get(v.key);i.has(v.key)&&(void 0===C||C.mutation instanceof dc)?o=o.insert(v.key,v):void 0!==C?(c.set(v.key,C.mutation.getFieldMask()),tw(C.mutation,v,C.mutation.getFieldMask(),ir.now())):c.set(v.key,Ws.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((v,C)=>c.set(v,C)),t.forEach((v,C)=>{var A;return f.set(v,new fj(C,null!==(A=c.get(v))&&void 0!==A?A:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Xb();let i=new sr((c,f)=>c-f),o=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let C=r.get(m)||Ws.empty();C=f.applyToLocalView(v,C),r.set(m,C);const A=(i.get(f.batchId)||hn()).add(m);i=i.insert(f.batchId,A)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,C=m.value,A=Tk();C.forEach(P=>{if(!o.has(P)){const B=kk(t.get(P),r.get(P));null!==B&&A.set(P,B),o=o.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,A))}return K.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return h.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):UM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):K.resolve(jl());let f=-1,m=o;return c.next(v=>K.forEach(v,(C,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),o.get(C)?K.resolve():this.remoteDocumentCache.getEntry(e,C).next(P=>{m=m.insert(C,P)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,m,v,hn())).next(C=>({batchId:f,changes:Ek(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new h(t)).next(r=>{let i=Qb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Qb();return this.indexManager.getCollectionParents(e,i).next(c=>K.forEach(c,f=>{const m=(v=t,C=f.child(i),new uc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((C,A)=>{o=o.insert(C,A)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((f,m)=>{const v=m.getKey();null===o.get(v)&&(o=o.insert(v,dr.newInvalidDocument(v)))});let c=Qb();return o.forEach((f,m)=>{const v=i.get(f);void 0!==v&&tw(v.mutation,m,Ws.empty(),ir.now()),Jb(t,m)&&(c=c.insert(f,m))}),c})}}class pj{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return K.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:ei(r.createTime)}),K.resolve()}getNamedQuery(e,t){return K.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:eN(r.bundledQuery),readTime:ei(r.readTime)}),K.resolve();var r}}class gj{constructor(){this.overlays=new sr(h.comparator),this.hs=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jl();return K.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.de(e,t,o)}),K.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const i=jl(),o=t.length+1,c=new h(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new sr((v,C)=>v-C);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=o.get(v.largestBatchId);null===C&&(C=jl(),o=o.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=jl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=i)););return K.resolve(f)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new qM(t,r));let o=this.hs.get(t);void 0===o&&(o=hn(),this.hs.set(t,o)),this.hs.set(t,o.add(r.key))}}class aN{constructor(){this.ls=new cr(ki.fs),this.ds=new cr(ki._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new ki(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new ki(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new h(new a([])),r=new ki(t,e),i=new ki(t,e+1),o=[];return this.ds.forEachInRange([r,i],c=>{this.gs(c),o.push(c.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new h(new a([])),r=new ki(t,e),i=new ki(t,e+1);let o=hn();return this.ds.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new ki(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ki{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return h.comparator(e.key,t.key)||en(e.Es,t.Es)}static _s(e,t){return en(e.Es,t.Es)||h.comparator(e.key,t.key)}}class mj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new cr(ki.fs)}checkEmpty(e){return K.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.As;this.As++;const c=new GM(o,t,r,i);this.mutationQueue.push(c);for(const f of i)this.Rs=this.Rs.add(new ki(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ki(t,0),i=new ki(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],c=>{const f=this.vs(c.Es);o.push(f)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cr(en);return t.forEach(i=>{const o=new ki(i,0),c=new ki(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],f=>{r=r.add(f.Es)})}),K.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;h.isDocumentKey(o)||(o=o.child(""));const c=new ki(new h(o),0);let f=new cr(en);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.Es)),!0)},c),K.resolve(this.bs(f))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return K.forEach(t.mutations,i=>{const o=new ki(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new ki(t,0),i=this.Rs.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return K.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _j{constructor(e){this.Ss=e,this.docs=new sr(h.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=Zs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dr.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Zs();const c=t.path,f=new h(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:C}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||We(ae(C),r)<=0||(i.has(C.key)||Jb(t,C))&&(o=o.insert(C.key,C.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,t,r,i){gt()}Ds(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yj(this)}getSize(e){return K.resolve(this.size)}}class yj extends M2{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class vj{constructor(e){this.persistence=e,this.Cs=new cc(t=>mp(t),Yb),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new aN,this.targetCount=0,this.ks=Ep.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),K.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Ep(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.$n(t),K.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Cs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Cs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.Ns.containsKey(t))}}class lN{constructor(e,t){this.Ms={},this.overlays={},this.Os=new bo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new vj(this),this.indexManager=new sj,this.remoteDocumentCache=new _j(r=>this.referenceDelegate.Bs(r)),this.serializer=new a2(t),this.Ls=new pj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new mj(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new bj(this.Os.next());return this.referenceDelegate.qs(),r(i).next(o=>this.referenceDelegate.Us(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ks(e,t){return K.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class bj extends wt{constructor(e){super(),this.currentSequenceNumber=e}}class cE{constructor(e){this.persistence=e,this.Gs=new aN,this.Qs=null}static js(e){return new cE(e)}get zs(){if(this.Qs)return this.Qs;throw gt()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),K.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.zs.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.zs,r=>{const i=h.fromPath(r);return this.Ws(e,i).next(o=>{o||t.removeEntry(i,Mt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return K.or([()=>K.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class wj{constructor(e){this.serializer=e}$(e,t,r,i){const o=new $n("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qP,{unique:!0}),f.createObjectStore("documentMutations"),k2(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=K.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),k2(e)),c=c.next(()=>function(f){const m=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,m){return m.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qP,{unique:!0});const C=m.store("mutations"),A=v.map(P=>C.put(P));return K.waitFor(A)})}(e,o))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Js(o))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(o)))),r<7&&i>=7&&(c=c.next(()=>this.Xs(o))),r<8&&i>=8&&(c=c.next(()=>this.Zs(e,o))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ti(o))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const m=f.createObjectStore("documentOverlays",{keyPath:s3});m.createIndex("collectionPathOverlayIndex",o3,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",a3,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const m=f.createObjectStore("remoteDocumentsV14",{keyPath:Z$});m.createIndex("documentKeyIndex",Y$),m.createIndex("collectionGroupIndex",K$)}(e)).next(()=>this.ei(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.ni(e,o))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:t3}).createIndex("sequenceNumberIndex",n3,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:r3}).createIndex("documentKeyIndex",i3,{unique:!1})}(e))),c}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=aE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>K.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(f=>K.forEach(f,m=>{Tt(m.userId===o.userId);const v=Dp(this.serializer,m);return D2(e,o.userId,v).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((c,f)=>{const m=new a(c),v=[0,as(m)];o.push(t.get(v).next(C=>C?K.resolve():t.put({targetId:0,path:as(m),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>K.waitFor(o))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:e3});const r=t.store("collectionParents"),i=new oN,o=c=>{if(i.add(c)){const f=c.lastSegment(),m=c.popLast();return r.put({collectionId:f,parent:as(m)})}};return t.store("remoteDocuments").X({Y:!0},(c,f)=>{const m=new a(c);return o(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,f,m],v)=>{const C=Vl(f);return o(C.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const o=lw(i),c=u2(this.serializer,o);return t.put(c)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,c)=>{const f=t.store("remoteDocumentsV14"),m=(v=c,v.document?new h(a.fromString(v.document.name).popFirst(5)):v.noDocument?h.fromSegments(v.noDocument.path):v.unknownDocument?h.fromSegments(v.unknownDocument.path):gt()).path.toArray();var v;const C={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(C))}).next(()=>K.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=N2(this.serializer),o=new lN(cE.js,this.serializer.le);return r.j().next(c=>{const f=new Map;return c.forEach(m=>{var v;let C=null!==(v=f.get(m.userId))&&void 0!==v?v:hn();Dp(this.serializer,m).keys().forEach(A=>C=C.add(A)),f.set(m.userId,C)}),K.forEach(f,(m,v)=>{const C=new ai(v),A=rE.fe(this.serializer,C),P=o.getIndexManager(C),B=lE.fe(C,this.serializer,P,o.referenceDelegate);return new P2(i,B,A,P).recalculateAndSaveOverlaysForDocumentKeys(new RM(t,bo.ct),m).next()})})}}function k2(n){n.createObjectStore("targetDocuments",{keyPath:Q$}).createIndex("documentTargetsIndex",X$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",J$,{unique:!0}),n.createObjectStore("targetGlobal")}const uN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cN{constructor(e,t,r,i,o,c,f,m,v,C,A=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=o,this.window=c,this.document=f,this.ii=v,this.ri=C,this.oi=A,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=P=>Promise.resolve(),!cN.D())throw new xe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cj(this,i),this.fi=t+"main",this.serializer=new a2(m),this.di=new Mn(this.fi,this.oi,new wj(this.serializer)),this.Fs=new aj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=N2(this.serializer),this.Ls=new Q3,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(he.FAILED_PRECONDITION,uN);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new bo(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,X.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,X.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(eh(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return pw(e).get("owner").next(t=>K.resolve(this.Ri(t)))}vi(e){return hE(e).delete(this.clientId)}Pi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Pi(r,"clientMetadata");return i.j().next(o=>{const c=e.Vi(o,18e5),f=o.filter(m=>-1===c.indexOf(m));return K.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?K.resolve(!0):pw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new xe(he.FAILED_PRECONDITION,uN);return!1}}return!(!this.networkEnabled||!this.inForeground)||hE(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new RM(t,bo.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>hE(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return lE.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oj(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return rE.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(c=this.oi)?u3:14===c?KP:13===c?YP:12===c?l3:11===c?ZP:void gt();var c;let f;return this.di.runTransaction(e,i,o,m=>(f=new RM(m,this.Os?this.Os.next():bo.ct),"readwrite-primary"===t?this.Ii(f).next(v=>!!v||this.Ti(f)).next(v=>{if(!v)throw yr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new xe(he.FAILED_PRECONDITION,at);return r(f)}).next(v=>this.Ai(f).next(()=>v)):this.Oi(f).next(()=>r(f)))).then(m=>(f.raiseOnCommittedEvent(),m))}Oi(e){return pw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(he.FAILED_PRECONDITION,uN)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pw(e).put("owner",t)}static D(){return Mn.D()}Ei(e){const t=pw(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):K.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(yr(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,pt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){yr("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pw(n){return Pi(n,"owner")}function hE(n){return Pi(n,"clientMetadata")}function dN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class hN{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=hn(),i=hn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hN(e,t.fromCache,r,i)}}class F2{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(o=>o||this.Ki(e,t,i,r)).next(o=>o||this.Gi(e,t))}Ui(e,t){if(bk(t))return K.resolve(null);let r=Ds(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=KI(t,null,"F"),r=Ds(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=hn(...o);return this.qi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.Qi(t,f);return this.ji(t,v,c,m.readTime)?this.Ui(e,KI(t,null,"F")):this.zi(e,v,t,m)}))})))}Ki(e,t,r,i){return bk(t)||i.isEqual(Mt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(o=>{const c=this.Qi(t,o);return this.ji(t,c,r,i)?this.Gi(e,t):(Vb()<=uo.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$M(t)),this.zi(e,c,t,Y(i,-1)))})}Qi(e,t){let r=new cr(Ck(e));return t.forEach((i,o)=>{Jb(e,o)&&(r=r.add(o))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Gi(e,t){return Vb()<=uo.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",$M(t)),this.qi.getDocumentsMatchingQuery(e,t,ye.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class Dj{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new sr(en),this.Ji=new cc(o=>mp(o),Yb),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P2(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function L2(n,e,t,r){return new Dj(n,e,t,r)}function B2(n,e){return fN.apply(this,arguments)}function fN(){return fN=(0,X.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],f=[];let m=hn();for(const v of i){c.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of o){f.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return t.localDocuments.getDocuments(r,m).next(v=>({tr:v,removedBatchIds:c,addedBatchIds:f}))})})}),fN.apply(this,arguments)}function U2(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function V2(n,e,t){let r=hn(),i=hn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=Zs();return t.forEach((f,m)=>{const v=o.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(Mt.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{er:c,nr:i}})}function Ej(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R_(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):t.Fs.allocateTargetId(r).next(c=>(i=new hc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function x_(n,e,t){return pN.apply(this,arguments)}function pN(){return pN=(0,X.Z)(function*(n,e,t){const r=ot(n),i=r.Hi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!eh(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),pN.apply(this,arguments)}function fE(n,e,t){const r=ot(n);let i=Mt.min(),o=hn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,v){const C=ot(f),A=C.Ji.get(v);return void 0!==A?K.resolve(C.Hi.get(A)):C.Fs.getTargetData(m,v)}(r,c,Ds(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{o=m})}).next(()=>r.Wi.getDocumentsMatchingQuery(c,e,t?i:Mt.min(),t?o:hn())).next(f=>(H2(r,Dk(e),f),{documents:f,sr:o})))}function $2(n,e){const t=ot(n),r=ot(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.he(o,e).next(c=>c?c.target:null))}function j2(n,e){const t=ot(n),r=t.Yi.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,Y(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(H2(t,e,i),i))}function H2(n,e,t){let r=n.Yi.get(e)||Mt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Yi.set(e,r)}function gN(){return gN=(0,X.Z)(function*(n,e,t,r){const i=ot(n);let o=hn(),c=Zs();for(const v of t){const C=e.ir(v.metadata.name);v.document&&(o=o.add(C));const A=e.rr(v);A.setReadTime(e.ur(v.metadata.readTime)),c=c.insert(C,A)}const f=i.Xi.newChangeBuffer({trackRemovals:!0}),m=yield R_(i,(v=r,Ds(D_(a.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>V2(v,f,c).next(C=>(f.apply(v),C)).next(C=>i.Fs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>i.Fs.addMatchingKeys(v,o,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,C.er,C.nr)).next(()=>C.er)))}),gN.apply(this,arguments)}function Aj(n,e){return mN.apply(this,arguments)}function mN(){return mN=(0,X.Z)(function*(n,e,t=hn()){const r=yield R_(n,Ds(eN(e.bundledQuery))),i=ot(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=ei(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ls.saveNamedQuery(o,e);const f=r.withResumeToken(vi.EMPTY_BYTE_STRING,c);return i.Hi=i.Hi.insert(f.targetId,f),i.Fs.updateTargetData(o,f).next(()=>i.Fs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Fs.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(o,e))})}),mN.apply(this,arguments)}function G2(n,e){return`firestore_clients_${n}_${e}`}function z2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function _N(n,e){return`firestore_targets_${n}_${e}`}class pE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new xe(i.error.code,i.error.message))),c?new pE(e,t,i.state,o):(yr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new xe(r.error.code,r.error.message))),o?new gw(e,r.state,i):(yr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=jM();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=GP(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new gE(e,o):(yr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yN{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yN(t.clientId,t.onlineState):(yr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vN{constructor(){this.activeTargetIds=jM()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(e,t,r,i,o){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new sr(en),this.started=!1,this.gr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=G2(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new vN),this.Ir=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const o=e.getItem(G2(e.persistenceKey,i));if(o){const c=gE.cr(i,o);c&&(e.mr=e.mr.insert(c.clientId,c))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(_N(this.persistenceKey,e));if(r){const i=gw.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_N(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(o){let c=bo.ct;if(null!=o)try{const f=JSON.parse(o);Tt("number"==typeof f),c=f}catch(f){yr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==bo.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Gr(o)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new pE(this.currentUser,e,t,r),o=z2(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ar())}Dr(e){const t=z2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=_N(this.persistenceKey,e),o=new gw(e,t,r);this.setItem(i,o.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return gE.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return pE.cr(new ai(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return gw.cr(i,t)}Pr(e){return yN.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),o=this.Vr(r),c=[],f=[];return o.forEach(m=>{i.has(m)||c.push(m)}),i.forEach(m=>{o.has(m)||f.push(m)}),this.syncEngine.zr(c,f).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=jM();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class q2{constructor(){this.Wr=new vN,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new vN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Sj{Jr(e){}shutdown(){}}class W2{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mE=null;function wN(){return null===mE?mE=268435456+Math.round(2147483648*Math.random()):mE++,"0x"+mE.toString(16)}const Mj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nj{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const us="WebChannelConnection";class Rj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,o){const c=wN(),f=this.Io(e,t);Ue("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const m={};return this.To(m,i,o),this.Eo(e,f,m,r).then(v=>(Ue("RestConnection",`Received RPC '${e}' ${c}: `,v),v),v=>{throw qs("RestConnection",`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",r),v})}Ao(e,t,r,i,o,c){return this.po(e,t,r,i,o)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Io(e,t){return`${this.wo}/v1/${t}:${Mj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const o=wN();return new Promise((c,f)=>{const m=new FP;m.setWithCredentials(!0),m.listenOnce(wM.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case dp.NO_ERROR:const C=m.getResponseJson();Ue(us,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(C)),c(C);break;case dp.TIMEOUT:Ue(us,`RPC '${e}' ${o} timed out`),f(new xe(he.DEADLINE_EXCEEDED,"Request time out"));break;case dp.HTTP_ERROR:const A=m.getStatus();if(Ue(us,`RPC '${e}' ${o} failed with status:`,A,"response text:",m.getResponseText()),A>0){let P=m.getResponseJson();Array.isArray(P)&&(P=P[0]);const B=P?.error;if(B&&B.status&&B.message){const q=function(te){const oe=te.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(oe)>=0?oe:he.UNKNOWN}(B.status);f(new xe(q,B.message))}else f(new xe(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new xe(he.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{Ue(us,`RPC '${e}' ${o} completed.`)}});const v=JSON.stringify(i);Ue(us,`RPC '${e}' ${o} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=wN(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=BI(),f=Fb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new __({})),this.To(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=o.join("");Ue(us,`Creating RPC '${e}' stream ${i}: ${v}`,m);const C=c.createWebChannel(v,m);let A=!1,P=!1;const B=new Nj({io:te=>{P?Ue(us,`Not sending because RPC '${e}' stream ${i} is closed:`,te):(A||(Ue(us,`Opening RPC '${e}' stream ${i} transport.`),C.open(),A=!0),Ue(us,`RPC '${e}' stream ${i} sending:`,te),C.send(te))},ro:()=>C.close()}),q=(te,oe,Ce)=>{te.listen(oe,Oe=>{try{Ce(Oe)}catch(Fe){setTimeout(()=>{throw Fe},0)}})};return q(C,Bb.EventType.OPEN,()=>{P||Ue(us,`RPC '${e}' stream ${i} transport opened.`)}),q(C,Bb.EventType.CLOSE,()=>{P||(P=!0,Ue(us,`RPC '${e}' stream ${i} transport closed`),B.fo())}),q(C,Bb.EventType.ERROR,te=>{P||(P=!0,qs(us,`RPC '${e}' stream ${i} transport errored:`,te),B.fo(new xe(he.UNAVAILABLE,"The operation could not be completed")))}),q(C,Bb.EventType.MESSAGE,te=>{var oe;if(!P){const Ce=te.data[0];Tt(!!Ce);const Fe=Ce.error||(null===(oe=Ce[0])||void 0===oe?void 0:oe.error);if(Fe){Ue(us,`RPC '${e}' stream ${i} received error:`,Fe);const Ze=Fe.status;let rt=function(rn){const cn=li[rn];if(void 0!==cn)return $k(cn)}(Ze),ct=Fe.message;void 0===rt&&(rt=he.INTERNAL,ct="Unknown error status: "+Ze+" with message "+Fe.message),P=!0,B.fo(new xe(rt,ct)),C.close()}else Ue(us,`RPC '${e}' stream ${i} received:`,Ce),B._o(Ce)}}),q(f,Lb.STAT_EVENT,te=>{te.stat===m_.PROXY?Ue(us,`RPC '${e}' stream ${i} detected buffering proxy`):te.stat===m_.NOPROXY&&Ue(us,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{B.lo()},0),B}}function Z2(){return typeof window<"u"?window:null}function _E(){return typeof document<"u"?document:null}function mw(n){return new $3(n,!0)}class DN{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class Y2{constructor(e,t,r,i,o,c,f,m){this.si=e,this.Mo=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new DN(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,X.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,X.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,X.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new xe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,X.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xj extends Y2{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function G3(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:gt(),i=e.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(Tt(void 0===v||"string"==typeof v),vi.fromBase64String(v||"")):(Tt(void 0===v||v instanceof Uint8Array),vi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=void 0===m.code?he.UNKNOWN:$k(m.code);return new xe(v,m.message||"")}(c);t=new qk(r,i,o,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Hl(n,r.document.name),o=ei(r.document.updateTime),c=r.document.createTime?ei(r.document.createTime):Mt.min(),f=new qi({mapValue:{fields:r.document.fields}}),m=dr.newFoundDocument(i,o,c,f);t=new tE(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Hl(n,r.document),o=r.readTime?ei(r.readTime):Mt.min(),c=dr.newNoDocument(i,o);t=new tE([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Hl(n,r.document);t=new tE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,c=new k3(i,o);t=new zk(r.targetId,c)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Mt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Mt.min():o.readTime?ei(o.readTime):Mt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=ow(this.serializer),t.addTarget=function(i,o){let c;const f=o.target;if(c=WI(f)?{documents:n2(i,f)}:{query:XM(i,f)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Kk(i,o.resumeToken);const m=YM(i,o.expectedCount);null!==m&&(c.expectedCount=m)}else if(o.snapshotVersion.compareTo(Mt.min())>0){c.readTime=A_(i,o.snapshotVersion.toTimestamp());const m=YM(i,o.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,e);const r=function q3(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=ow(this.serializer),t.removeTarget=e,this.zo(t)}}class Oj extends Y2{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function z3(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let o=ei(r.updateTime?r.updateTime:i);return o.isEqual(Mt.min())&&(o=ei(i)),new R3(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.uu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=ow(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>aw(this.serializer,r))};this.zo(t)}}class Pj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.po(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(he.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ao(e,t,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(he.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class Fj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(yr(t),this.wu=!1):Ue("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Lj{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(f=>{r.enqueueAndForget((0,X.Z)(function*(){var m;hh(c)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,X.Z)(function*(v){const C=ot(v);C.Au.add(4),yield O_(C),C.Pu.set("Unknown"),C.Au.delete(4),yield _w(C)}),function(v){return m.apply(this,arguments)})(c))}))}),this.Pu=new Fj(r,i)}}function _w(n){return IN.apply(this,arguments)}function IN(){return IN=(0,X.Z)(function*(n){if(hh(n))for(const e of n.Ru)yield e(!0)}),IN.apply(this,arguments)}function O_(n){return EN.apply(this,arguments)}function EN(){return EN=(0,X.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),EN.apply(this,arguments)}function yE(n,e){const t=ot(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),SN(t)?AN(t):k_(t).Uo()&&TN(t,e))}function yw(n,e){const t=ot(n),r=k_(t);t.Eu.delete(e),r.Uo()&&K2(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():hh(t)&&t.Pu.set("Unknown"))}function TN(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}k_(n).nu(e)}function K2(n,e){n.bu.Lt(e),k_(n).su(e)}function AN(n){n.bu=new L3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),k_(n).start(),n.Pu.mu()}function SN(n){return hh(n)&&!k_(n).qo()&&n.Eu.size>0}function hh(n){return 0===ot(n).Au.size}function J2(n){n.bu=void 0}function Bj(n){return MN.apply(this,arguments)}function MN(){return MN=(0,X.Z)(function*(n){n.Eu.forEach((e,t)=>{TN(n,e)})}),MN.apply(this,arguments)}function Uj(n,e){return NN.apply(this,arguments)}function NN(){return NN=(0,X.Z)(function*(n,e){J2(n),SN(n)?(n.Pu.pu(e),AN(n)):n.Pu.set("Unknown")}),NN.apply(this,arguments)}function Vj(n,e,t){return RN.apply(this,arguments)}function RN(){return RN=(0,X.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof qk&&2===e.state&&e.cause)try{yield(r=(0,X.Z)(function*(i,o){const c=o.cause;for(const f of o.targetIds)i.Eu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.Eu.delete(f),i.bu.removeTarget(f))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vE(n,r)}else if(e instanceof tE?n.bu.Wt(e):e instanceof zk?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Mt.min()))try{const r=yield U2(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.bu.ue(o);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Eu.get(m);v&&i.Eu.set(m,v.withResumeToken(f.resumeToken,o))}}),c.targetMismatches.forEach((f,m)=>{const v=i.Eu.get(f);if(!v)return;i.Eu.set(f,v.withResumeToken(vi.EMPTY_BYTE_STRING,v.snapshotVersion)),K2(i,f);const C=new hc(v.target,f,m,v.sequenceNumber);TN(i,C)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield vE(n,r)}var r}),RN.apply(this,arguments)}function vE(n,e,t){return xN.apply(this,arguments)}function xN(){return xN=(0,X.Z)(function*(n,e,t){if(!eh(e))throw e;n.Au.add(1),yield O_(n),n.Pu.set("Offline"),t||(t=()=>U2(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield _w(n)}))}),xN.apply(this,arguments)}function Q2(n,e){return e().catch(t=>vE(n,t,e))}function P_(n){return ON.apply(this,arguments)}function ON(){return ON=(0,X.Z)(function*(n){const e=ot(n),t=fh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;$j(e);)try{const i=yield Ej(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,jj(e,i)}catch(i){yield vE(e,i)}X2(e)&&eF(e)}),ON.apply(this,arguments)}function $j(n){return hh(n)&&n.Tu.length<10}function jj(n,e){n.Tu.push(e);const t=fh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function X2(n){return hh(n)&&!fh(n).qo()&&n.Tu.length>0}function eF(n){fh(n).start()}function Hj(n){return PN.apply(this,arguments)}function PN(){return PN=(0,X.Z)(function*(n){fh(n).au()}),PN.apply(this,arguments)}function Gj(n){return kN.apply(this,arguments)}function kN(){return kN=(0,X.Z)(function*(n){const e=fh(n);for(const t of n.Tu)e.ou(t.mutations)}),kN.apply(this,arguments)}function zj(n,e,t){return FN.apply(this,arguments)}function FN(){return FN=(0,X.Z)(function*(n,e,t){const r=n.Tu.shift(),i=zM.from(r,e,t);yield Q2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield P_(n)}),FN.apply(this,arguments)}function qj(n,e){return LN.apply(this,arguments)}function LN(){return LN=(0,X.Z)(function*(n,e){var t;e&&fh(n).ru&&(yield(t=(0,X.Z)(function*(r,i){if(Vk(o=i.code)&&o!==he.ABORTED){const c=r.Tu.shift();fh(r).Go(),yield Q2(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield P_(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),X2(n)&&eF(n)}),LN.apply(this,arguments)}function tF(n,e){return BN.apply(this,arguments)}function BN(){return BN=(0,X.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=hh(t);t.Au.add(3),yield O_(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield _w(t)}),BN.apply(this,arguments)}function UN(n,e){return VN.apply(this,arguments)}function VN(){return VN=(0,X.Z)(function*(n,e){const t=ot(n);e?(t.Au.delete(2),yield _w(t)):e||(t.Au.add(2),yield O_(t),t.Pu.set("Unknown"))}),VN.apply(this,arguments)}function k_(n){return n.Vu||(n.Vu=function(e,t,r){const i=ot(e);return i.lu(),new xj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:Bj.bind(null,n),co:Uj.bind(null,n),eu:Vj.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Vu.Go(),SN(n)?AN(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),J2(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function fh(n){return n.Su||(n.Su=function(e,t,r){const i=ot(e);return i.lu(),new Oj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:Hj.bind(null,n),co:qj.bind(null,n),cu:Gj.bind(null,n),uu:zj.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Su.Go(),yield P_(n)):(yield n.Su.stop(),n.Tu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class $N{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,f=new $N(e,t,c,i,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F_(n,e){if(yr("AsyncQueue",`${e}: ${n}`),eh(n))return new xe(he.UNAVAILABLE,`${e}: ${n}`);throw n}class L_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||h.comparator(t.key,r.key):(t,r)=>h.comparator(t.key,r.key),this.keyedMap=Qb(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new L_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof L_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new L_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nF{constructor(){this.Du=new sr(h.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):gt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class B_{constructor(e,t,r,i,o,c,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new B_(e,t,L_.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Wj{constructor(){this.xu=void 0,this.listeners=[]}}class Zj{constructor(){this.queries=new cc(e=>wk(e),Kb),this.onlineState="Unknown",this.Nu=new Set}}function jN(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,X.Z)(function*(n,e){const t=ot(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Wj),i)try{o.xu=yield t.onListen(r)}catch(c){const f=F_(c,`Initialization of query '${$M(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,o),o.listeners.push(e),e.ku(t.onlineState),o.xu&&e.Mu(o.xu)&&qN(t)}),HN.apply(this,arguments)}function GN(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,X.Z)(function*(n,e){const t=ot(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),zN.apply(this,arguments)}function Yj(n,e){const t=ot(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Mu(i)&&(r=!0);c.xu=i}}r&&qN(t)}function Kj(n,e,t){const r=ot(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function qN(n){n.Nu.forEach(e=>{e.next()})}class WN{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new B_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=B_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class Jj{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class rF{constructor(e){this.serializer=e}ir(e){return Hl(this.serializer,e)}rr(e){return e.metadata.exists?t2(this.serializer,e.document,!1):dr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return ei(e)}}class Qj{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iF(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=a.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new rF(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ir(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||hn()).add(o);t.set(c,f)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function Tj(n,e,t,r){return gN.apply(this,arguments)}(e.localStore,new rF(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield Aj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function iF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class sF{constructor(e){this.key=e}}class oF{constructor(e){this.key=e}}class aF{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=hn(),this.mutatedKeys=hn(),this.Zu=Ck(e),this.tc=new L_(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new nF,i=t?t.tc:this.tc;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,A)=>{const P=i.get(C),B=Jb(this.query,A)?A:null,q=!!P&&this.mutatedKeys.has(P.key),te=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let oe=!1;P&&B?P.data.isEqual(B.data)?q!==te&&(r.track({type:3,doc:B}),oe=!0):this.ic(P,B)||(r.track({type:2,doc:B}),oe=!0,(m&&this.Zu(B,m)>0||v&&this.Zu(B,v)<0)&&(f=!0)):!P&&B?(r.track({type:0,doc:B}),oe=!0):P&&!B&&(r.track({type:1,doc:P}),oe=!0,(m||v)&&(f=!0)),oe&&(B?(c=c.add(B),o=te?o.add(C):o.delete(C)):(c=c.delete(C),o=o.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),o=o.delete(C.key),r.track({type:1,doc:C})}return{tc:c,sc:r,ji:f,mutatedKeys:o}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((v,C)=>function(A,P){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return B(A)-B(P)}(v.type,C.type)||this.Zu(v.doc,C.doc)),this.rc(r);const c=t?this.oc():[],f=0===this.Xu.size&&this.current?1:0,m=f!==this.Yu;return this.Yu=f,0!==o.length||m?{snapshot:new B_(this.query,e.tc,i,o,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:c}:{uc:c}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new nF,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=hn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new oF(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new sF(r))}),t}ac(e){this.Ju=e.sr,this.Xu=hn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return B_.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class Xj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eH{constructor(e){this.key=e,this.lc=!1}}class tH{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.fc={},this.dc=new cc(f=>wk(f),Kb),this._c=new Map,this.wc=new Set,this.mc=new sr(h.comparator),this.gc=new Map,this.yc=new aN,this.Ic={},this.Tc=new Map,this.Ec=Ep.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function nH(n,e){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,X.Z)(function*(n,e){const t=_R(n);let r,i;const o=t.dc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.hc();else{const c=yield R_(t.localStore,Ds(e)),f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield YN(t,e,r,"current"===f,c.resumeToken),t.isPrimaryClient&&yE(t.remoteStore,c)}return i}),ZN.apply(this,arguments)}function YN(n,e,t,r,i){return KN.apply(this,arguments)}function KN(){return KN=(0,X.Z)(function*(n,e,t,r,i){n.Rc=(A,P,B)=>{return(q=(0,X.Z)(function*(te,oe,Ce,Oe){let Fe=oe.view.nc(Ce);Fe.ji&&(Fe=yield fE(te.localStore,oe.query,!1).then(({documents:ct})=>oe.view.nc(ct,Fe)));const Ze=Oe&&Oe.targetChanges.get(oe.targetId),rt=oe.view.applyChanges(Fe,te.isPrimaryClient,Ze);return oR(te,oe.targetId,rt.uc),rt.snapshot}),function(te,oe,Ce,Oe){return q.apply(this,arguments)})(n,A,P,B);var q};const o=yield fE(n.localStore,e,!0),c=new aF(e,o.sr),f=c.nc(o.documents),m=iw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(f,n.isPrimaryClient,m);oR(n,t,v.uc);const C=new Xj(e,t,c);return n.dc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),KN.apply(this,arguments)}function rH(n,e){return JN.apply(this,arguments)}function JN(){return JN=(0,X.Z)(function*(n,e){const t=ot(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Kb(o,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield x_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yw(t.remoteStore,r.targetId),U_(t,r.targetId)}).catch(Nt))):(U_(t,r.targetId),yield x_(t.localStore,r.targetId,!0))}),JN.apply(this,arguments)}function QN(){return QN=(0,X.Z)(function*(n,e,t){const r=yR(n);try{const i=yield function(o,c){const f=ot(o),m=ir.now(),v=c.reduce((P,B)=>P.add(B.key),hn());let C,A;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let B=Zs(),q=hn();return f.Xi.getEntries(P,v).next(te=>{B=te,B.forEach((oe,Ce)=>{Ce.isValidDocument()||(q=q.add(oe))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,B)).next(te=>{C=te;const oe=[];for(const Ce of c){const Oe=O3(Ce,C.get(Ce.key).overlayedDocument);null!=Oe&&oe.push(new dc(Ce.key,Oe,ak(Oe.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(P,m,oe,c)}).next(te=>{A=te;const oe=te.applyToLocalDocumentSet(C,q);return f.documentOverlayCache.saveOverlays(P,te.batchId,oe)})}).then(()=>({batchId:A.batchId,changes:Ek(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,f){let m=o.Ic[o.currentUser.toKey()];m||(m=new sr(en)),m=m.insert(c,f),o.Ic[o.currentUser.toKey()]=m}(r,i.batchId,t),yield fc(r,i.changes),yield P_(r.remoteStore)}catch(i){const o=F_(i,"Failed to persist write");t.reject(o)}}),QN.apply(this,arguments)}function lF(n,e){return XN.apply(this,arguments)}function XN(){return XN=(0,X.Z)(function*(n,e){const t=ot(n);try{const r=yield function Ij(n,e){const t=ot(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const f=[];e.targetChanges.forEach((C,A)=>{const P=i.get(A);if(!P)return;f.push(t.Fs.removeMatchingKeys(o,C.removedDocuments,A).next(()=>t.Fs.addMatchingKeys(o,C.addedDocuments,A)));let B=P.withSequenceNumber(o.currentSequenceNumber);var q,te,oe;null!==e.targetMismatches.get(A)?B=B.withResumeToken(vi.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):C.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(C.resumeToken,r)),i=i.insert(A,B),te=B,oe=C,(0===(q=P).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0)&&f.push(t.Fs.updateTargetData(o,B))});let m=Zs(),v=hn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,C))}),f.push(V2(o,c,e.documentUpdates).next(C=>{m=C.er,v=C.nr})),!r.isEqual(Mt.min())){const C=t.Fs.getLastRemoteSnapshotVersion(o).next(A=>t.Fs.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(C)}return K.waitFor(f).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,v)).next(()=>m)}).then(o=>(t.Hi=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.gc.get(o);c&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.lc=!0:i.modifiedDocuments.size>0?Tt(c.lc):i.removedDocuments.size>0&&(Tt(c.lc),c.lc=!1))}),yield fc(t,r,e)}catch(r){yield Nt(r)}}),XN.apply(this,arguments)}function uF(n,e,t){const r=ot(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((o,c)=>{const f=c.view.ku(e);f.snapshot&&i.push(f.snapshot)}),function(o,c){const f=ot(o);f.onlineState=c;let m=!1;f.queries.forEach((v,C)=>{for(const A of C.listeners)A.ku(c)&&(m=!0)}),m&&qN(f)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sH(n,e,t){return eR.apply(this,arguments)}function eR(){return eR=(0,X.Z)(function*(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),o=i&&i.key;if(o){let c=new sr(h.comparator);c=c.insert(o,dr.newNoDocument(o,Mt.min()));const f=hn().add(o),m=new rw(Mt.min(),new Map,new sr(en),c,f);yield lF(r,m),r.mc=r.mc.remove(o),r.gc.delete(e),aR(r)}else yield x_(r.localStore,e,!1).then(()=>U_(r,e,t)).catch(Nt)}),eR.apply(this,arguments)}function oH(n,e){return tR.apply(this,arguments)}function tR(){return tR=(0,X.Z)(function*(n,e){const t=ot(n),r=e.batch.batchId;try{const i=yield function Cj(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Xi.newChangeBuffer({trackRemovals:!0});return function(c,f,m,v){const C=m.batch,A=C.keys();let P=K.resolve();return A.forEach(B=>{P=P.next(()=>v.getEntry(f,B)).next(q=>{const te=m.docVersions.get(B);Tt(null!==te),q.version.compareTo(te)<0&&(C.applyToRemoteDocument(q,m),q.isValidDocument()&&(q.setReadTime(m.commitVersion),v.addEntry(q)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(f,C))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=hn();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(f=f.add(c.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);sR(t,r,null),iR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fc(t,i)}catch(i){yield Nt(i)}}),tR.apply(this,arguments)}function aH(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=(0,X.Z)(function*(n,e,t){const r=ot(n);try{const i=yield function(o,c){const f=ot(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,c).next(C=>(Tt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(m,C))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);sR(r,e,t),iR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fc(r,i)}catch(i){yield Nt(i)}}),nR.apply(this,arguments)}function rR(){return rR=(0,X.Z)(function*(n,e){const t=ot(n);hh(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=ot(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=F_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),rR.apply(this,arguments)}function iR(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function sR(n,e,t){const r=ot(n);let i=r.Ic[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function U_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||cF(n,r)})}function cF(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(yw(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),aR(n))}function oR(n,e,t){for(const r of t)r instanceof sF?(n.yc.addReference(r.key,e),uH(n,r)):r instanceof oF?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||cF(n,r.key)):gt()}function uH(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.wc.add(r),aR(n))}function aR(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new h(a.fromString(e)),r=n.Ec.next();n.gc.set(r,new eH(t)),n.mc=n.mc.insert(t,r),yE(n.remoteStore,new hc(Ds(D_(t.path)),r,"TargetPurposeLimboResolution",bo.ct))}}function fc(n,e,t){return lR.apply(this,arguments)}function lR(){return lR=(0,X.Z)(function*(n,e,t){const r=ot(n),i=[],o=[],c=[];var f;r.dc.isEmpty()||(r.dc.forEach((f,m)=>{c.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const C=hN.Bi(m.targetId,v);o.push(C)}}))}),yield Promise.all(c),r.fc.eu(i),yield(f=(0,X.Z)(function*(m,v){const C=ot(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>K.forEach(v,P=>K.forEach(P.$i,B=>C.persistence.referenceDelegate.addReference(A,P.targetId,B)).next(()=>K.forEach(P.Fi,B=>C.persistence.referenceDelegate.removeReference(A,P.targetId,B)))))}catch(A){if(!eh(A))throw A;Ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of v){const P=A.targetId;if(!A.fromCache){const B=C.Hi.get(P),te=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);C.Hi=C.Hi.insert(P,te)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,o))}),lR.apply(this,arguments)}function cH(n,e){return uR.apply(this,arguments)}function uR(){return uR=(0,X.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield B2(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(c=>{c.forEach(f=>{f.reject(new xe(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fc(t,r.tr)}var i}),uR.apply(this,arguments)}function dH(n,e){const t=ot(n),r=t.gc.get(e);if(r&&r.lc)return hn().add(r.key);{let i=hn();const o=t._c.get(e);if(!o)return i;for(const c of o){const f=t.dc.get(c);i=i.unionWith(f.view.ec)}return i}}function hH(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,X.Z)(function*(n,e){const t=ot(n),r=yield fE(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&oR(t,e.targetId,i.uc),i}),cR.apply(this,arguments)}function fH(n,e){return dR.apply(this,arguments)}function dR(){return dR=(0,X.Z)(function*(n,e){const t=ot(n);return j2(t.localStore,e).then(r=>fc(t,r))}),dR.apply(this,arguments)}function pH(n,e,t,r){return hR.apply(this,arguments)}function hR(){return hR=(0,X.Z)(function*(n,e,t,r){const i=ot(n),o=yield function(c,f){const m=ot(c),v=ot(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Vn(C,f).next(A=>A?m.localDocuments.getDocuments(C,A):K.resolve(null)))}(i.localStore,e);var f;null!==o?("pending"===t?yield P_(i.remoteStore):"acknowledged"===t||"rejected"===t?(sR(i,e,r||null),iR(i,e),f=e,ot(ot(i.localStore).mutationQueue).Dn(f)):gt(),yield fc(i,o)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),hR.apply(this,arguments)}function fR(){return fR=(0,X.Z)(function*(n,e){const t=ot(n);if(_R(t),yR(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield dF(t,r.toArray());t.Ac=!0,yield UN(t.remoteStore,!0);for(const o of i)yE(t.remoteStore,o)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(U_(t,c),x_(t.localStore,c,!0))),yw(t.remoteStore,c)}),yield i,yield dF(t,r),function(o){const c=ot(o);c.gc.forEach((f,m)=>{yw(c.remoteStore,m)}),c.yc.Is(),c.gc=new Map,c.mc=new sr(h.comparator)}(t),t.Ac=!1,yield UN(t.remoteStore,!1)}}),fR.apply(this,arguments)}function dF(n,e,t){return pR.apply(this,arguments)}function pR(){return pR=(0,X.Z)(function*(n,e,t){const r=ot(n),i=[],o=[];for(const c of e){let f;const m=r._c.get(c);if(m&&0!==m.length){f=yield R_(r.localStore,Ds(m[0]));for(const v of m){const C=r.dc.get(v),A=yield hH(r,C);A.snapshot&&o.push(A.snapshot)}}else{const v=yield $2(r.localStore,c);f=yield R_(r.localStore,v),yield YN(r,hF(v),c,!1,f.resumeToken)}i.push(f)}return r.fc.eu(o),i}),pR.apply(this,arguments)}function hF(n){return vk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mH(n){const e=ot(n);return ot(ot(e.localStore).persistence).Mi()}function _H(n,e,t,r){return gR.apply(this,arguments)}function gR(){return gR=(0,X.Z)(function*(n,e,t,r){const i=ot(n);if(i.Ac)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield j2(i.localStore,Dk(o[0])),f=rw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vi.EMPTY_BYTE_STRING);yield fc(i,c,f);break}case"rejected":yield x_(i.localStore,e,!0),U_(i,e,r);break;default:gt()}}),gR.apply(this,arguments)}function yH(n,e,t){return mR.apply(this,arguments)}function mR(){return mR=(0,X.Z)(function*(n,e,t){const r=_R(n);if(r.Ac){for(const i of e){if(r._c.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const o=yield $2(r.localStore,i),c=yield R_(r.localStore,o);yield YN(r,hF(o),c.targetId,!1,c.resumeToken),yE(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield x_(r.localStore,i,!1).then(()=>{yw(r.remoteStore,i),U_(r,i)}).catch(Nt))}}),mR.apply(this,arguments)}function _R(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sH.bind(null,e),e.fc.eu=Yj.bind(null,e.eventManager),e.fc.vc=Kj.bind(null,e.eventManager),e}function yR(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aH.bind(null,e),e}class vw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=mw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return L2(this.persistence,new F2,e.initialUser,this.serializer)}createPersistence(e){return new lN(cE.js,this.serializer)}createSharedClientState(e){return new q2}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vR extends vw{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield yR(r.bc.syncEngine),yield P_(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return L2(this.persistence,new F2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new A2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new z$(t,this.persistence);return new G$(e.asyncQueue,r)}createPersistence(e){const t=dN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new cN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Z2(),_E(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new q2}}class fF extends vR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof bN&&(r.sharedClientState.syncEngine={Qr:pH.bind(null,i),jr:_H.bind(null,i),zr:yH.bind(null,i),Mi:mH.bind(null,i),Gr:fH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var o=(0,X.Z)(function*(c){yield function gH(n,e){return fR.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Z2();if(!bN.D(t))throw new xe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=dN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class V_{initialize(e,t){var r=this;return(0,X.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>uF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cH.bind(null,r.syncEngine),yield UN(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zj}createDatastore(e){const t=mw(e.databaseInfo.databaseId),r=new Rj(e.databaseInfo);return new Pj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=f=>uF(this.syncEngine,f,0),c=W2.D()?new W2:new Sj,new Lj(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,f,m,v){const C=new tH(r,i,o,c,f,m);return v&&(C.Ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(t){const r=ot(t);Ue("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield O_(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pF(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class bE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wH{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Xr,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const o=yield e.Mc(i);return new Jj(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,X.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,X.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class DH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,X.Z)(function*(o,c){const f=ot(o),m=ow(f.serializer)+"/documents",v={documents:c.map(B=>sw(f.serializer,B))},C=yield f.Ao("BatchGetDocuments",m,v,c.length),A=new Map;C.forEach(B=>{const q=function H3(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=Hl(t,r.found.name),o=ei(r.found.updateTime),c=r.found.createTime?ei(r.found.createTime):Mt.min(),f=new qi({mapValue:{fields:r.found.fields}});return dr.newFoundDocument(i,o,c,f)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=Hl(t,r.missing),o=ei(r.readTime);return dr.newNoDocument(i,o)}(n,e):gt()}(f.serializer,B);A.set(q.key.toString(),q)});const P=[];return c.forEach(B=>{const q=A.get(B.toString());Tt(!!q),P.push(q)}),P}),function(o,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new T_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=h.fromPath(i);e.mutations.push(new HM(o,e.precondition(o)))}),yield(r=(0,X.Z)(function*(i,o){const c=ot(i),f=ow(c.serializer)+"/documents",m={writes:o.map(v=>aw(c.serializer,v))};yield c.po("Commit",f,m)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?vr.exists(!1):vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new xe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class CH{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Fc=r.maxAttempts,this.Lo=new DN(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,X.Z)(function*(){const t=new DH(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.qc(o)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!Hb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Vk(t)}return!1}}class IH{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=SM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,X.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=F_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function wE(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,X.Z)(function*(o){r.isEqual(o)||(yield B2(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),bR.apply(this,arguments)}function wR(n,e){return DR.apply(this,arguments)}function DR(){return DR=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CR(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>tF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>tF(e.remoteStore,o)),n._onlineComponents=e}),DR.apply(this,arguments)}function gF(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function CR(n){return IR.apply(this,arguments)}function IR(){return IR=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!gF(t))throw t;qs("Error using user provided cache. Falling back to memory cache: "+t),yield wE(n,new vw)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield wE(n,new vw);return n._offlineComponents}),IR.apply(this,arguments)}function DE(n){return ER.apply(this,arguments)}function ER(){return ER=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield wR(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield wR(n,new V_))),n._onlineComponents}),ER.apply(this,arguments)}function mF(n){return CR(n).then(e=>e.persistence)}function CE(n){return CR(n).then(e=>e.localStore)}function _F(n){return DE(n).then(e=>e.remoteStore)}function TR(n){return DE(n).then(e=>e.syncEngine)}function $_(n){return AR.apply(this,arguments)}function AR(){return AR=(0,X.Z)(function*(n){const e=yield DE(n),t=e.eventManager;return t.onListen=nH.bind(null,e.syncEngine),t.onUnlisten=rH.bind(null,e.syncEngine),t}),AR.apply(this,arguments)}function vF(n,e,t={}){const r=new Xr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(i,o,c,f,m){const v=new bE({next:A=>{o.enqueueAndForget(()=>GN(i,C));const P=A.docs.has(c);!P&&A.fromCache?m.reject(new xe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&f&&"server"===f.source?m.reject(new xe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),C=new WN(D_(c.path),v,{includeMetadataChanges:!0,Uu:!0});return jN(i,C)}(yield $_(n),n.asyncQueue,e,t,r)})),r.promise}function bF(n,e,t={}){const r=new Xr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(i,o,c,f,m){const v=new bE({next:A=>{o.enqueueAndForget(()=>GN(i,C)),A.fromCache&&"server"===f.source?m.reject(new xe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(A)},error:A=>m.reject(A)}),C=new WN(c,v,{includeMetadataChanges:!0,Uu:!0});return jN(i,C)}(yield $_(n),n.asyncQueue,e,t,r)})),r.promise}const wF=new Map;function SR(n,e,t){if(!t)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DF(n,e,t,r){if(!0===e&&!0===r)throw new xe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CF(n){if(!h.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function IF(n){if(h.isDocumentKey(n))throw new xe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function IE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=IE(n);throw new xe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function EF(n,e){if(e<=0)throw new xe(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class TF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new UP;switch(t.type){case"firstParty":return new VP(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wF.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),wF.delete(e),t.terminate())}(this),Promise.resolve()}}function AF(n,e,t,r={}){var i;const o=(n=Dn(n,bw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&qs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=ai.MOCK_USER;else{c=(0,pt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ai(m)}n._authCredentials=new CM(new DM(c,f))}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Gl extends Wi{constructor(e,t,r){super(e,t,D_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new h(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function SF(n,e,...t){if(n=(0,pt.m9)(n),SR("collection","path",e),n instanceof bw){const r=a.fromString(e,...t);return IF(r),new Gl(n,null,r)}{if(!(n instanceof hr||n instanceof Gl))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(a.fromString(e,...t));return IF(r),new Gl(n.firestore,null,r)}}function EE(n,e,...t){if(n=(0,pt.m9)(n),1===arguments.length&&(e=SM.A()),SR("doc","path",e),n instanceof bw){const r=a.fromString(e,...t);return CF(r),new hr(n,null,new h(r))}{if(!(n instanceof hr||n instanceof Gl))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(a.fromString(e,...t));return CF(r),new hr(n.firestore,n instanceof Gl?n.converter:null,new h(r))}}function MF(n,e){return n=(0,pt.m9)(n),e=(0,pt.m9)(e),(n instanceof hr||n instanceof Gl)&&(e instanceof hr||e instanceof Gl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MR(n,e){return n=(0,pt.m9)(n),e=(0,pt.m9)(e),n instanceof Wi&&e instanceof Wi&&n.firestore===e.firestore&&Kb(n._query,e._query)&&n.converter===e.converter}class PH{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new DN(this,"async_queue_retry"),this.Yc=()=>{const t=_E();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=_E();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=_E();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Xr;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,X.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!eh(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,yr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=$N.createAndSchedule(this,e,t,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&gt()}verifyOperationInProgress(){}na(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function NR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class kH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends bw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||NF(this),this._firestoreClient.terminate()}}function LH(n,e){const t="object"==typeof n?n:(0,ln.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,ln._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,pt.P0)("firestore");o&&AF(i,...o)}return i}function ti(n){return n._firestoreClient||NF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NF(n){var e,t,r;const i=n._freezeSettings(),o=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new h3(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var f,v;n._firestoreClient=new IH(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function RF(n,e,t){const r=new Xr;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield wE(n,t),yield wR(n,e),r.resolve()}catch(i){const o=i;if(!gF(o))throw o;qs("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function xF(n){if(n._initialized||n._terminated)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zl(vi.fromBase64String(e))}catch(t){throw new xe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zl(vi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new d(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ap{constructor(e){this._methodName=e}}class TE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}}const WH=/^__.*__$/;class ZH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new E_(e,this.data,t,this.fieldTransforms)}}class OF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new dc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class AE{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new AE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return NE(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PF(this.ua)&&WH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class YH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mw(e)}ga(e,t,r,i=!1){return new AE({ua:e,methodName:t,ma:r,path:d.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(n){const e=n._freezeSettings(),t=mw(n._databaseId);return new YH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SE(n,e,t,r,i,o={}){const c=n.ga(o.merge||o.mergeFields?2:0,e,t,i);PR("Data must be an object, but it was:",c,r);const f=LF(r,c);let m,v;if(o.merge)m=new Ws(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const C=[];for(const A of o.mergeFields){const P=Cw(e,A,t);if(!c.contains(P))throw new xe(he.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);UF(C,P)||C.push(P)}m=new Ws(C),v=c.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,v=c.fieldTransforms;return new ZH(new qi(f),m,v)}class Dw extends Ap{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dw}}function kF(n,e,t){return new AE({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RR extends Ap{_toFieldTransform(e){return new ew(e.path,new C_)}isEqual(e){return e instanceof RR}}class KH extends Ap{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=kF(this,e,!0),r=this.ya.map(o=>Mp(o,t)),i=new yp(r);return new ew(e.path,i)}isEqual(e){return this===e}}class JH extends Ap{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=kF(this,e,!0),r=this.ya.map(o=>Mp(o,t)),i=new vp(r);return new ew(e.path,i)}isEqual(e){return this===e}}class QH extends Ap{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new I_(e.serializer,Mk(e.serializer,this.pa));return new ew(e.path,t)}isEqual(e){return this===e}}function xR(n,e,t,r){const i=n.ga(1,e,t);PR("Data must be an object, but it was:",i,r);const o=[],c=qi.empty();th(r,(m,v)=>{const C=ME(e,m,t);v=(0,pt.m9)(v);const A=i.fa(C);if(v instanceof Dw)o.push(C);else{const P=Mp(v,A);null!=P&&(o.push(C),c.set(C,P))}});const f=new Ws(o);return new OF(c,f,i.fieldTransforms)}function OR(n,e,t,r,i,o){const c=n.ga(1,e,t),f=[Cw(e,r,t)],m=[i];if(o.length%2!=0)throw new xe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<o.length;P+=2)f.push(Cw(e,o[P])),m.push(o[P+1]);const v=[],C=qi.empty();for(let P=f.length-1;P>=0;--P)if(!UF(v,f[P])){const B=f[P];let q=m[P];q=(0,pt.m9)(q);const te=c.fa(B);if(q instanceof Dw)v.push(B);else{const oe=Mp(q,te);null!=oe&&(v.push(B),C.set(B,oe))}}const A=new Ws(v);return new OF(C,A,c.fieldTransforms)}function FF(n,e,t,r=!1){return Mp(t,n.ga(r?4:3,e))}function Mp(n,e){if(BF(n=(0,pt.m9)(n)))return PR("Unsupported field value:",e,n),LF(n,e);if(n instanceof Ap)return function(t,r){if(!PF(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let f=Mp(c,r.da(o));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,pt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mk(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ir.fromDate(t);return{timestampValue:A_(r.serializer,i)}}if(t instanceof ir){const i=new ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:A_(r.serializer,i)}}if(t instanceof TE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zl)return{bytesValue:Kk(r.serializer,t._byteString)};if(t instanceof hr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${IE(t)}`)}(n,e)}function LF(n,e){const t={};return QP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):th(n,(r,i)=>{const o=Mp(i,e.aa(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function BF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof TE||n instanceof zl||n instanceof hr||n instanceof Ap)}function PR(n,e,t){if(!BF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=IE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Cw(n,e,t){if((e=(0,pt.m9)(e))instanceof pc)return e._internalPath;if("string"==typeof e)return ME(n,e);throw NE("Field path arguments must be of type string or ",n,!1,void 0,t)}const XH=new RegExp("[~\\*/\\[\\]]");function ME(n,e,t){if(e.search(XH)>=0)throw NE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pc(...e.split("."))._internalPath}catch{throw NE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function NE(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new xe(he.INVALID_ARGUMENT,f+n+m)}function UF(n,e){return n.some(t=>t.isEqual(e))}class Iw{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new e6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class e6 extends Iw{data(){return super.data()}}function RE(n,e){return"string"==typeof e?ME(n,e):e instanceof pc?e._internalPath:e._delegate._internalPath}function VF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kR{}class Ew extends kR{}function ph(n,e,...t){let r=[];e instanceof kR&&r.push(e),r=r.concat(t),function(i){const o=i.filter(f=>f instanceof j_).length,c=i.filter(f=>f instanceof Tw).length;if(o>1||o>0&&c>0)throw new xe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Tw extends Ew{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tw(e,t,r)}_apply(e){const t=this._parse(e);return GF(e._query,t),new Wi(e.firestore,e.converter,VM(e._query,t))}_parse(e){const t=Sp(e.firestore);return function(i,o,c,f,m,v,C){let A;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new xe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){HF(C,v);const P=[];for(const B of C)P.push(jF(f,i,B));A={arrayValue:{values:P}}}else A=jF(f,i,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||HF(C,v),A=FF(c,"where",C,"in"===v||"not-in"===v);return wn.create(m,v,A)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class j_ extends kR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new j_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const c=i.getFlattenedFilters();for(const f of c)GF(o,f),o=VM(o,f)}(e._query,t),new Wi(e.firestore,e.converter,VM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class FR extends Ew{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new FR(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new xe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new b_(i,o);return function(f,m){if(null===BM(f)){const v=YI(f);null!==v&&zF(0,v,m.field)}}(r,c),c}(e._query,this._field,this._direction);return new Wi(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new uc(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class xE extends Ew{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new xE(e,t,r)}_apply(e){return new Wi(e.firestore,e.converter,KI(e._query,this._limit,this._limitType))}}class OE extends Ew{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new OE(e,t,r)}_apply(e){const t=$F(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(i=t,new uc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class PE extends Ew{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new PE(e,t,r)}_apply(e){const t=$F(e,this.type,this._docOrFields,this._inclusive);return new Wi(e.firestore,e.converter,(i=t,new uc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function $F(n,e,t,r){if(t[0]=(0,pt.m9)(t[0]),t[0]instanceof Iw)return function(i,o,c,f,m){if(!f)throw new xe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const C of _p(i))if(C.field.isKeyField())v.push(gp(o,f.key));else{const A=f.data.field(C.field);if(jI(A))throw new xe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const P=C.field.canonicalString();throw new xe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}v.push(A)}return new ah(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Sp(n.firestore);return function(o,c,f,m,v,C){const A=o.explicitOrderBy;if(v.length>A.length)throw new xe(he.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let B=0;B<v.length;B++){const q=v[B];if(A[B].field.isKeyField()){if("string"!=typeof q)throw new xe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof q}`);if(!UM(o)&&-1!==q.indexOf("/"))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${q}' contains a slash.`);const te=o.path.child(a.fromString(q));if(!h.isDocumentKey(te))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const oe=new h(te);P.push(gp(c,oe))}else{const te=FF(f,m,q);P.push(te)}}return new ah(P,C)}(n._query,n.firestore._databaseId,i,e,t,r)}}function jF(n,e,t){if("string"==typeof(t=(0,pt.m9)(t))){if(""===t)throw new xe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UM(e)&&-1!==t.indexOf("/"))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(a.fromString(t));if(!h.isDocumentKey(r))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gp(n,new h(r))}if(t instanceof hr)return gp(n,t._key);throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${IE(t)}.`)}function HF(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GF(n,e){if(e.isInequality()){const r=YI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new xe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=BM(n);null!==o&&zF(0,i,o)}const t=function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new xe(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function zF(n,e,t){if(!t.isEqual(e))throw new xe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class LR{convertValue(e,t="none"){switch(sh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return th(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new TE($r(e.latitude),$r(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=HI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zb(e));default:return null}}convertTimestamp(e){const t=nh(e);return new ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=a.fromString(e);Tt(o2(r));const i=new rh(r.get(1),r.get(3)),o=new h(r.popFirst(5));return i.isEqual(t)||yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function kE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class u6 extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gc extends Iw{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Aw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(RE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Aw extends gc{data(e={}){return super.data(e)}}class gh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Aw(this._firestore,this._userDataWriter,r.key,r,new Np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Aw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Aw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Np(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),v=o.indexOf(c.doc.key)),{type:d6(c.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function d6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function WF(n,e){return n instanceof gc&&e instanceof gc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gh&&e instanceof gh&&n._firestore===e._firestore&&MR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class mh extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function ZF(n,e,t){n=Dn(n,hr);const r=Dn(n.firestore,fr),i=kE(n.converter,e,t);return H_(r,[SE(Sp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,vr.none())])}function YF(n,e,t,...r){n=Dn(n,hr);const i=Dn(n.firestore,fr),o=Sp(i);let c;return c="string"==typeof(e=(0,pt.m9)(e))||e instanceof pc?OR(o,"updateDoc",n._key,e,t,r):xR(o,"updateDoc",n._key,e),H_(i,[c.toMutation(n._key,vr.exists(!0))])}function KF(n,...e){var t,r,i;n=(0,pt.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||NR(e[c])||(o=e[c],c++);const f={includeMetadataChanges:o.includeMetadataChanges};if(NR(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let m,v,C;if(n instanceof hr)v=Dn(n.firestore,fr),C=D_(n._key.path),m={next:A=>{e[c]&&e[c](BR(v,n,A))},error:e[c+1],complete:e[c+2]};else{const A=Dn(n,Wi);v=Dn(A.firestore,fr),C=A._query;const P=new mh(v);m={next:B=>{e[c]&&e[c](new gh(v,P,A,B))},error:e[c+1],complete:e[c+2]},VF(n._query)}return function(A,P,B,q){const te=new bE(q),oe=new WN(P,te,B);return A.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return jN(yield $_(A),oe)})),()=>{te.Sc(),A.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return GN(yield $_(A),oe)}))}}(ti(v),C,f,m)}function H_(n,e){return function(t,r){const i=new Xr;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function iH(n,e,t){return QN.apply(this,arguments)}(yield TR(t),r,i)})),i.promise}(ti(n),e)}function BR(n,e,t){const r=t.docs.get(e._key),i=new mh(n);return new gc(n,i,e._key,r,new Np(t.hasPendingWrites,t.fromCache),e.converter)}const M6={maxAttempts:5};class JF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sp(e)}set(e,t,r){this._verifyNotCommitted();const i=_h(e,this._firestore),o=kE(i.converter,t,r),c=SE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=_h(e,this._firestore);let c;return c="string"==typeof(t=(0,pt.m9)(t))||t instanceof pc?OR(this._dataReader,"WriteBatch.update",o._key,t,r,i):xR(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_h(e,this._firestore);return this._mutations=this._mutations.concat(new T_(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _h(n,e){if((n=(0,pt.m9)(n)).firestore!==e)throw new xe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class N6 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sp(e)}get(e){const t=_h(e,this._firestore),r=new u6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gt();const o=i[0];if(o.isFoundDocument())return new Iw(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Iw(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const i=_h(e,this._firestore),o=kE(i.converter,t,r),c=SE(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const o=_h(e,this._firestore);let c;return c="string"==typeof(t=(0,pt.m9)(t))||t instanceof pc?OR(this._dataReader,"Transaction.update",o._key,t,r,i):xR(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=_h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_h(e,this._firestore),r=new mh(this._firestore);return super.get(e).then(i=>new gc(this._firestore,r,t._key,i._document,new Np(!1,!1),t.converter))}}!function(n,e=!0){Xd=ln.SDK_VERSION,(0,ln._registerComponent)(new rs.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),c=new fr(new IM(t.getProvider("auth-internal")),new $P(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(f.options.projectId,m)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,ln.registerVersion)(Ub,"3.11.0",n),(0,ln.registerVersion)(Ub,"3.11.0","esm2017")}();function UR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function XF(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function eL(){if(!function c3(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Sw{constructor(e){this._delegate=e}static fromBase64String(e){return eL(),new Sw(zl.fromBase64String(e))}static fromUint8Array(e){return XF(),new Sw(zl.fromUint8Array(e))}toBase64(){return eL(),this._delegate.toBase64()}toUint8Array(){return XF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function VR(n){return function U6(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class V6{enableIndexedDbPersistence(e,t){return function BH(n,e){xF(n=Dn(n,fr));const t=ti(n);if(t._uninitializedComponentsProvider)throw new xe(he.FAILED_PRECONDITION,"SDK cache is already specified.");qs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new V_;return RF(t,i,new vR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UH(n){xF(n=Dn(n,fr));const e=ti(n);if(e._uninitializedComponentsProvider)throw new xe(he.FAILED_PRECONDITION,"SDK cache is already specified.");qs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new V_;return RF(e,r,new fF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function VH(n){if(n._initialized&&!n._terminated)throw new xe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(r){if(!Mn.D())return Promise.resolve();const i=r+"main";yield Mn.delete(i)}),function(r){return t.apply(this,arguments)})(dN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class tL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof rh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&qs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){AF(this._delegate,e,t,r)}enableNetwork(){return function jH(n){return function EH(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield mF(n),t=yield _F(n);return e.setNetworkEnabled(!0),function(r){const i=ot(r);return i.Au.delete(0),_w(i)}(t)}))}(ti(n=Dn(n,fr)))}(this._delegate)}disableNetwork(){return function HH(n){return function TH(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield mF(n),t=yield _F(n);return e.setNetworkEnabled(!1),(r=(0,X.Z)(function*(i){const o=ot(i);o.Au.add(0),yield O_(o),o.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ti(n=Dn(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,DF("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $H(n){return function(e){const t=new Xr;return e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function lH(n,e){return rR.apply(this,arguments)}(yield TR(e),t)})),t.promise}(ti(n=Dn(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function b6(n,e){return function MH(n,e){const t=new bE(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield $_(n),i=t,ot(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield $_(n),i=t,void ot(r).Nu.delete(i);var r,i}))}}(ti(n=Dn(n,fr)),NR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new G_(this,SF(this._delegate,e))}catch(t){throw Cs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ta(this,EE(this._delegate,e))}catch(t){throw Cs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,function OH(n,e){if(n=Dn(n,bw),SR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wi(n,null,(t=e,new uc(a.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Cs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function R6(n,e,t){n=Dn(n,fr);const r=Object.assign(Object.assign({},M6),t);return function(i){if(i.maxAttempts<1)throw new xe(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,c){const f=new Xr;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const m=yield function yF(n){return DE(n).then(e=>e.datastore)}(i);new CH(i.asyncQueue,m,c,o,f).run()})),f.promise}(ti(n),i=>e(new N6(n,i)),r)}(this._delegate,t=>e(new nL(this,t)))}batch(){return ti(this._delegate),new rL(new JF(this._delegate,e=>H_(this._delegate,e)))}loadBundle(e){return function GH(n,e){const t=ti(n=Dn(n,fr)),r=new kH;return function NH(n,e,t,r){const i=function(o,c){let f;return f="string"==typeof o?jk().encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return pF(m,v);if(m instanceof ArrayBuffer)return pF(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new wH(m,c);var m}(t,mw(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function vH(n,e,t){const r=ot(n);var i;(i=(0,X.Z)(function*(o,c,f){try{const m=yield c.getMetadata();if(yield function(P,B){const q=ot(P),te=ei(B.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",oe=>q.Ls.getBundleMetadata(oe,B.id)).then(oe=>!!oe&&oe.createTime.compareTo(te)>=0)}(o.localStore,m))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(P=m).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);f._updateProgress(iF(m));const v=new Qj(m,o.localStore,c.serializer);let C=yield c.Pc();for(;C;){const P=yield v.ju(C);P&&f._updateProgress(P),C=yield c.Pc()}const A=yield v.complete();return yield fc(o,A.Hu,void 0),yield function(P,B){const q=ot(P);return q.persistence.runTransaction("Save bundle","readwrite",te=>q.Ls.saveBundleMetadata(te,B))}(o.localStore,m),f._completeWith(A.progress),Promise.resolve(A.Wu)}catch(m){return qs("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m),Promise.resolve(new Set)}var P}),function(o,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield TR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function zH(n,e){return function RH(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(t,r){const i=ot(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ls.getNamedQuery(o,r))}(yield CE(n),e)}))}(ti(n=Dn(n,fr)),e).then(t=>t?new Wi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Is(this,t):null)}}class FE extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sw(new zl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ta.forKey(t,this.firestore,null)}}class nL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new FE(e)}get(e){const t=xp(e);return this._delegate.get(t).then(r=>new Mw(this._firestore,new gc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=xp(e);return r?(UR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=xp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=xp(e);return this._delegate.delete(t),this}}class rL{constructor(e){this._delegate=e}set(e,t,r){const i=xp(e);return r?(UR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=xp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=xp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Aw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Rp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Rp(e,new FE(e),t),i.set(t,o)),o}}Rp.INSTANCES=new WeakMap;class ta{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new FE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ta(t,new hr(t._delegate,r,new h(e)))}static forKey(e,t,r){return new ta(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new G_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new G_(this.firestore,SF(this._delegate,e))}catch(t){throw Cs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pt.m9)(e))instanceof hr&&MF(this._delegate,e)}set(e,t){t=UR("DocumentReference.set",t);try{return t?ZF(this._delegate,e,t):ZF(this._delegate,e)}catch(r){throw Cs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?YF(this._delegate,e):YF(this._delegate,e,t,...r)}catch(i){throw Cs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function y6(n){return H_(Dn(n.firestore,fr),[new T_(n._key,vr.none())])}(this._delegate)}onSnapshot(...e){const t=iL(e),r=sL(e,i=>new Mw(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return KF(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function f6(n){n=Dn(n,hr);const e=Dn(n.firestore,fr),t=ti(e),r=new mh(e);return function AH(n,e){const t=new Xr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(i,o,c){try{const f=yield function(m,v){const C=ot(m);return C.persistence.runTransaction("read document","readonly",A=>C.localDocuments.getDocument(A,v))}(i,o);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new xe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=F_(f,`Failed to get document '${o} from cache`);c.reject(m)}}),function(i,o,c){return r.apply(this,arguments)})(yield CE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new gc(e,r,n._key,i,new Np(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function p6(n){n=Dn(n,hr);const e=Dn(n.firestore,fr);return vF(ti(e),n._key,{source:"server"}).then(t=>BR(e,n,t))}(this._delegate):function h6(n){n=Dn(n,hr);const e=Dn(n.firestore,fr);return vF(ti(e),n._key).then(t=>BR(e,n,t))}(this._delegate),t.then(r=>new Mw(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ta(this.firestore,this._delegate.withConverter(e?Rp.getInstance(this.firestore,e):null))}}function Cs(n,e,t){return n.message=n.message.replace(e,t),n}function iL(n){for(const e of n)if("object"==typeof e&&!VR(e))return e;return{}}function sL(n,e){var t,r;let i;return i=VR(n[0])?n[0]:VR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Mw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return WF(this._delegate,e._delegate)}}class Nw extends Mw{data(e){const t=this._delegate.data(e);return function BP(n,e){n||gt()}(void 0!==t),t}}class Is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new FE(e)}where(e,t,r){try{return new Is(this.firestore,ph(this._delegate,function t6(n,e,t){const r=e,i=RE("where",n);return Tw._create(i,r,t)}(e,t,r)))}catch(i){throw Cs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Is(this.firestore,ph(this._delegate,function n6(n,e="asc"){const t=e,r=RE("orderBy",n);return FR._create(r,t)}(e,t)))}catch(r){throw Cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Is(this.firestore,ph(this._delegate,function r6(n){return EF("limit",n),xE._create("limit",n,"F")}(e)))}catch(t){throw Cs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Is(this.firestore,ph(this._delegate,function i6(n){return EF("limitToLast",n),xE._create("limitToLast",n,"L")}(e)))}catch(t){throw Cs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Is(this.firestore,ph(this._delegate,function s6(...n){return OE._create("startAt",n,!0)}(...e)))}catch(t){throw Cs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Is(this.firestore,ph(this._delegate,function o6(...n){return OE._create("startAfter",n,!1)}(...e)))}catch(t){throw Cs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Is(this.firestore,ph(this._delegate,function a6(...n){return PE._create("endBefore",n,!1)}(...e)))}catch(t){throw Cs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Is(this.firestore,ph(this._delegate,function l6(...n){return PE._create("endAt",n,!0)}(...e)))}catch(t){throw Cs(t,"endAt()","Query.endAt()")}}isEqual(e){return MR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function m6(n){n=Dn(n,Wi);const e=Dn(n.firestore,fr),t=ti(e),r=new mh(e);return function SH(n,e){const t=new Xr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(i,o,c){try{const f=yield fE(i,o,!0),m=new aF(o,f.sr),v=m.nc(f.documents),C=m.applyChanges(v,!1);c.resolve(C.snapshot)}catch(f){const m=F_(f,`Failed to execute query '${o} against cache`);c.reject(m)}}),function(i,o,c){return r.apply(this,arguments)})(yield CE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new gh(e,r,n,i))}(this._delegate):"server"===e?.source?function _6(n){n=Dn(n,Wi);const e=Dn(n.firestore,fr),t=ti(e),r=new mh(e);return bF(t,n._query,{source:"server"}).then(i=>new gh(e,r,n,i))}(this._delegate):function g6(n){n=Dn(n,Wi);const e=Dn(n.firestore,fr),t=ti(e),r=new mh(e);return VF(n._query),bF(t,n._query).then(i=>new gh(e,r,n,i))}(this._delegate),t.then(r=>new $R(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=iL(e),r=sL(e,i=>new $R(this.firestore,new gh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return KF(this._delegate,t,r)}withConverter(e){return new Is(this.firestore,this._delegate.withConverter(e?Rp.getInstance(this.firestore,e):null))}}class j6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Nw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $R{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new j6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Nw(this._firestore,r))})}isEqual(e){return WF(this._delegate,e._delegate)}}class G_ extends Is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ta(this.firestore,e):null}doc(e){try{return new ta(this.firestore,void 0===e?EE(this._delegate):EE(this._delegate,e))}catch(t){throw Cs(t,"doc()","CollectionReference.doc()")}}add(e){return function v6(n,e){const t=Dn(n.firestore,fr),r=EE(n),i=kE(n.converter,e);return H_(t,[SE(Sp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ta(this.firestore,t))}isEqual(e){return MF(this._delegate,e._delegate)}withConverter(e){return new G_(this.firestore,this._delegate.withConverter(e?Rp.getInstance(this.firestore,e):null))}}function xp(n){return Dn(n,hr)}class jR{constructor(...e){this._delegate=new pc(...e)}static documentId(){return new jR(d.keyField().canonicalString())}isEqual(e){return(e=(0,pt.m9)(e))instanceof pc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Op{constructor(e){this._delegate=e}static serverTimestamp(){const e=function O6(){return new RR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Op(e)}static delete(){const e=function x6(){return new Dw("deleteField")}();return e._methodName="FieldValue.delete",new Op(e)}static arrayUnion(...e){const t=function P6(...n){return new KH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Op(t)}static arrayRemove(...e){const t=function k6(...n){return new JH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Op(t)}static increment(e){const t=function F6(n){return new QH("increment",n)}(e);return t._methodName="FieldValue.increment",new Op(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const H6={Firestore:tL,GeoPoint:TE,Timestamp:ir,Blob:Sw,Transaction:nL,WriteBatch:rL,DocumentReference:ta,DocumentSnapshot:Mw,Query:Is,QueryDocumentSnapshot:Nw,QuerySnapshot:$R,CollectionReference:G_,FieldPath:jR,FieldValue:Op,setLogLevel:function $6(n){!function UI(n){Ul.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function z6(n){(function G6(n,e){n.INTERNAL.registerComponent(new rs.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},H6)))})(n,(e,t)=>new tL(e,t,new V6)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(WC.Z);var pr=$(7579),oL=$(6451);function jr(n,e){return(0,Sr.e)((t,r)=>{let i=null,o=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,Fn.x)(r,m=>{i?.unsubscribe();let v=0;const C=o++;(0,ns.Xf)(n(m,C)).subscribe(i=(0,Fn.x)(r,A=>r.next(e?e(m,A,C,v++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}class q6 extends pr.x{constructor(e=1/0,t=1/0,r=hv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var W6=$(3099);function aL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,W6.B)({connector:()=>new q6(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const LE=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ql=$(515);function ui(n){return n<=0?()=>ql.E:(0,Sr.e)((e,t)=>{let r=0;e.subscribe((0,Fn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function BE(n){return(0,Sr.e)((e,t)=>{let r=!1;e.subscribe((0,Fn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function lL(n=Y6){return(0,Sr.e)((e,t)=>{let r=!1;e.subscribe((0,Fn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Y6(){return new LE}function mc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rr((i,o)=>n(i,o,r)):Pl.y,ui(1),t?BE(e):lL(()=>new LE))}function uL(n,e){return(0,ao.m)(e)?jr(()=>n,e):jr(()=>n)}class z_{constructor(e){return e}}class HR{constructor(){return(0,ln.getApps)()}}const GR=new l.OlP("angularfire2._apps"),J6={provide:z_,useFactory:function K6(n){return n&&1===n.length?n[0]:new z_((0,ln.getApp)())},deps:[[new l.FiY,GR]]},Q6={provide:HR,deps:[[new l.FiY,GR]]};function X6(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new z_(r)}}let e4=(()=>{class n{constructor(t){(0,ln.registerVersion)("angularfire",Lf.full,"core"),(0,ln.registerVersion)("angularfire",Lf.full,"app"),(0,ln.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[J6,Q6]}),n})();function t4(n,...e){return{ngModule:e4,providers:[{provide:GR,useFactory:X6(n),multi:!0,deps:[l.R0b,l.zs3,Qu,...e]}]}}const n4=Pm(ln.initializeApp,!0),zR=new Map,cL={activated:!1,tokenObservers:[]},r4={initialized:!1,enabled:!1};function Hr(n){return zR.get(n)||Object.assign({},cL)}function UE(){return r4}const qR="https://content-firebaseappcheck.googleapis.com/v1",a4="exchangeDebugToken",dL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class u4{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,X.Z)(function*(){t.stop();try{t.pending=new pt.BH,yield function c4(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Zi=new pt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function YR(){return YR=(0,X.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,o)}catch(A){throw Zi.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==c.status)throw Zi.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw Zi.create("fetch-parse-error",{originalErrorMessage:A?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}}),YR.apply(this,arguments)}const p4="firebase-app-check-database",g4=1,Rw="firebase-app-check-store";let HE=null;function KR(){return KR=(0,X.Z)(function*(n,e){const r=(yield function pL(){return HE||(HE=new Promise((n,e)=>{try{const t=indexedDB.open(p4,g4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Zi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rw,{keyPath:"compositeKey"})}}catch(t){e(Zi.create("storage-open",{originalErrorMessage:t?.message}))}}),HE)}()).transaction(Rw,"readwrite"),o=r.objectStore(Rw).put({compositeKey:n,value:e});return new Promise((c,f)=>{o.onsuccess=m=>{c()},r.onerror=m=>{var v;f(Zi.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),KR.apply(this,arguments)}const xw=new uo.Yd("@firebase/app-check");function XR(n,e){return(0,pt.hl)()?function _4(n,e){return function gL(n,e){return KR.apply(this,arguments)}(function _L(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{xw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rx(){return rx=(0,X.Z)(function*(){const n=UE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),rx.apply(this,arguments)}const C4={error:"UNKNOWN_ERROR"};function I4(n){return pt.US.encodeString(JSON.stringify(n),!1)}function GE(n){return ix.apply(this,arguments)}function ix(){return ix=(0,X.Z)(function*(n,e=!1){const t=n.app;!function WR(n){if(!Hr(n).activated)throw Zi.create("use-before-activation",{appName:n.name})}(t);const r=Hr(t);let o,i=r.token;if(i&&!q_(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(q_(m)?i=m:yield XR(t,void 0))}if(!e&&i&&q_(i))return{token:i.token};let f,c=!1;if(function tx(){return UE().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function jE(n,e){return YR.apply(this,arguments)}(function hL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${qR}/projects/${t}/apps/${r}:${a4}?key=${i}`,body:{debug_token:e}}}(t,yield function nx(){return rx.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield XR(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Hr(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?xw.warn(m.message):xw.error(m),o=m}return i?o?f=q_(i)?{token:i.token,internalError:o}:bL(o):(f={token:i.token},r.token=i,yield XR(t,i)):f=bL(o),c&&function vL(n,e){const t=Hr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),ix.apply(this,arguments)}function ax(n,e){const t=Hr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yL(n){const{app:e}=n,t=Hr(e);let r=t.tokenRefresher;r||(r=function T4(n){const{app:e}=n;return new u4((0,X.Z)(function*(){let r;if(r=Hr(e).token?yield GE(n,!0):yield GE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Hr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},dL.RETRIAL_MIN_WAIT,dL.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function q_(n){return n.expireTimeMillis-Date.now()>0}function bL(n){return{token:I4(C4),error:n}}class A4{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hr(this.app);for(const t of e)ax(this.app,t.next);return Promise.resolve()}}const SL="app-check-internal";!function $4(){(0,ln._registerComponent)(new rs.wA("app-check",n=>function S4(n,e){return new A4(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SL).initialize()})),(0,ln._registerComponent)(new rs.wA(SL,n=>function M4(n){return{getToken:e=>GE(n,e),addTokenListener:e=>function ox(n,e,t,r){const{app:i}=n,o=Hr(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&q_(o.token)){const f=o.token;Promise.resolve().then(()=>{t({token:f.token}),yL(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yL(n))}(n,"INTERNAL",e),removeTokenListener:e=>ax(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ln.registerVersion)("@firebase/app-check","0.7.0")}();class W_{constructor(){return V0("app-check")}}typeof window<"u"&&window;var q4=$(9260);const NL=new l.OlP("angularfire2.auth.use-emulator"),RL=new l.OlP("angularfire2.auth.settings"),xL=new l.OlP("angularfire2.auth.tenant-id"),OL=new l.OlP("angularfire2.auth.langugage-code"),PL=new l.OlP("angularfire2.auth.use-device-language"),kL=new l.OlP("angularfire.auth.persistence"),FL=(n,e,t,r,i,o,c,f)=>(0,Ni.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,o&&m.useDeviceLanguage(),c)for(const[v,C]of Object.entries(c))m.settings[v]=C;return f&&m.setPersistence(f),m},[t,r,i,o,c,f]);let LL=(()=>{class n{constructor(t,r,i,o,c,f,m,v,C,A,P,B){const q=new pr.x,te=Ct(void 0).pipe((0,Ju.Q)(c.outsideAngular),jr(()=>o.runOutsideAngular(()=>Promise.resolve().then($.bind($,9568)))),(0,_t.U)(()=>(0,Ni.on)(t,o,r)),(0,_t.U)(oe=>FL(oe,o,f,v,C,A,m,P)),aL({bufferSize:1,refCount:!1}));if(Po(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{te.pipe(mc()).subscribe();const Ce=te.pipe(jr(Ze=>Ze.getRedirectResult().then(rt=>rt,()=>null)),Hi,aL({bufferSize:1,refCount:!1})),Oe=te.pipe(jr(Ze=>new Zn.y(rt=>({unsubscribe:o.runOutsideAngular(()=>Ze.onAuthStateChanged(ct=>rt.next(ct),ct=>rt.error(ct),()=>rt.complete()))})))),Fe=te.pipe(jr(Ze=>new Zn.y(rt=>({unsubscribe:o.runOutsideAngular(()=>Ze.onIdTokenChanged(ct=>rt.next(ct),ct=>rt.error(ct),()=>rt.complete()))}))));this.authState=Ce.pipe(uL(Oe),(0,ka.R)(c.outsideAngular),(0,Ju.Q)(c.insideAngular)),this.user=Ce.pipe(uL(Fe),(0,ka.R)(c.outsideAngular),(0,Ju.Q)(c.insideAngular)),this.idToken=this.user.pipe(jr(Ze=>Ze?(0,vn.D)(Ze.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(jr(Ze=>Ze?(0,vn.D)(Ze.getIdTokenResult()):Ct(null))),this.credential=(0,oL.T)(Ce,q,this.authState.pipe(rr(Ze=>!Ze))).pipe((0,_t.U)(Ze=>Ze?.user?Ze:null),(0,ka.R)(c.outsideAngular),(0,Ju.Q)(c.insideAngular))}return(0,Ni.pX)(this,te,o,{spy:{apply:(oe,Ce,Oe)=>{(oe.startsWith("signIn")||oe.startsWith("createUser"))&&Oe.then(Fe=>q.next(Fe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ni.Dh),l.LFG(Ni.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qu),l.LFG(NL,8),l.LFG(RL,8),l.LFG(xL,8),l.LFG(OL,8),l.LFG(PL,8),l.LFG(kL,8),l.LFG(W_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function BL(n,e){return function Z4(n,e=ud){return new Zn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function hx(n,e){return BL(n,e).pipe((0,_t.U)(t=>({payload:t,type:"query"})))}function qE(n,e){return hx(n,e).pipe(Fa(void 0),km(),(0,_t.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const m=i.find(C=>C.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),o}))}function UL(n,e,t){return qE(n,t).pipe(Vf((r,i)=>function K4(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function J4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return fx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return fx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),Fd(),(0,_t.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function fx(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function VL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $L{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=qE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_t.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Fa(void 0),km(),rr(([r,i])=>i.length>0||!r),(0,_t.U)(([r,i])=>i),Hi)}auditTrail(e){return this.stateChanges(e).pipe(Vf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VL(e);return UL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hi)}valueChanges(e={}){return hx(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Hi)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Hi)}add(e){return this.ref.add(e)}doc(e){return new jL(this.ref.doc(e),this.afs)}}class jL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=HL(r,t);return new $L(i,o,this.afs)}snapshotChanges(){return function Y4(n,e){return BL(n,e).pipe(Fa(void 0),km(),(0,_t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Hi)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,vn.D)(this.ref.get(e)).pipe(Hi)}}class Q4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qE(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),rr(t=>t.length>0),Hi):qE(this.query,this.afs.schedulers.outsideAngular).pipe(Hi)}auditTrail(e){return this.stateChanges(e).pipe(Vf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VL(e);return UL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hi)}valueChanges(e={}){return hx(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Hi)}get(e){return(0,vn.D)(this.query.get(e)).pipe(Hi)}}const X4=new l.OlP("angularfire2.enableFirestorePersistence"),eG=new l.OlP("angularfire2.firestore.persistenceSettings"),tG=new l.OlP("angularfire2.firestore.settings"),nG=new l.OlP("angularfire2.firestore.use-emulator");function HL(n,e=(t=>t)){return{query:e(n),ref:n}}let px=(()=>{class n{constructor(t,r,i,o,c,f,m,v,C,A,P,B,q,te,oe,Ce,Oe){this.schedulers=m;const Fe=(0,Ni.on)(t,f,r),Ze=C;A&&FL(Fe,f,P,q,te,oe,B,Ce),[this.firestore,this.persistenceEnabled$]=(0,Ni.cc)(`${Fe.name}.firestore`,"AngularFirestore",Fe.name,()=>{const rt=f.runOutsideAngular(()=>Fe.firestore());if(o&&rt.settings(o),Ze&&rt.useEmulator(...Ze),i&&!Po(c)){const ct=()=>{try{return(0,vn.D)(rt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(rn){return typeof console<"u"&&console.warn(rn),Ct(!1)}};return[rt,f.runOutsideAngular(ct)]}return[rt,Ct(!1)]},[o,Ze,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=HL(i,r),f=this.schedulers.ngZone.run(()=>o);return new $L(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new Q4(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new jL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ni.Dh),l.LFG(Ni.xv,8),l.LFG(X4,8),l.LFG(tG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qu),l.LFG(eG,8),l.LFG(nG,8),l.LFG(LL,8),l.LFG(NL,8),l.LFG(RL,8),l.LFG(xL,8),l.LFG(OL,8),l.LFG(PL,8),l.LFG(kL,8),l.LFG(W_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const GL="firebasestorage.googleapis.com",zL="storageBucket";class Rr extends pt.ZR{constructor(e,t,r=0){super(gx(e),`Firebase Storage: ${t} (${gx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var or=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(or||(or={})),or))();function gx(n){return"storage/"+n}function mx(){return new Rr(or.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qL(){return new Rr(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WL(){return new Rr(or.CANCELED,"User canceled the upload/download.")}function ZL(){return new Rr(or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Z_(n){return new Rr(or.INVALID_ARGUMENT,n)}function YL(){return new Rr(or.APP_DELETED,"The Firebase app was deleted.")}function KL(n){return new Rr(or.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ow(n,e){return new Rr(or.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Pw(n){throw new Rr(or.INTERNAL_ERROR,"Internal error: "+n)}class cs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=cs.makeFromUrl(e,t)}catch{return new cs(e,"")}if(""===r.path)return r;throw function fG(n){return new Rr(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(Ze){Ze.path_=decodeURIComponent(Ze.path)}const A=t.replace(/[.]/g,"\\."),Fe=[{regex:f,indices:{bucket:1,path:3},postModify:function o(Ze){"/"===Ze.path.charAt(Ze.path.length-1)&&(Ze.path_=Ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===GL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Ze=0;Ze<Fe.length;Ze++){const rt=Fe[Ze],ct=rt.regex.exec(e);if(ct){let cn=ct[rt.indices.path];cn||(cn=""),r=new cs(ct[rt.indices.bucket],cn),rt.postModify(r);break}}if(null==r)throw function hG(n){return new Rr(or.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class yG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function WE(n){return"string"==typeof n||n instanceof String}function JL(n){return _x()&&n instanceof Blob}function _x(){return typeof Blob<"u"&&!(0,pt.UG)()}function yx(n,e,t,r){if(r<e)throw Z_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Z_(`Invalid value for '${n}'. Expected ${t} or less.`)}function _c(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function QL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var yh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(yh||(yh={})),yh))();function XL(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}class IG{constructor(e,t,r,i,o,c,f,m,v,C,A,P=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=A,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,q)=>{this.resolve_=B,this.reject_=q,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,c=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function wG(n){return void 0!==n}(m)?o():o(m)}catch(m){c(m)}else if(null!==f){const m=mx();m.serverResponse=f.getErrorText(),c(this.errorCallback_?this.errorCallback_(f,m):m)}else c(i.canceled?this.appDelete_?YL():WL():qL())};this.canceled_?t(0,new ZE(!1,null,!0)):this.backoffId_=function vG(n,e,t){let r=1,i=null,o=null,c=!1,f=0;function m(){return 2===f}let v=!1;function C(...oe){v||(v=!0,e.apply(null,oe))}function A(oe){i=setTimeout(()=>{i=null,n(B,m())},oe)}function P(){o&&clearTimeout(o)}function B(oe,...Ce){if(v)return void P();if(oe)return P(),void C.call(null,oe,...Ce);if(m()||c)return P(),void C.call(null,oe,...Ce);let Fe;r<64&&(r*=2),1===f?(f=2,Fe=0):Fe=1e3*(r+Math.random()),A(Fe)}let q=!1;function te(oe){q||(q=!0,P(),!v&&(null!==i?(oe||(f=2),clearTimeout(i),A(0)):oe||(f=1)))}return A(0),o=setTimeout(()=>{c=!0,te(!0)},t),te}((r,i)=>{if(i)return void r(!1,new ZE(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const f=o.getErrorCode()===yh.NO_ERROR,m=o.getStatus();if(!f||XL(m,this.additionalRetryCodes_)&&this.retry){const C=o.getErrorCode()===yh.ABORT;return void r(!1,new ZE(!1,null,C))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new ZE(v,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function bG(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ZE{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function RG(...n){const e=function NG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(_x())return new Blob(n);throw new Rr(or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const wo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vx{constructor(e,t){this.data=e,this.contentType=t||null}}function bx(n,e){switch(n){case wo.RAW:return new vx(eB(e));case wo.BASE64:case wo.BASE64URL:return new vx(tB(n,e));case wo.DATA_URL:return new vx(function kG(n){const e=new nB(n);return e.base64?tB(wo.BASE64,e.rest):function PG(n){let e;try{e=decodeURIComponent(n)}catch{throw Ow(wo.DATA_URL,"Malformed data URL.")}return eB(e)}(e.rest)}(e),function FG(n){return new nB(n).contentType}(e))}throw mx()}function eB(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function tB(n,e){switch(n){case wo.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw Ow(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case wo.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Ow(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function OG(n){if(typeof atob>"u")throw function _G(n){return new Rr(or.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Ow(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class nB{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ow(wo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function LG(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Wl{constructor(e,t){let r=0,i="";JL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(JL(this.data_)){const i=function xG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Wl(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Wl(r,!0)}}static getBlob(...e){if(_x()){const t=e.map(r=>r instanceof Wl?r.data_:r);return new Wl(RG.apply(null,t))}{const t=e.map(c=>WE(c)?bx(wo.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)i[o++]=c[f]}),new Wl(i,!0)}}uploadData(){return this.data_}}function wx(n){let e;try{e=JSON.parse(n)}catch{return null}return function CG(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function rB(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function VG(n,e){return e}class Es{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||VG}}let YE=null;function kw(){if(YE)return YE;const n=[];n.push(new Es("bucket")),n.push(new Es("generation")),n.push(new Es("metageneration")),n.push(new Es("name","fullPath",!0));const t=new Es("name");t.xform=function e(o,c){return function $G(n){return!WE(n)||n.length<2?n:rB(n)}(c)},n.push(t);const i=new Es("size");return i.xform=function r(o,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Es("timeCreated")),n.push(new Es("updated")),n.push(new Es("md5Hash",null,!0)),n.push(new Es("cacheControl",null,!0)),n.push(new Es("contentDisposition",null,!0)),n.push(new Es("contentEncoding",null,!0)),n.push(new Es("contentLanguage",null,!0)),n.push(new Es("contentType",null,!0)),n.push(new Es("metadata","customMetadata",!0)),YE=n,YE}function iB(n,e,t){const r=wx(e);return null===r?null:function HG(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return function jG(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new cs(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}function Dx(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}const sB="prefixes",oB="items";class Zl{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Yl(n){if(!n)throw mx()}function KE(n,e){return function t(r,i){const o=iB(n,i,e);return Yl(null!==o),o}}function Y_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function cG(){return new Rr(or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function uG(){return new Rr(or.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function lG(n){return new Rr(or.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function dG(n){return new Rr(or.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Fw(n){const e=Y_(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function aG(n){return new Rr(or.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function aB(n,e,t){const i=_c(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,f=new Zl(i,"GET",KE(n,t),c);return f.errorHandler=Fw(e),f}function YG(n,e,t,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(o.delimiter=t),r&&(o.pageToken=r),i&&(o.maxResults=i);const f=_c(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,C=new Zl(f,"GET",function WG(n,e){return function t(r,i){const o=function qG(n,e,t){const r=wx(t);return null===r?null:function zG(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[sB])for(const i of t[sB]){const o=i.replace(/\/$/,""),c=n._makeStorageReference(new cs(e,o));r.prefixes.push(c)}if(t[oB])for(const i of t[oB]){const o=n._makeStorageReference(new cs(e,i.name));r.items.push(o)}return r}(n,e,r)}(n,e,i);return Yl(null!==o),o}}(n,e.bucket),v);return C.urlParams=o,C.errorHandler=Y_(e),C}function uB(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function XG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class JE{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Cx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Yl(!1)}return Yl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const r5={STATE_CHANGED:"state_changed"},Ts={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ix(n){switch(n){case"running":case"pausing":case"canceling":return Ts.RUNNING;case"paused":return Ts.PAUSED;case"success":return Ts.SUCCESS;case"canceled":return Ts.CANCELED;default:return Ts.ERROR}}class i5{constructor(e,t,r){if(function DG(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function K_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let hB=null;class s5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Pw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class o5 extends s5{initXhr(){this.xhr_.responseType="text"}}function $a(){return hB?hB():new o5}class fB{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=kw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(or.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(XL(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=qL()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(or.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function e5(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),c=uB(e,r,i),f={name:c.fullPath},m=_c(o,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},A=Dx(c,t),q=new Zl(m,"POST",function B(te){let oe;Cx(te);try{oe=te.getResponseHeader("X-Goog-Upload-URL")}catch{Yl(!1)}return Yl(WE(oe)),oe},n.maxUploadRetryTime);return q.urlParams=f,q.headers=C,q.body=A,q.errorHandler=Y_(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$a,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function t5(n,e,t,r){const m=new Zl(t,"POST",function o(v){const C=Cx(v,["active","final"]);let A=null;try{A=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yl(!1)}A||Yl(!1);const P=Number(A);return Yl(!isNaN(P)),new JE(P,r.size(),"final"===C)},n.maxUploadRetryTime);return m.headers={"X-Goog-Upload-Command":"query"},m.errorHandler=Y_(e),m}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,$a,t,r);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new JE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let c;try{c=function n5(n,e,t,r,i,o,c,f){const m=new JE(0,0);if(c?(m.current=c.current,m.total=c.total):(m.current=0,m.total=r.size()),r.size()!==m.total)throw function gG(){return new Rr(or.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=m.total-m.current;let C=v;i>0&&(C=Math.min(C,i));const A=m.current;let B="";B=0===C?"finalize":v===C?"upload, finalize":"upload";const q={"X-Goog-Upload-Command":B,"X-Goog-Upload-Offset":`${m.current}`},te=r.slice(A,A+C);if(null===te)throw ZL();const Fe=new Zl(t,"POST",function oe(Ze,rt){const ct=Cx(Ze,["active","final"]),rn=m.current+C,cn=r.size();let Or;return Or="final"===ct?KE(e,o)(Ze,rt):null,new JE(rn,cn,"final"===ct,Or)},e.maxUploadRetryTime);return Fe.headers=q,Fe.body=te.uploadData(),Fe.progressCallback=f||null,Fe.errorHandler=Y_(n),Fe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(m){return this._error=m,void this._transition("error")}const f=this._ref.storage._makeRequest(c,$a,i,o,!1);this._request=f,f.getPromise().then(m=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(m.current),m.finalized?(this._metadata=m.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=aB(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,$a,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function cB(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},m=function f(){let Fe="";for(let Ze=0;Ze<2;Ze++)Fe+=Math.random().toString().slice(2);return Fe}();c["Content-Type"]="multipart/related; boundary="+m;const v=uB(e,r,i),C=Dx(v,t),B=Wl.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===B)throw ZL();const q={name:v.fullPath},te=_c(o,n.host,n._protocol),Ce=n.maxUploadRetryTime,Oe=new Zl(te,"POST",KE(n,t),Ce);return Oe.urlParams=q,Oe.headers=c,Oe.body=B.uploadData(),Oe.errorHandler=Y_(e),Oe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$a,e,t);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=WL(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Ix(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const o=new i5(t||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Ix(this._state)){case Ts.SUCCESS:K_(this._resolve.bind(null,this.snapshot))();break;case Ts.CANCELED:case Ts.ERROR:K_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ix(this._state)){case Ts.RUNNING:case Ts.PAUSED:e.next&&K_(e.next.bind(e,this.snapshot))();break;case Ts.SUCCESS:e.complete&&K_(e.complete.bind(e))();break;default:e.error&&K_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Pp{constructor(e,t){this._service=e,this._location=t instanceof cs?t:cs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pp(e,t)}get root(){const e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rB(this._location.path)}get storage(){return this._service}get parent(){const e=function BG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new cs(this._location.bucket,e);return new Pp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw KL(e)}}function gB(n,e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,X.Z)(function*(n,e,t){const i=yield mB(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield gB(n,e,i.nextPageToken))}),Ex.apply(this,arguments)}function mB(n,e){null!=e&&"number"==typeof e.maxResults&&yx("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=YG(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,$a)}function y5(n){n._throwIfRoot("getDownloadURL");const e=function KG(n,e,t){const i=_c(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,f=new Zl(i,"GET",function ZG(n,e){return function t(r,i){const o=iB(n,i,e);return Yl(null!==o),function GG(n,e,t,r){const i=wx(e);if(null===i||!WE(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(v=>{const A=n.fullPath;return _c("/b/"+c(n.bucket)+"/o/"+c(A),t,r)+QL({alt:"media",token:v})})[0]}(o,i,n.host,n._protocol)}}(n,t),c);return f.errorHandler=Fw(e),f}(n.storage,n._location,kw());return n.storage.makeRequestWithTokens(e,$a).then(t=>{if(null===t)throw function mG(){return new Rr(or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function _B(n,e){const t=function UG(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new cs(n._location.bucket,t);return new Pp(n.storage,r)}function yB(n,e){if(n instanceof Tx){const t=n;if(null==t._bucket)throw function pG(){return new Rr(or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zL+"' property when initializing the app?")}();const r=new Pp(t,t._bucket);return null!=e?yB(r,e):r}return void 0!==e?_B(n,e):n}function D5(n,e){if(e&&function b5(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Tx)return function w5(n,e){return new Pp(n,e)}(n,e);throw Z_("To use ref(service, url), the first argument must be a Storage instance.")}return yB(n,e)}function vB(n,e){const t=e?.[zL];return null==t?null:cs.makeFromBucketSpec(t,n)}class Tx{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=GL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?cs.makeFromBucketSpec(i,this._host):vB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?cs.makeFromBucketSpec(this._url,e):vB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,X.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,X.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pp(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new yG(YL());{const c=function MG(n,e,t,r,i,o,c=!0){const f=QL(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return function AG(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function EG(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function TG(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,o),function SG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new IG(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,X.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const bB="@firebase/storage";function CB(n,e){return D5(n=(0,pt.m9)(n),e)}function x5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Tx(t,r,i,e,ln.SDK_VERSION)}!function O5(){(0,ln._registerComponent)(new rs.wA("storage",x5,"PUBLIC").setMultipleInstances(!0)),(0,ln.registerVersion)(bB,"0.11.2",""),(0,ln.registerVersion)(bB,"0.11.2","esm2017")}();class QE{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class EB{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new QE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new QE(r,this,this._ref))},t)}on(e,t,r,i){let o;return t&&(o="function"==typeof t?c=>t(new QE(c,this,this._ref)):{next:t.next?c=>t.next(new QE(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class TB{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new yc(e,this._service))}get items(){return this._delegate.items.map(e=>new yc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class yc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function R5(n,e){return _B(n,e)}(this._delegate,e);return new yc(t,this.storage)}get root(){return new yc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new yc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new EB(function I5(n,e,t){return function f5(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new fB(n,new Wl(e),t)}(n=(0,pt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=wo.RAW,r){this._throwIfRoot("putString");const i=bx(t,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new EB(new fB(this._delegate,new Wl(i.data,!0),o),this)}listAll(){return function S5(n){return function g5(n){const e={prefixes:[],items:[]};return gB(n,e).then(()=>e)}(n=(0,pt.m9)(n))}(this._delegate).then(e=>new TB(e,this.storage))}list(e){return function A5(n,e){return mB(n=(0,pt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new TB(t,this.storage))}getMetadata(){return function E5(n){return function m5(n){n._throwIfRoot("getMetadata");const e=aB(n.storage,n._location,kw());return n.storage.makeRequestWithTokens(e,$a)}(n=(0,pt.m9)(n))}(this._delegate)}updateMetadata(e){return function T5(n,e){return function _5(n,e){n._throwIfRoot("updateMetadata");const t=function JG(n,e,t,r){const o=_c(e.fullServerUrl(),n.host,n._protocol),f=Dx(t,r),v=n.maxOperationRetryTime,C=new Zl(o,"PATCH",KE(n,r),v);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=f,C.errorHandler=Fw(e),C}(n.storage,n._location,e,kw());return n.storage.makeRequestWithTokens(t,$a)}(n=(0,pt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function M5(n){return y5(n=(0,pt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function N5(n){return function v5(n){n._throwIfRoot("deleteObject");const e=function QG(n,e){const r=_c(e.fullServerUrl(),n.host,n._protocol),f=new Zl(r,"DELETE",function c(m,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Fw(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$a)}(n=(0,pt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw KL(e)}}class AB{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(SB(e))throw Z_("ref() expected a child path but got a URL, use refFromURL instead.");return new yc(CB(this._delegate,e),this)}refFromURL(e){if(!SB(e))throw Z_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cs.makeFromUrl(e,this._delegate.host)}catch{throw Z_("refFromUrl() expected a valid full URL but got an invalid one.")}return new yc(CB(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function IB(n,e,t,r={}){!function C5(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,pt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function SB(n){return/^[A-Za-z]+:\/\//.test(n)}function L5(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new AB(t,r)}function MB(n){const e=function U5(n){return new Zn.y(e=>{const t=c=>e.next(c);t(n.snapshot);const o=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){o()}}).pipe(function rG(n,e=ud){return(0,Sr.e)((t,r)=>{let i=null,o=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const v=o;o=null,r.next(v)}};function m(){const v=c+n,C=e.now();if(C<v)return i=this.schedule(void 0,v-C),void r.add(i);f()}t.subscribe((0,Fn.x)(r,v=>{o=v,c=e.now(),i||(i=e.schedule(m,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,_t.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function XE(n){return{getDownloadURL:()=>Ct(void 0).pipe(GC,jr(()=>n.getDownloadURL()),Hi),getMetadata:()=>Ct(void 0).pipe(GC,jr(()=>n.getMetadata()),Hi),delete:()=>(0,vn.D)(n.delete()),child:e=>XE(n.child(e)),updateMetadata:e=>(0,vn.D)(n.updateMetadata(e)),put:(e,t)=>MB(n.put(e,t)),putString:(e,t,r)=>MB(n.putString(e,t,r)),list:e=>(0,vn.D)(n.list(e)),listAll:()=>(0,vn.D)(n.listAll())}}!function B5(n){const e={TaskState:Ts,TaskEvent:r5,StringFormat:wo,Storage:AB,Reference:yc};n.INTERNAL.registerComponent(new rs.wA("storage-compat",L5,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(WC.Z);const V5=new l.OlP("angularfire2.storageBucket"),$5=new l.OlP("angularfire2.storage.maxUploadRetryTime"),j5=new l.OlP("angularfire2.storage.maxOperationRetryTime"),H5=new l.OlP("angularfire2.storage.use-emulator");let Ax=(()=>{class n{constructor(t,r,i,o,c,f,m,v,C,A){const P=(0,Ni.on)(t,c,r);this.storage=(0,Ni.cc)(`${P.name}.storage.${i}`,"AngularFireStorage",P.name,()=>{const B=c.runOutsideAngular(()=>P.storage(i||void 0)),q=C;return q&&B.useEmulator(...q),m&&B.setMaxUploadRetryTime(m),v&&B.setMaxOperationRetryTime(v),B},[m,v])}ref(t){return XE(this.storage.ref(t))}refFromURL(t){return XE(this.storage.refFromURL(t))}upload(t,r,i){return XE(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ni.Dh),l.LFG(Ni.xv,8),l.LFG(V5,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qu),l.LFG($5,8),l.LFG(j5,8),l.LFG(H5,8),l.LFG(W_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),G5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),z5=(()=>{class n{constructor(){q4.Z.registerVersion("angularfire",Lf.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ax],imports:[G5]}),n})(),J_=(()=>{class n{constructor(t,r){this.aFirestore=t,this.storage=r}guardar(t){}traer(){this.aFirestore.collection("usuarios").valueChanges().subscribe(r=>{console.log(r)})}traerPeliculas(){this.aFirestore.collection("peliculas").valueChanges().subscribe(r=>(console.log(r),this.peliculascol=r,r))}updatePelicula(t){this.aFirestore.doc("peliculas/"+t.id).update(t)}delete(t){this.aFirestore.doc("usuarios/"+t).delete()}guardarActor(t){this.aFirestore.collection("actores");const i=this.aFirestore.doc("actores/"+this.aFirestore.createId());return i.set({id:i.ref.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,nacionalidad:t.nacionalidad}),!0}guardarUsuario(t){this.aFirestore.collection("usuarios");const i=this.aFirestore.doc("usuarios/"+this.aFirestore.createId());i.set({id:i.ref.id,nombre:t.nombre,apellido:t.apellido,edad:t.edad,sexo:t.sexo,email:t.email})}traerUsuarios(){this.usercol=this.aFirestore.collection("usuarios"),this.usercol.valueChanges().subscribe(t=>{console.log(t)})}traerActores(){var t=this;return(0,X.Z)(function*(){t.aFirestore.collection("actores").valueChanges().subscribe(i=>(console.log(i),t.actorescol=i,i))})()}guardarPelicula(t){var r=this;return(0,X.Z)(function*(){const i=yield r.guardarFoto(t),c=(r.aFirestore.collection("peliculas"),r.aFirestore.doc("peliculas/"+r.aFirestore.createId()));return c.set({id:c.ref.id,nombre:t.nombre,actor:t.actor,tipo:t.tipo,cantidadDePublico:t.publico,foto:i,fechaDeEstreno:t.fecha}),!0})()}guardarFoto(t){var r=this;return(0,X.Z)(function*(){return new Promise(i=>{var o=Date.now();const f=r.storage.ref(`peliculas/${o}`);r.storage.upload(`peliculas/${o}`,t.foto).snapshotChanges().pipe(jg(()=>{f.getDownloadURL().subscribe(v=>{i(v)})})).subscribe()})})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(px),l.LFG(Ax))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fi extends pr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var q5=$(9672);function eT(...n){const e=(0,$o.yG)(n),t=(0,$o.jO)(n),{args:r,keys:i}=gg(n);if(0===r.length)return(0,vn.D)([],e);const o=new Zn.y(function W5(n,e,t=Pl.y){return r=>{NB(e,()=>{const{length:i}=n,o=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)NB(e,()=>{const v=(0,vn.D)(n[m],e);let C=!1;v.subscribe((0,Fn.x)(r,A=>{o[m]=A,C||(C=!0,f--),f||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>jo(i,c):Pl.y));return t?o.pipe($c(t)):o}function NB(n,e,t){n?(0,q5.f)(t,n,e):e()}function RB(n){return new Zn.y(e=>{(0,ns.Xf)(n()).subscribe(e)})}var Z5=$(9635);function Lw(n,e){const t=(0,ao.m)(n)?n:()=>n,r=i=>i.error(t());return new Zn.y(e?i=>e.schedule(r,0,i):r)}function Sx(){return(0,Sr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Fn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xB extends Zn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Sr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dv.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Fn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dv.w0.EMPTY)}return e}refCount(){return Sx()(this)}}function vh(n){return(0,Sr.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,Fn.x)(t,void 0,void 0,c=>{o=(0,ns.Xf)(n(c,vh(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Mx(n){return n<=0?()=>ql.E:(0,Sr.e)((e,t)=>{let r=[];e.subscribe((0,Fn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function OB(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rr((i,o)=>n(i,o,r)):Pl.y,Mx(1),t?BE(e):lL(()=>new LE))}const un="primary",Bw=Symbol("RouteTitle");class K5{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Q_(n){return new K5(n)}function J5(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],f=n[o];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Kl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!kB(n[i],e[i]))return!1;return!0}function kB(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function FB(n){return Array.prototype.concat.apply([],n)}function LB(n){return n.length>0?n[n.length-1]:null}function Yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function bh(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,vn.D)(Promise.resolve(n)):Ct(n)}const tT=!1,X5={exact:function VB(n,e,t){if(!kp(n.segments,e.segments)||!nT(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!VB(n.children[r],e.children[r],t))return!1;return!0},subset:$B},BB={exact:function ez(n,e){return Kl(n,e)},subset:function tz(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kB(n[t],e[t]))},ignored:()=>!0};function UB(n,e,t){return X5[t.paths](n.root,e.root,t.matrixParams)&&BB[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function $B(n,e,t){return jB(n,e,e.segments,t)}function jB(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!kp(i,t)||e.hasChildren()||!nT(i,t,r))}if(n.segments.length===t.length){if(!kp(n.segments,t)||!nT(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!$B(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(kp(n.segments,i)&&nT(n.segments,i,r)&&n.children[un])&&jB(n.children[un],e,o,r)}}function nT(n,e,t){return e.every((r,i)=>BB[t](n[i].parameters,r.parameters))}class wh{constructor(e=new gn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Q_(this.queryParams)),this._queryParamMap}toString(){return iz.serialize(this)}}class gn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rT(this)}}class Uw{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Q_(this.parameters)),this._parameterMap}toString(){return zB(this)}}function kp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Vw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Nx},providedIn:"root"}),n})();class Nx{parse(e){const t=new fz(e);return new wh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$w(e.root,!0)}`,r=function az(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${iT(t)}=${iT(i)}`).join("&"):`${iT(t)}=${iT(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function sz(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const iz=new Nx;function rT(n){return n.segments.map(e=>zB(e)).join("/")}function $w(n,e){if(!n.hasChildren())return rT(n);if(e){const t=n.children[un]?$w(n.children[un],!1):"",r=[];return Yi(n.children,(i,o)=>{o!==un&&r.push(`${o}:${$w(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function rz(n,e){let t=[];return Yi(n.children,(r,i)=>{i===un&&(t=t.concat(e(r,i)))}),Yi(n.children,(r,i)=>{i!==un&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===un?[$w(n.children[un],!1)]:[`${i}:${$w(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[un]?`${rT(n)}/${t[0]}`:`${rT(n)}/(${t.join("//")})`}}function HB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iT(n){return HB(n).replace(/%3B/gi,";")}function Rx(n){return HB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sT(n){return decodeURIComponent(n)}function GB(n){return sT(n.replace(/\+/g,"%20"))}function zB(n){return`${Rx(n.path)}${function oz(n){return Object.keys(n).map(e=>`;${Rx(e)}=${Rx(n[e])}`).join("")}(n.parameters)}`}const lz=/^[^\/()?;=#]+/;function oT(n){const e=n.match(lz);return e?e[0]:""}const uz=/^[^=?&#]+/,dz=/^[^&#]+/;class fz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gn([],{}):new gn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[un]=new gn(e,t)),r}parseSegment(){const e=oT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,tT);return this.capture(e),new Uw(sT(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=oT(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=oT(this.remaining);i&&(r=i,this.capture(r))}e[sT(t)]=sT(r)}parseQueryParam(e){const t=function cz(n){const e=n.match(uz);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function hz(n){const e=n.match(dz);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=GB(t),o=GB(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=oT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,tT);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=un);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[un]:new gn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,tT)}}function xx(n){return n.segments.length>0?new gn([],{[un]:n}):n}function aT(n){const e={};for(const r of Object.keys(n.children)){const o=aT(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function pz(n){if(1===n.numberOfChildren&&n.children[un]){const e=n.children[un];return new gn(n.segments.concat(e.segments),e.children)}return n}(new gn(n.segments,e))}function Fp(n){return n instanceof wh}const Ox=!1;function gz(n,e,t,r,i){if(0===t.length)return X_(e.root,e.root,e.root,r,i);const o=function KB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new YB(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Yi(o.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new YB(t,e,r)}(t);return o.toRoot()?X_(e.root,e.root,new gn([],{}),r,i):function c(m){const v=function _z(n,e,t,r){if(n.isAbsolute)return new ey(e.root,!0,0);if(-1===r)return new ey(t,t===e.root,0);return function JB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new l.vHH(4005,Ox&&"Invalid number of '../'");i=r.segments.length}return new ey(r,!1,i-o)}(t,r+(jw(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,m),C=v.processChildren?ty(v.segmentGroup,v.index,o.commands):Px(v.segmentGroup,v.index,o.commands);return X_(e.root,v.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function jw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hw(n){return"object"==typeof n&&null!=n&&n.outlets}function X_(n,e,t,r,i){let c,o={};r&&Yi(r,(m,v)=>{o[v]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),c=n===e?t:ZB(n,e,t);const f=xx(aT(c));return new wh(f,o,i)}function ZB(n,e,t){const r={};return Yi(n.children,(i,o)=>{r[o]=i===e?t:ZB(i,e,t)}),new gn(n.segments,r)}class YB{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jw(r[0]))throw new l.vHH(4003,Ox&&"Root segment cannot have matrix parameters");const i=r.find(Hw);if(i&&i!==LB(r))throw new l.vHH(4004,Ox&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ey{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Px(n,e,t){if(n||(n=new gn([],{})),0===n.segments.length&&n.hasChildren())return ty(n,e,t);const r=function vz(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],f=t[r];if(Hw(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!XB(m,v,c))return o;r+=2}else{if(!XB(m,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new gn(n.segments.slice(0,r.pathIndex),{});return o.children[un]=new gn(n.segments.slice(r.pathIndex),n.children),ty(o,0,i)}return r.match&&0===i.length?new gn(n.segments,{}):r.match&&!n.hasChildren()?kx(n,e,t):r.match?ty(n,0,i):kx(n,e,t)}function ty(n,e,t){if(0===t.length)return new gn(n.segments,{});{const r=function yz(n){return Hw(n[0])?n[0].outlets:{[un]:n}}(t),i={};if(!r[un]&&n.children[un]&&1===n.numberOfChildren&&0===n.children[un].segments.length){const o=ty(n.children[un],e,t);return new gn(n.segments,o.children)}return Yi(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=Px(n.children[c],e,o))}),Yi(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new gn(n.segments,i)}}function kx(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Hw(o)){const m=bz(o.outlets);return new gn(r,m)}if(0===i&&jw(t[0])){r.push(new Uw(n.segments[e].path,QB(t[0]))),i++;continue}const c=Hw(o)?o.outlets[un]:`${o}`,f=i<t.length-1?t[i+1]:null;c&&f&&jw(f)?(r.push(new Uw(c,QB(f))),i+=2):(r.push(new Uw(c,{})),i++)}return new gn(r,{})}function bz(n){const e={};return Yi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=kx(new gn([],{}),0,t))}),e}function QB(n){const e={};return Yi(n,(t,r)=>e[r]=`${t}`),e}function XB(n,e,t){return n==t.path&&Kl(e,t.parameters)}const Gw="imperative";class Jl{constructor(e,t){this.id=e,this.url=t}}class Fx extends Jl{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lp extends Jl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lT extends Jl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uT extends Jl{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Lx extends Jl{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wz extends Jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dz extends Jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cz extends Jl{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Iz extends Jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ez extends Jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tz{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Az{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sz{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mz{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nz{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rz{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eU{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Pz=(()=>{class n{createUrlTree(t,r,i,o,c,f){return gz(t||r.root,i,o,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return Pz.\u0275fac(e)},providedIn:"root"}),n})();class tU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Bx(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Bx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ux(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ux(e,this._root).map(t=>t.value)}}function Bx(n,e){if(n===e.value)return e;for(const t of e.children){const r=Bx(n,t);if(r)return r}return null}function Ux(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ux(n,t);if(r.length)return r.unshift(e),r}return[]}class vc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ny(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class nU extends tU{constructor(e,t){super(e),this.snapshot=t,Vx(this,e)}toString(){return this.snapshot.toString()}}function rU(n,e){const t=function Lz(n,e){const c=new cT([],{},{},"",{},un,e,null,n.root,-1,{});return new sU("",new vc(c,[]))}(n,e),r=new Fi([new Uw("",{})]),i=new Fi({}),o=new Fi({}),c=new Fi({}),f=new Fi(""),m=new ry(r,i,c,f,o,un,e,t.root);return m.snapshot=t.root,new nU(new vc(m,[]),t)}class ry{constructor(e,t,r,i,o,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,_t.U)(v=>v[Bw]))??Ct(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(e=>Q_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(e=>Q_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iU(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Bz(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class cT{get title(){return this.data?.[Bw]}constructor(e,t,r,i,o,c,f,m,v,C,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=C,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Q_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Q_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sU extends tU{constructor(e,t){super(t),this.url=e,Vx(this,t)}toString(){return oU(this._root)}}function Vx(n,e){e.value._routerState=n,e.children.forEach(t=>Vx(n,t))}function oU(n){const e=n.children.length>0?` { ${n.children.map(oU).join(", ")} } `:"";return`${n.value}${e}`}function $x(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Kl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Kl(e.params,t.params)||n.params.next(t.params),function Q5(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Kl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Kl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jx(n,e){const t=Kl(n.params,e.params)&&function nz(n,e){return kp(n,e)&&n.every((t,r)=>Kl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jx(n.parent,e.parent))}function zw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Vz(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zw(n,r,i);return zw(n,r)})}(n,e,t);return new vc(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>zw(n,f)),c}}const r=function $z(n){return new ry(new Fi(n.url),new Fi(n.params),new Fi(n.queryParams),new Fi(n.fragment),new Fi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>zw(n,o));return new vc(r,i)}}const Hx="ngNavigationCancelingError";function aU(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Fp(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lU(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function lU(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Hx]=!0,r.cancellationCode=e,t&&(r.url=t),r}function uU(n){return cU(n)&&Fp(n.url)}function cU(n){return n&&n[Hx]}class jz{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qw,this.attachRef=null}}let qw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jz,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dT=!1;let Gx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=un,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(qw),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,dT);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,dT);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,dT);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,dT);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new Hz(t,f,i.injector);if(r&&function Gz(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class Hz{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ry?this.route:e===qw?this.childContexts:this.parent.get(e,t)}}let zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Gx],encapsulation:2}),n})();function dU(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wx(n){const e=n.children&&n.children.map(Wx),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==un&&(t.component=zx),t}function na(n){return n.outlet||un}function hU(n,e){const t=n.filter(r=>na(r)===e);return t.push(...n.filter(r=>na(r)!==e)),t}function Ww(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Yz{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$x(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ny(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),Yi(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ny(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ny(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ny(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rz(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mz(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if($x(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),$x(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Ww(i.snapshot),m=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class fU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hT{constructor(e,t){this.component=e,this.route=t}}function Kz(n,e,t){const r=n._root;return Zw(r,e?e._root:null,t,[r.value])}function iy(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Zw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ny(e);return n.children.forEach(c=>{(function Qz(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const m=function Xz(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!kp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kp(n.url,e.url)||!Kl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jx(n,e)||!Kl(n.queryParams,e.queryParams);default:return!jx(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new fU(r)):(o.data=c.data,o._resolvedData=c._resolvedData),Zw(n,e,o.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new hT(f.outlet.component,c))}else c&&Yw(e,f,i),i.canActivateChecks.push(new fU(r)),Zw(n,null,o.component?f?f.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),Yi(o,(c,f)=>Yw(c,t.getContext(f),i)),i}function Yw(n,e,t){const r=ny(n),i=n.value;Yi(r,(o,c)=>{Yw(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new hT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Kw(n){return"function"==typeof n}function Zx(n){return n instanceof LE||"EmptyError"===n?.name}const fT=Symbol("INITIAL_VALUE");function sy(){return jr(n=>eT(n.map(e=>e.pipe(ui(1),Fa(fT)))).pipe((0,_t.U)(e=>{for(const t of e)if(!0!==t){if(t===fT)return fT;if(!1===t||t instanceof wh)return t}return!0}),rr(e=>e!==fT),ui(1)))}function pU(n){return(0,Z5.z)(Yr(e=>{if(Fp(e))throw aU(0,e)}),(0,_t.U)(e=>!0===e))}const Yx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gU(n,e,t,r,i){const o=Kx(n,e,t);return o.matched?function m8(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ct(i.map(c=>{const f=iy(c,n);return bh(function s8(n){return n&&Kw(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(sy(),pU()):Ct(!0)}(r=dU(e,r),e,t).pipe((0,_t.U)(c=>!0===c?o:{...Yx})):Ct(o)}function Kx(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Yx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||J5)(t,n,e);if(!i)return{...Yx};const o={};Yi(i.posParams,(f,m)=>{o[m]=f.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function pT(n,e,t,r){if(t.length>0&&function v8(n,e,t){return t.some(r=>gT(n,e,r)&&na(r)!==un)}(n,t,r)){const o=new gn(e,function y8(n,e,t,r){const i={};i[un]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&na(o)!==un){const c=new gn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[na(o)]=c}return i}(n,e,r,new gn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function b8(n,e,t){return t.some(r=>gT(n,e,r))}(n,t,r)){const o=new gn(n.segments,function _8(n,e,t,r,i){const o={};for(const c of r)if(gT(n,t,c)&&!i[na(c)]){const f=new gn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[na(c)]=f}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new gn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function gT(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function mU(n,e,t,r){return!!(na(n)===r||r!==un&&gT(e,t,n))&&("**"===n.path||Kx(e,n,t).matched)}function _U(n,e,t){return 0===e.length&&!n.children[t]}const mT=!1;class _T{constructor(e){this.segmentGroup=e||null}}class yU{constructor(e){this.urlTree=e}}function Jw(n){return Lw(new _T(n))}function vU(n){return Lw(new yU(n))}function w8(n){return Lw(new l.vHH(4e3,mT&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class I8{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=pT(this.urlTree.root,[],[],this.config).segmentGroup,t=new gn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,un).pipe((0,_t.U)(o=>this.createUrlTree(aT(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vh(o=>{if(o instanceof yU)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof _T?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,un).pipe((0,_t.U)(i=>this.createUrlTree(aT(i),e.queryParams,e.fragment))).pipe(vh(i=>{throw i instanceof _T?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,mT&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=xx(e);return new wh(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,_t.U)(o=>new gn([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,vn.D)(i).pipe(Ta(o=>{const c=r.children[o],f=hU(t,o);return this.expandSegmentGroup(e,f,c,o).pipe((0,_t.U)(m=>({segment:m,outlet:o})))}),Vf((o,c)=>(o[c.outlet]=c.segment,o),{}),OB())}expandSegment(e,t,r,i,o,c){return(0,vn.D)(r).pipe(Ta(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,o,c).pipe(vh(v=>{if(v instanceof _T)return Ct(null);throw v}))),mc(f=>!!f),vh((f,m)=>{if(Zx(f))return _U(t,i,o)?Ct(new gn([],{})):Jw(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,o,c,f){return mU(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):Jw(t):Jw(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vU(o):this.lineralizeSegments(r,o).pipe((0,_i.z)(c=>{const f=new gn(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=Kx(t,i,o);if(!f)return Jw(t);const A=this.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?vU(A):this.lineralizeSegments(i,A).pipe((0,_i.z)(P=>this.expandSegment(e,t,r,P.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=dU(r,e),r.loadChildren?(r._loadedRoutes?Ct({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,_t.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new gn(i,{})))):Ct(new gn(i,{}))):gU(t,r,i,e).pipe(jr(({matched:c,consumedSegments:f,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,_i.z)(C=>{const A=C.injector??e,P=C.routes,{segmentGroup:B,slicedSegments:q}=pT(t,f,m,P),te=new gn(B.segments,B.children);if(0===q.length&&te.hasChildren())return this.expandChildren(A,P,te).pipe((0,_t.U)(Fe=>new gn(f,Fe)));if(0===P.length&&0===q.length)return Ct(new gn(f,{}));const oe=na(r)===o;return this.expandSegment(A,te,P,q,oe?un:o,!0).pipe((0,_t.U)(Oe=>new gn(f.concat(Oe.segments),Oe.children)))})):Jw(t)))}getChildConfig(e,t,r){return t.children?Ct({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ct({routes:t._loadedRoutes,injector:t._loadedInjector}):function g8(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ct(!0):Ct(i.map(c=>{const f=iy(c,n);return bh(function t8(n){return n&&Kw(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(sy(),pU())}(e,t,r).pipe((0,_i.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Yr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function D8(n){return Lw(lU(mT&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):Ct({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ct(r);if(i.numberOfChildren>1||!i.children[un])return w8(e.redirectTo);i=i.children[un]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new wh(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yi(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[o]=t[f]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return Yi(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new gn(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,mT&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class T8{}class M8{constructor(e,t,r,i,o,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=pT(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,un).pipe((0,_t.U)(t=>{if(null===t)return null;const r=new cT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},un,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vc(r,t),o=new sU(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=iU(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,vn.D)(Object.keys(r.children)).pipe(Ta(i=>{const o=r.children[i],c=hU(t,i);return this.processSegmentGroup(e,c,o,i)}),Vf((i,o)=>i&&o?(i.push(...o),i):null),function Y5(n,e=!1){return(0,Sr.e)((t,r)=>{let i=0;t.subscribe((0,Fn.x)(r,o=>{const c=n(o,i++);(c||e)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),BE(null),OB(),(0,_t.U)(i=>{if(null===i)return null;const o=wU(i);return function N8(n){n.sort((e,t)=>e.value.outlet===un?-1:t.value.outlet===un?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,vn.D)(t).pipe(Ta(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,o)),mc(c=>!!c),vh(c=>{if(Zx(c))return _U(r,i,o)?Ct([]):Ct(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!mU(t,r,i,o))return Ct(null);let c;if("**"===t.path){const f=i.length>0?LB(i).parameters:{},m=CU(r)+i.length;c=Ct({snapshot:new cT(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IU(t),na(t),t.component??t._loadedComponent??null,t,DU(r),m,EU(t)),consumedSegments:[],remainingSegments:[]})}else c=gU(r,t,i,e).pipe((0,_t.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:C})=>{if(!f)return null;const A=CU(r)+m.length;return{snapshot:new cT(m,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IU(t),na(t),t.component??t._loadedComponent??null,t,DU(r),A,EU(t)),consumedSegments:m,remainingSegments:v}}));return c.pipe(jr(f=>{if(null===f)return Ct(null);const{snapshot:m,consumedSegments:v,remainingSegments:C}=f;e=t._injector??e;const A=t._loadedInjector??e,P=function R8(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:B,slicedSegments:q}=pT(r,v,C,P.filter(oe=>void 0===oe.redirectTo));if(0===q.length&&B.hasChildren())return this.processChildren(A,P,B).pipe((0,_t.U)(oe=>null===oe?null:[new vc(m,oe)]));if(0===P.length&&0===q.length)return Ct([new vc(m,[])]);const te=na(t)===o;return this.processSegment(A,P,B,q,te?un:o).pipe((0,_t.U)(oe=>null===oe?null:[new vc(m,oe)]))}))}}function x8(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wU(n){const e=[],t=new Set;for(const r of n){if(!x8(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wU(r.children);e.push(new vc(r.value,i))}return e.filter(r=>!t.has(r))}function DU(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function CU(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function IU(n){return n.data||{}}function EU(n){return n.resolve||{}}function k8(n,e){return(0,_i.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ct(t);let o=0;return(0,vn.D)(i).pipe(Ta(c=>function F8(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!TU(i)&&(o[Bw]=i.title),function L8(n,e,t,r){const i=function B8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ct({});const o={};return(0,vn.D)(i).pipe((0,_i.z)(c=>function U8(n,e,t,r){const i=Ww(e)??r,o=iy(n,i);return bh(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(mc(),Yr(f=>{o[c]=f}))),Mx(1),function PB(n){return(0,_t.U)(()=>n)}(o),vh(c=>Zx(c)?ql.E:Lw(c)))}(o,n,e,r).pipe((0,_t.U)(c=>(n._resolvedData=c,n.data=iU(n,t).resolve,i&&TU(i)&&(n.data[Bw]=i.title),null)))}(c.route,r,n,e)),Yr(()=>o++),Mx(1),(0,_i.z)(c=>o===i.length?Ct(t):ql.E))})}function TU(n){return"string"==typeof n.title||null===n.title}function Jx(n){return jr(e=>{const t=n(e);return t?(0,vn.D)(t).pipe((0,_t.U)(()=>e)):Ct(e)})}const oy=new l.OlP("ROUTES");let Qx=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ct(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=bh(t.loadComponent()).pipe((0,_t.U)(SU),Yr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),jg(()=>{this.componentLoaders.delete(t)})),i=new xB(r,()=>new pr.x).pipe(Sx());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ct({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,_t.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,C=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=FB(m.get(oy,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(Wx),injector:m}}),jg(()=>{this.childrenLoaders.delete(r)})),c=new xB(o,()=>new pr.x).pipe(Sx());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return bh(t()).pipe((0,_t.U)(SU),(0,_i.z)(r=>r instanceof l.YKP||Array.isArray(r)?Ct(r):(0,vn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SU(n){return function V8(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let vT=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pr.x,this.configLoader=(0,l.f3M)(Qx),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Vw),this.rootContexts=(0,l.f3M)(qw),this.navigationId=0,this.afterPreactivation=()=>Ct(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Az(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Tz(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Fi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gw,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rr(r=>0!==r.id),(0,_t.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),jr(r=>{let i=!1,o=!1;return Ct(r).pipe(Yr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jr(c=>{const f=t.browserUrlTree.toString(),m=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new uT(c.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),ql.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return MU(c.source)&&(t.browserUrlTree=c.extractedUrl),Ct(c).pipe(jr(C=>{const A=this.transitions?.getValue();return this.events.next(new Fx(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),A!==this.transitions?.getValue()?ql.E:Promise.resolve(C)}),function E8(n,e,t,r){return jr(i=>function C8(n,e,t,r,i){return new I8(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,_t.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Yr(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function P8(n,e,t,r,i){return(0,_i.z)(o=>function S8(n,e,t,r,i,o,c="emptyOnly"){return new M8(n,e,t,r,i,c,o).recognize().pipe(jr(f=>null===f?function A8(n){return new Zn.y(e=>e.error(n))}(new T8):Ct(f)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,_t.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Yr(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(P,C)}t.browserUrlTree=C.urlAfterRedirects}const A=new wz(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(A)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:A,source:P,restoredState:B,extras:q}=c,te=new Fx(C,this.urlSerializer.serialize(A),P,B);this.events.next(te);const oe=rU(A,this.rootComponentType).snapshot;return Ct(r={...c,targetSnapshot:oe,urlAfterRedirects:A,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new uT(c.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),ql.E}}),Yr(c=>{const f=new Dz(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,_t.U)(c=>r={...c,guards:Kz(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function a8(n,e){return(0,_i.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?Ct({...t,guardsResult:!0}):function l8(n,e,t,r){return(0,vn.D)(n).pipe((0,_i.z)(i=>function p8(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ct(o.map(f=>{const m=Ww(e)??i,v=iy(f,m);return bh(function i8(n){return n&&Kw(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(mc())})).pipe(sy()):Ct(!0)}(i.component,i.route,t,e,r)),mc(i=>!0!==i,!0))}(c,r,i,n).pipe((0,_i.z)(f=>f&&function e8(n){return"boolean"==typeof n}(f)?function u8(n,e,t,r){return(0,vn.D)(e).pipe(Ta(i=>Uf(function d8(n,e){return null!==n&&e&&e(new Sz(n)),Ct(!0)}(i.route.parent,r),function c8(n,e){return null!==n&&e&&e(new Nz(n)),Ct(!0)}(i.route,r),function f8(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function Jz(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>RB(()=>Ct(c.guards.map(m=>{const v=Ww(c.node)??t,C=iy(m,v);return bh(function r8(n){return n&&Kw(n.canActivateChild)}(C)?C.canActivateChild(r,n):v.runInContext(()=>C(r,n))).pipe(mc())})).pipe(sy())));return Ct(o).pipe(sy())}(n,i.path,t),function h8(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const i=r.map(o=>RB(()=>{const c=Ww(e)??t,f=iy(o,c);return bh(function n8(n){return n&&Kw(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(mc())}));return Ct(i).pipe(sy())}(n,i.route,t))),mc(i=>!0!==i,!0))}(r,o,n,e):Ct(f)),(0,_t.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),Yr(c=>{if(r.guardsResult=c.guardsResult,Fp(c.guardsResult))throw aU(0,c.guardsResult);const f=new Cz(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),rr(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Jx(c=>{if(c.guards.canActivateChecks.length)return Ct(c).pipe(Yr(f=>{const m=new Iz(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),jr(f=>{let m=!1;return Ct(f).pipe(k8(t.paramsInheritanceStrategy,this.environmentInjector),Yr({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Yr(f=>{const m=new Ez(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),Jx(c=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(Yr(C=>{m.component=C}),(0,_t.U)(()=>{})));for(const C of m.children)v.push(...f(C));return v};return eT(f(c.targetSnapshot.root)).pipe(BE(),ui(1))}),Jx(()=>this.afterPreactivation()),(0,_t.U)(c=>{const f=function Uz(n,e,t){const r=zw(n,e._root,t?t._root:void 0);return new nU(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),Yr(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,_t.U)(r=>(new Yz(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),ui(1),Yr({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Lp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),jg(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),vh(c=>{if(o=!0,cU(c)){uU(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new lT(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),uU(c)){const m=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||MU(r.source)};t.scheduleNavigation(m,Gw,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new Lx(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(m){r.reject(m)}}return ql.E}))}))}cancelNavigationTransition(t,r,i){const o=new lT(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MU(n){return n!==Gw}let NU=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===un);return r}getResolvedTitleForRoute(t){return t.data[Bw]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)($8)},providedIn:"root"}),n})(),$8=(()=>{class n extends NU{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Iy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(G8)},providedIn:"root"}),n})();class H8{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let G8=(()=>{class n extends H8{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bT=new l.OlP("",{providedIn:"root",factory:()=>({})});let q8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(W8)},providedIn:"root"}),n})(),W8=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Z8(n){throw n}function Y8(n,e,t){return e.parse("/")}const K8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Do=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(bT,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Z8,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Y8,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(q8),this.routeReuseStrategy=(0,l.f3M)(j8),this.urlCreationStrategy=(0,l.f3M)(Fz),this.titleStrategy=(0,l.f3M)(NU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=FB((0,l.f3M)(oy,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(vT),this.urlSerializer=(0,l.f3M)(Vw),this.location=(0,l.f3M)(Ge),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rU(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gw,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Wx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:c;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...o};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=o||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Fp(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Gw,null,r)}navigate(t,r={skipLocationChange:!1}){return function Q8(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...K8}:!1===r?{...J8}:r,Fp(t))return UB(this.currentUrlTree,t,i);const o=this.parseUrl(t);return UB(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let f,m,v,C;return c?(f=c.resolve,m=c.reject,v=c.promise):v=new Promise((A,P)=>{f=A,m=P}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wT=(()=>{class n{constructor(t,r,i,o,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pr.x;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Lp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Do),l.Y36(ry),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(tt))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class RU{}let tq=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(rr(t=>t instanceof Lp),Ta(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,f=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,vn.D)(i).pipe((0,kd.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ct(null);const o=i.pipe((0,_i.z)(c=>null===c?Ct(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,vn.D)([o,c]).pipe((0,kd.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Do),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(RU),l.LFG(Qx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eO=new l.OlP("");let xU=(()=>{class n{constructor(t,r,i,o,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lp&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof eU&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eU(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Co=(()=>((Co=Co||{})[Co.COMPLETE=0]="COMPLETE",Co[Co.FAILED=1]="FAILED",Co[Co.REDIRECTING=2]="REDIRECTING",Co))();const ay=!1;function Dh(n,e){return{\u0275kind:n,\u0275providers:e}}const tO=new l.OlP("",{providedIn:"root",factory:()=>!1});function PU(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Do),i=n.get(kU);1===n.get(nO)&&r.initialNavigation(),n.get(FU,null,l.XFs.Optional)?.setUpPreloading(),n.get(eO,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const kU=new l.OlP(ay?"bootstrap done indicator":"",{factory:()=>new pr.x}),nO=new l.OlP(ay?"initial navigation":"",{providedIn:"root",factory:()=>1});function oq(){let n=[];return n=ay?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Do);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function xz(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Dh(1,n)}const FU=new l.OlP(ay?"router preloader":"");function aq(n){return Dh(0,[{provide:FU,useExisting:tq},{provide:RU,useExisting:n}])}const Qw=!1,LU=new l.OlP(Qw?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),lq=[Ge,{provide:Vw,useClass:Nx},Do,qw,{provide:ry,useFactory:function OU(n){return n.routerState.root},deps:[Do]},Qx,Qw?{provide:tO,useValue:!0}:[]];function uq(){return new l.PXZ("Router",Do)}let BU=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lq,Qw&&r?.enableTracing?oq().\u0275providers:[],{provide:oy,multi:!0,useValue:t},{provide:LU,useFactory:fq,deps:[[Do,new l.FiY,new l.tp0]]},{provide:bT,useValue:r||{}},r?.useHash?{provide:tt,useClass:me}:{provide:tt,useClass:Me},{provide:eO,useFactory:()=>{const n=(0,l.f3M)(Ya),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(bT),r=(0,l.f3M)(vT),i=(0,l.f3M)(Vw);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xU(i,r,n,e,t)}},r?.preloadingStrategy?aq(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:uq},r?.initialNavigation?pq(r):[],[{provide:UU,useFactory:PU},{provide:l.tb,multi:!0,useExisting:UU}]]}}static forChild(t){return{ngModule:n,providers:[{provide:oy,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(LU,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[zx]}),n})();function fq(n){if(Qw&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function pq(n){return["disabled"===n.initialNavigation?Dh(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Do);return()=>{e.setUpLocationChangeListener()}}},{provide:nO,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Dh(2,[{provide:nO,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(He,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Do),o=e.get(kU);(function nq(n,e){n.events.pipe(rr(t=>t instanceof Lp||t instanceof lT||t instanceof Lx||t instanceof uT),(0,_t.U)(t=>t instanceof Lp||t instanceof uT?Co.COMPLETE:t instanceof lT&&(0===t.code||1===t.code)?Co.REDIRECTING:Co.FAILED),rr(t=>t!==Co.REDIRECTING),ui(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(vT).afterPreactivation=()=>(r(!0),o.closed?Ct(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const UU=new l.OlP(Qw?"Router Initializer":"");var mq=$(1144);const _q=["addListener","removeListener"],yq=["addEventListener","removeEventListener"],vq=["on","off"];function Ki(n,e,t,r){if((0,ao.m)(t)&&(r=t,t=void 0),r)return Ki(n,e,t).pipe($c(r));const[i,o]=function Dq(n){return(0,ao.m)(n.addEventListener)&&(0,ao.m)(n.removeEventListener)}(n)?yq.map(c=>f=>n[c](e,f,t)):function bq(n){return(0,ao.m)(n.addListener)&&(0,ao.m)(n.removeListener)}(n)?_q.map(VU(n,e)):function wq(n){return(0,ao.m)(n.on)&&(0,ao.m)(n.off)}(n)?vq.map(VU(n,e)):[];if(!i&&(0,mq.z)(n))return(0,_i.z)(c=>Ki(c,e,t))((0,ns.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Zn.y(c=>{const f=(...m)=>c.next(1<m.length?m:m[0]);return i(f),()=>o(f)})}function VU(n,e){return t=>r=>n[t](e,r)}var Cq=$(3532);function rO(n=0,e,t=cD){let r=-1;return null!=e&&((0,Cq.K)(e)?t=e:r=e),new Zn.y(i=>{let o=function Iq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const{isArray:Eq}=Array;function $U(n){return 1===n.length&&Eq(n[0])?n[0]:n}var DT=$(5032);const HU=new Zn.y(DT.Z);function CT(...n){const e=(0,$o.jO)(n),t=$U(n);return t.length?new Zn.y(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let c=0;!r.closed&&c<t.length;c++)(0,ns.Xf)(t[c]).subscribe((0,Fn.x)(r,f=>{if(i[c].push(f),i.every(m=>m.length)){const m=i.map(v=>v.shift());r.next(e?e(...m):m),i.some((v,C)=>!v.length&&o[C])&&r.complete()}},()=>{o[c]=!0,!i[c].length&&r.complete()}));return()=>{i=o=null}}):ql.E}function Gr(n){return(0,Sr.e)((e,t)=>{(0,ns.Xf)(n).subscribe((0,Fn.x)(t,()=>t.complete(),DT.Z)),!t.closed&&e.subscribe(t)})}function iO(...n){const e=(0,$o.jO)(n);return(0,Sr.e)((t,r)=>{const i=n.length,o=new Array(i);let c=n.map(()=>!1),f=!1;for(let m=0;m<i;m++)(0,ns.Xf)(n[m]).subscribe((0,Fn.x)(r,v=>{o[m]=v,!f&&!c[m]&&(c[m]=!0,(f=c.every(Pl.y))&&(c=null))},DT.Z));t.subscribe((0,Fn.x)(r,m=>{if(f){const v=[m,...o];r.next(e?e(...v):v)}}))})}function P7(n,e){}function k7(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,P7,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function F7(n,e){}function L7(n,e){}function B7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.KtG(o.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,L7,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const U7=function(n,e){return{$implicit:n,opened:e}};function V7(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,F7,0,0,"ng-template",6),l.qZA(),l.YNc(3,B7,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,U7,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}const $7=["ngbAccordionBody",""];function j7(n,e){}function H7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const ST=["*"];function G7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return c.focus(),l.KtG(c.select(o.id,c.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function z7(n,e){}function q7(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,z7,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function W7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function Z7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const Y7=["ngbDatepickerDayView",""],K7=["month"],J7=["year"];function Q7(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function X7(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function eW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function tW(n,e){1&n&&l._UZ(0,"div",0)}function nW(n,e){1&n&&l._UZ(0,"div",0)}function rW(n,e){if(1&n&&(l.YNc(0,tW,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,nW,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function iW(n,e){if(1&n&&l.YNc(0,rW,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function sW(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function oW(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function aW(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,sW,2,1,"div",3),l.YNc(2,oW,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function lW(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function uW(n,e){}function cW(n,e){if(1&n&&l.YNc(0,uW,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function dW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),l.KtG(i.preventDefault())}),l.YNc(1,cW,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function hW(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,lW,2,1,"div",9),l.YNc(2,dW,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function fW(n,e){1&n&&l.YNc(0,hW,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const pW=["defaultDayTemplate"],gW=["content"];function mW(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,o=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",o)("focused",c)}}function _W(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function yW(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,_W,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function vW(n,e){if(1&n&&l.YNc(0,yW,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function bW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateEvent(i))})("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function wW(n,e){}function DW(n,e){}const CW=["dialog"],IW=["ngbNavOutlet",""];function EW(n,e){}const TW=function(n){return{$implicit:n}};function AW(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,EW,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,TW,t.active||r.isPanelTransitioning(t)))}}function SW(n,e){if(1&n&&l.YNc(0,AW,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function MW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function NW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function RW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function xW(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function OW(n,e){1&n&&l._uU(0,"...")}function PW(n,e){1&n&&(l.TgZ(0,"span",15),l._uU(1,"(current)"),l.qZA())}function kW(n,e){if(1&n&&(l._uU(0),l.YNc(1,PW,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;l.hij(" ",t," "),l.xp6(1),l.Q6J("ngIf",t===r)}}function FW(n,e){}const LW=function(n){return{disabled:!0,currentPage:n}};function BW(n,e){if(1&n&&(l.TgZ(0,"a",20),l.YNc(1,FW,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,LW,t))}}function UW(n,e){}const VW=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function $W(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",21),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.oxw(2).selectPage(o),l.KtG(i.preventDefault())}),l.YNc(1,UW,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,o=r.$implicit,c=l.oxw(),f=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||f)("ngTemplateOutletContext",l.kEZ(4,VW,i,t,o))}}function jW(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,BW,2,4,"a",18),l.YNc(2,$W,2,8,"a",19),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,o=r.disabled,c=l.oxw();l.ekj("active",t===i)("disabled",c.isEllipsis(t)||o),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",c.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!c.isEllipsis(t))}}function HW(n,e){1&n&&l.YNc(0,jW,3,7,"li",16),2&n&&l.Q6J("ngForOf",e.pages)}function GW(n,e){}const gO=function(n,e){return{disabled:n,currentPage:e}};function zW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",22),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,GW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,gO,t.previousDisabled(),t.page))}}function qW(n,e){}const WW=function(n){return{disabled:n}};function ZW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page-1),l.KtG(i.preventDefault())}),l.YNc(2,qW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,WW,t.previousDisabled()))}}function YW(n,e){}function KW(n,e){}function JW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",24),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page+1),l.KtG(i.preventDefault())}),l.YNc(2,KW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,gO,t.nextDisabled(),t.page))}}function QW(n,e){}function XW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",17)(1,"a",25),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,QW,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,gO,t.nextDisabled(),t.page))}}const e9=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function r9(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function i9(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function s9(n,e){}function o9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const o=l.CHM(t).index,c=l.oxw();return l.KtG(c.enter(o+1))})("click",function(){const o=l.CHM(t).index,c=l.oxw();return l.KtG(c.handleClick(o+1))}),l.YNc(3,s9,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function a9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function l9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function u9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function c9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function d9(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function h9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function f9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function p9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,h9,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(o.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(-o.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,f9,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function g9(n,e){1&n&&l._UZ(0,"div",5)}function m9(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function _9(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function y9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,m9,2,1,"ng-container",25),l.YNc(3,_9,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function v9(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function b9(n,e){}function w9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,b9,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function D9(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function C9(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function I9(n,e){if(1&n&&(l.YNc(0,D9,2,3,"span",1),l.YNc(1,C9,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function Ji(n){return parseInt(`${n}`,10)}function aV(n){return null!=n?`${n}`:""}function MT(n,e,t=0){return Math.max(Math.min(n,e),t)}function hy(n){return"string"==typeof n}function zr(n){return!isNaN(Ji(n))}function xr(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Vp(n){return null!=n}function fy(n){return zr(n)?`0${n}`.slice(-2):""}function uV(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function py(n){return(n||document.body).getBoundingClientRect()}function cV(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const dV={animation:!0,transitionTimerDelayMs:5},R9=()=>{},{transitionTimerDelayMs:x9}=dV,s1=new Map,bi=(n,e,t,r)=>{let i=r.context||{};const o=s1.get(e);if(o)switch(r.runningTransition){case"continue":return ql.E;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),s1.delete(e)}const c=t(e,r.animation,i)||R9;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),Ct(void 0).pipe(function M9(n){return e=>new Zn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new pr.x,m=new pr.x,v=f.pipe(function Aq(...n){return e=>Uf(e,Ct(...n))}(!0));s1.set(e,{transition$:f,complete:()=>{m.next(),m.complete()},context:i});const C=function N9(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const A=Ki(e,"transitionend").pipe(Gr(v),rr(({target:B})=>B===e));(function jU(...n){return 1===(n=$U(n)).length?(0,ns.Xf)(n[0]):new Zn.y(function Tq(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ns.Xf)(n[r]).subscribe((0,Fn.x)(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))})(rO(C+x9).pipe(Gr(v)),A,m).pipe(Gr(v)).subscribe(()=>{s1.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()},mO=(n,e,t)=>{let{direction:r,maxSize:i,dimension:o}=t;const{classList:c}=n;function f(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function P9(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,o),t.maxSize=i,n.style[o]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),py(n),c.add("collapsing")),n.style[o]="show"===r?i:"0px",()=>{f(),c.remove("collapsing"),n.style[o]=""};f()};let $p=(()=>{class n{constructor(){this.animation=dV.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hV=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k9=0,_O=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),fV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),pV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),yO=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+k9++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,fV,4),l.Suo(i,_O,4),l.Suo(i,pV,4)),2&t){let o;l.iGM(o=l.CRH())&&(r.titleTpls=o),l.iGM(o=l.CRH())&&(r.headerTpls=o),l.iGM(o=l.CRH())&&(r.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),F9=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),gV=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>vO)),l.Y36(yO,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),vO=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){hy(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(ui(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,bi(this._ngZone,r,mO,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&bi(this._ngZone,r.panelDiv,mO,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:o}=r;r.isOpen?(r.shown.emit(),this.shown.emit(o)):(r.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hV),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,yO,4),2&t){let o;l.iGM(o=l.CRH())&&(r.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,k7,3,3,"ng-template",0,1,l.W1O),l.YNc(2,V7,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[ar,hi,gV,F9,_O,er],encapsulation:2}),n})(),L9=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mV=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return bi(this._zone,this._element.nativeElement,mO,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(L9),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),B9=0,_V=(()=>{class n{constructor(t){this._item=t}template(){return!1===this._item.destroyOnHide||this._item.animatingBodyCollapse?this._bodyTpl:null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>jp)))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbAccordionBody",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,7),2&t){let o;l.iGM(o=l.CRH())&&(r._bodyTpl=o.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("accordion-body",!0)},standalone:!0,features:[l.jDz],attrs:$7,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&l.YNc(0,j7,0,0,"ng-template",0),2&t&&l.Q6J("ngTemplateOutlet",r.template())},dependencies:[hi],encapsulation:2}),n})(),yV=(()=>{class n{constructor(t,r){this.item=t,this.ngbCollapse=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>jp)),l.Y36(mV))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.collapseId),l.uIk("aria-labelledby",r.item.toggleId),l.ekj("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[l.zW0([mV])]}),n})(),jp=(()=>{class n{constructor(t,r){this._accordion=t,this._cd=r,this._subscriptions=[],this._collapsed=!0,this._id="ngb-accordion-item-"+B9++,this.animatingBodyCollapse=!1,this.destroyOnHide=this._accordion.destroyOnHide,this.disabled=!1,this.shown=new l.vpe,this.hidden=new l.vpe}set id(t){hy(t)&&""!==t&&(this._id=t)}set collapsed(t){this.collapsed!==t&&(this._collapsed=t,this._cd.markForCheck(),this._collapsed||(this.animatingBodyCollapse=!0,this._cd.detectChanges()),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=t)}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}ngAfterContentInit(){const{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,this._subscriptions.push(t.hidden.subscribe(()=>{this.animatingBodyCollapse=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}toggle(){this.collapsed=!this.collapsed}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>bO)),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordionItem",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,yV,7),2&t){let o;l.iGM(o=l.CRH())&&(r._collapse=o.first)}},hostVars:3,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.id),l.ekj("accordion-item",!0))},inputs:{id:["ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0}),n})(),bO=(()=>{class n{constructor(t){this.destroyOnHide=!0,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.closeOthers=t.closeOthers}toggle(t){const r=this._getItem(t);if(r){const i=r.collapsed;this._items.forEach(o=>{o===r?o.toggle():this.closeOthers&&i&&(o.collapsed=!0)})}}expand(t){const r=this._getItem(t);r&&this._items.forEach(i=>{i===r?r.collapsed=!1:this.closeOthers&&(i.collapsed=!0)})}expandAll(){this.closeOthers?this._items.find(t=>!t.collapsed)||(this._items.get(0).collapsed=!1):this._items.forEach(t=>{t.collapsed=!1})}collapse(t){const r=this._getItem(t);r&&(r.collapsed=!0)}collapseAll(){this._items.forEach(t=>t.collapsed=!0)}isExpanded(t){const r=this._getItem(t);return!!r&&!r.collapsed}_getItem(t){return this._items.find(r=>r.id===t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hV))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordion",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,jp,4),2&t){let o;l.iGM(o=l.CRH())&&(r._items=o)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[vO,_V]}),n})();const $9=({classList:n})=>{n.remove("show")};let j9=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H9=(()=>{class n{constructor(t,r,i,o){this._renderer=r,this._element=i,this._zone=o,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=bi(this._zone,this._element.nativeElement,$9,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(j9),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:ST,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,H7,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[er],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[H9]}),n})();var Ih=(()=>(function(n){n.START="start",n.END="end"}(Ih||(Ih={})),Ih))();const DV=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),o1=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},NT=n=>{o1(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},G9=(n,e,{direction:t})=>{const{classList:r}=n;return e?(DV(n)?o1(r):(r.add("carousel-item-"+(t===Ih.START?"next":"prev")),py(n),r.add("carousel-item-"+t)),()=>{NT(r),r.add("active")}):(o1(r),NT(r),void r.add("active"))},z9=(n,e,{direction:t})=>{const{classList:r}=n;return e?(DV(n)?o1(r):r.add("carousel-item-"+t),()=>{NT(r),r.remove("active")}):(o1(r),NT(r),void r.remove("active"))};let q9=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W9=0,Z9=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+W9++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),Y9=(()=>{class n{constructor(t,r,i,o,c){this._platformId=r,this._ngZone=i,this._cd=o,this._container=c,this.NgbSlideEventSource=Hp,this._destroy$=new pr.x,this._interval$=new Fi(0),this._mouseHover$=new Fi(!1),this._focused$=new Fi(!1),this._pauseOnHover$=new Fi(!1),this._pauseOnFocus$=new Fi(!1),this._pause$=new Fi(!1),this._wrap$=new Fi(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Hp.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Hp.ARROW_RIGHT)}ngAfterContentInit(){(function xs(n){return n===xh})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=eT([this.slide.pipe((0,_t.U)(r=>r.current),Fa(this.activeId)),this._wrap$,this.slides.changes.pipe(Fa(null))]).pipe((0,_t.U)(([r,i])=>{const o=this.slides.toArray(),c=this._getSlideIdxById(r);return i?o.length>1:c<o.length-1}),Fd());eT([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,_t.U)(([r,i,o,c,f,m,v])=>r||i&&o||c&&f||!v?0:m),Fd(),jr(r=>r>0?rO(r,r):HU),Gr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Hp.TIMER)))}),this.slides.changes.pipe(Gr(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{s1.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(ui(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Ih.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Ih.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const f={animation:this.animation,runningTransition:"stop",context:{direction:r}},m=[],v=this._getSlideById(this.activeId);if(v){const B=bi(this._ngZone,this._getSlideElement(v.id),z9,f);B.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),m.push(B)}const C=this.activeId;this.activeId=c.id;const A=this._getSlideById(this.activeId),P=bi(this._ngZone,this._getSlideElement(c.id),G9,f);P.subscribe(()=>{A?.slid.emit({isShown:!0,direction:r,source:i})}),m.push(P),CT(...m).pipe(ui(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:C,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Ih.END:Ih.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(q9),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Z9,4),2&t){let o;l.iGM(o=l.CRH())&&(r.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,G7,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,q7,4,4,"div",3),l.qZA(),l.YNc(4,W7,4,0,"button",4),l.YNc(5,Z7,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[ar,hi,er],encapsulation:2,changeDetection:0}),n})();var Hp=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(Hp||(Hp={})),Hp))();let CV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Y9]}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class wi{constructor(e,t,r){this.year=xr(e)?e:null,this.month=xr(t)?t:null,this.day=xr(r)?r:null}static from(e){return e instanceof wi?e:e?new wi(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function gy(n,e){return!function K9(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function EV(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function RT(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function wO(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:o}=e;return!(null==n||i||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function TV(n){return new wi(n.getFullYear(),n.getMonth()+1,n.getDate())}function xT(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let a1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function sZ(){return new oZ}()},providedIn:"root"}),n})(),oZ=(()=>{class n extends a1{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let o=xT(t),c=!0,f=o.getMonth();switch(r){case"y":o.setFullYear(o.getFullYear()+i);break;case"m":f+=i,o.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":o.setDate(o.getDate()+i),c=!1;break;default:return t}return c&&o.getMonth()!==f&&o.setDate(0),TV(o)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=xT(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=xT(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return TV(new Date)}isValid(t){if(!(t&&xr(t.year)&&xr(t.month)&&xr(t.day)&&0!==t.year))return!1;const r=xT(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Gp=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function aZ(n){return new lZ(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),lZ=(()=>{class n extends Gp{constructor(t){super(),this._locale=t,this._monthsShort=Je(t,vt.Standalone,et.Abbreviated),this._monthsFull=Je(t,vt.Standalone,et.Wide)}getWeekdayLabel(t,r){const i=Ae(this._locale,vt.Standalone,void 0===r?et.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return Nn(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),DO=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(xr(i=Ji(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(xr(i=Ji(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const o=this.toValidDate(i,null);if(gy(this._state.maxDate,o))return{maxDate:o}},minDate:i=>{const o=this.toValidDate(i,null);if(gy(this._state.minDate,o))return{minDate:o}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const o=!0===i||!1===i?et.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==c)return{weekdayWidth:o,weekdaysVisible:c}}},this._model$=new pr.x,this._dateSelect$=new pr.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:et.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(rr(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(rr(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,o)=>({...i,...o}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&gy(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){wO(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||EV(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(gy(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&wO(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=wi.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:o,focusDate:c,focusVisible:f,disabled:m,outsideDays:v}=t;t.months.forEach(C=>{C.weeks.forEach(A=>{A.days.forEach(P=>{c&&(P.context.focused=c.equals(P.date)&&f),P.tabindex=!m&&c&&P.date.equals(c)&&c.month===C.number?0:-1,!0===m&&(P.context.disabled=!0),void 0!==o&&(P.context.selected=null!==o&&o.equals(P.date)),C.number!==P.date.month&&(P.hidden="hidden"===v||"collapsed"===v||i>1&&P.date.after(r[0].firstDate)&&P.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function J9(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=RT(r.focusDate,r.minDate,r.maxDate),r.firstDate=RT(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=RT(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=RT(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function nZ(n,e,t,r,i){const{displayMonths:o,months:c}=t,f=c.splice(0,c.length);return Array.from({length:o},(v,C)=>{const A=Object.assign(n.getNext(e,"m",C),{day:1});if(c[C]=null,!i){const P=f.findIndex(B=>B.firstDate.equals(A));-1!==P&&(c[C]=f.splice(P,1)[0])}return A}).forEach((v,C)=>{null===c[C]&&(c[C]=function rZ(n,e,t,r,i={}){const{dayTemplateData:o,minDate:c,maxDate:f,firstDayOfWeek:m,markDisabled:v,outsideDays:C,weekdayWidth:A,weekdaysVisible:P}=t,B=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function iZ(n,e,t){const r=n.getDaysPerWeek(),i=new wi(e.year,e.month,1),o=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+o-t)%r)}(n,e,m),P||(i.weekdays.length=0);for(let q=0;q<n.getWeeksPerMonth();q++){let te=i.weeks[q];te||(te=i.weeks[q]={number:0,days:[],collapsed:!0});const oe=te.days;for(let Ce=0;Ce<n.getDaysPerWeek();Ce++){0===q&&P&&(i.weekdays[Ce]=r.getWeekdayLabel(n.getWeekday(e),A));const Oe=new wi(e.year,e.month,e.day),Fe=n.getNext(Oe),Ze=r.getDayAriaLabel(Oe);let rt=!!(c&&Oe.before(c)||f&&Oe.after(f));!rt&&v&&(rt=v(Oe,{month:i.number,year:i.year}));let ct=Oe.equals(B),rn=o?o(Oe,{month:i.number,year:i.year}):void 0;null===i.firstDate&&Oe.month===i.number&&(i.firstDate=Oe),Oe.month===i.number&&Fe.month!==i.number&&(i.lastDate=Oe);let cn=oe[Ce];cn||(cn=oe[Ce]={}),cn.date=Oe,cn.context=Object.assign(cn.context||{},{$implicit:Oe,date:Oe,data:rn,currentMonth:i.number,currentYear:i.year,disabled:rt,focused:!1,selected:!1,today:ct}),cn.tabindex=-1,cn.ariaLabel=Ze,cn.hidden=!1,e=Fe}te.number=n.getWeekNumber(oe.map(Ce=>Ce.date),m),te.collapsed="collapsed"===C&&oe[0].date.month!==i.number&&oe[oe.length-1].date.month!==i.number}return i}(n,v,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!wO(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,m=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function X9(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(o);for(let f=0;f<o;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function Q9(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const o=i.findIndex(c=>c===t.month);i=i.slice(o)}if(r&&e.year===r.year){const o=i.findIndex(c=>c===r.month);i=i.slice(0,o+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(m||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function tZ(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function eZ(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(a1),l.LFG(Gp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var my=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(my||(my={})),my))();let uZ=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:Y7,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),cZ=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new wi(this.date.year,Ji(t),1))}changeYear(t){this.select.emit(new wi(Ji(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gp),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(K7,7,l.SBq),l.Gf(J7,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(o){return r.changeMonth(o.target.value)}),l.YNc(2,Q7,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(o){return r.changeYear(o.target.value)}),l.YNc(5,X7,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[ar],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),dZ=(()=>{class n{constructor(t){this.i18n=t,this.navigation=my,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(o){return r.onClickPrev(o)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,eW,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,iW,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(o){return r.onClickNext(o)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[er,ar,cZ],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var In=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(In||(In={})),In))();let hZ=(()=>{class n{processKey(t,r){const{state:i,calendar:o}=r;switch(t.which){case In.PageUp:r.focusDate(o.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case In.PageDown:r.focusDate(o.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case In.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case In.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case In.ArrowLeft:r.focusDate(o.getPrev(i.focusedDate,"d",1));break;case In.ArrowUp:r.focusDate(o.getPrev(i.focusedDate,"d",o.getDaysPerWeek()));break;case In.ArrowRight:r.focusDate(o.getNext(i.focusedDate,"d",1));break;case In.ArrowDown:r.focusDate(o.getNext(i.focusedDate,"d",o.getDaysPerWeek()));break;case In.Enter:case In.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CO=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=et.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function fZ(){return new pZ}()},providedIn:"root"}),n})(),pZ=(()=>{class n extends IO{fromModel(t){return t&&xr(t.year)&&xr(t.month)&&xr(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&xr(t.year)&&xr(t.month)&&xr(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),AV=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),EO=(()=>{class n{constructor(t,r,i,o){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=o}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gp),l.Y36((0,l.Gpc)(()=>l1)),l.Y36(hZ),l.Y36(DO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(o){return r.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,aW,3,2,"div",0),l.YNc(1,fW,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[er,ar,hi],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),l1=(()=>{class n{constructor(t,r,i,o,c,f,m,v){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=m,this._ngZone=v,this._controlValue=null,this._destroyed$=new pr.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=C=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(C=>this[C]=o[C]),t.dateSelect$.pipe(Gr(this._destroyed$)).subscribe(C=>{this.dateSelect.emit(C)}),t.model$.pipe(Gr(this._destroyed$)).subscribe(C=>{const A=C.firstDate,P=this.model?this.model.firstDate:null;this._publicState={maxDate:C.maxDate,minDate:C.minDate,firstDate:C.firstDate,lastDate:C.lastDate,focusedDate:C.focusDate,months:C.months.map(Ce=>Ce.firstDate)};let B=!1;if(!A.equals(P)&&(this.navigate.emit({current:P?{year:P.year,month:P.month}:null,next:{year:A.year,month:A.month},preventDefault:()=>B=!0}),B&&null!==P))return void this._service.open(P);const q=C.selectedDate,te=C.focusDate,oe=this.model?this.model.focusDate:null;this.model=C,gy(q,this._controlValue)&&(this._controlValue=q,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(q))),gy(te,oe)&&oe&&C.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(wi.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(ui(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(wi.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Ki(this._contentEl.nativeElement,"focusin"),r=Ki(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,oL.T)(t,r).pipe(rr(({target:o,relatedTarget:c})=>!(uV(o,"ngb-dp-day")&&uV(c,"ngb-dp-day")&&i.contains(o)&&i.contains(c))),Gr(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:o}=t.startDate;EV(o,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case my.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case my.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=wi.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DO),l.Y36(a1),l.Y36(Gp),l.Y36(CO),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(IO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,AV,7),2&t){let o;l.iGM(o=l.CRH())&&(r.contentTemplate=o.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(pW,7),l.Gf(gW,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Zr,useExisting:(0,l.Gpc)(()=>n),multi:!0},DO]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,mW,1,5,"ng-template",null,0,l.W1O),l.YNc(2,vW,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,bW,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,wW,0,0,"ng-template",6),l.qZA(),l.YNc(9,DW,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[er,ar,hi,uZ,EO,dZ],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const NV=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function RV(n){const e=Array.from(n.querySelectorAll(NV)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let GV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[l1,EO]}),n})(),MO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),WV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Wp{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let UZ=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(ui(1)).subscribe(()=>{bi(this._zone,this._el.nativeElement,(t,r)=>{r&&py(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return bi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class ZV{close(e){}dismiss(e){}}class VZ{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new pr.x,this._dismissed=new pr.x,this._hidden=new pr.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Gr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Gr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function lV(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ct(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),CT(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var d1=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(d1||(d1={})),d1))();let $Z=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new pr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new pr.x,this.hidden=new pr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":hy(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ui(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=CT(bi(this._zone,t,()=>t.classList.remove("show"),r),bi(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};CT(bi(this._zone,this._elRef.nativeElement,(o,c)=>{c&&py(o),o.classList.add("show")},t),bi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Ki(t,"keydown").pipe(Gr(this._closed$),rr(i=>i.which===In.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(d1.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Ki(this._dialogEl.nativeElement,"mousedown").pipe(Gr(this._closed$),Yr(()=>r=!1),jr(()=>Ki(t,"mouseup").pipe(Gr(this._closed$),ui(1))),rr(({target:i})=>t===i)).subscribe(()=>{r=!0}),Ki(t,"click").pipe(Gr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(d1.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=RV(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&bi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ve),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(CW,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:ST,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),jZ=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ve))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HZ=(()=>{class n{constructor(t,r,i,o,c,f,m){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=c,this._rendererFactory=f,this._ngZone=m,this._activeWindowCmptHasChanged=new pr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Ki(e,"focusin").pipe(Gr(t),(0,_t.U)(o=>o.target));Ki(e,"keydown").pipe(Gr(t),rr(o=>o.which===In.Tab),iO(i)).subscribe(([o,c])=>{const[f,m]=RV(e);(c===f||c===e)&&o.shiftKey&&(m.focus(),o.preventDefault()),c===m&&!o.shiftKey&&(f.focus(),o.preventDefault())}),r&&Ki(e,"click").pipe(Gr(t),iO(i),(0,_t.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Vp(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new ZV,m=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,v=this._getContentRef(t,m,r,f,i);let C=!1!==i.backdrop?this._attachBackdrop(o):void 0,A=this._attachWindowComponent(o,v.nodes),P=new VZ(A,v,C,i.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(A),P.hidden.pipe(ui(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=B=>{P.close(B)},f.dismiss=B=>{P.dismiss(B)},this._applyWindowOptions(A.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,i),C.changeDetectorRef.detectChanges()),A.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(UZ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)($Z,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Vp(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Vp(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,o,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,o):hy(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,c):new Wp([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(o),new Wp([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Wp([[r]])}_createFromComponent(t,r,i,o,c){const f=l.zs3.create({providers:[{provide:ZV,useValue:o}],parent:t}),m=(0,l.LMc)(i,{environmentInjector:r,elementInjector:f}),v=m.location.nativeElement;return c.scrollable&&v.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Wp([[v]],m.hostView,m)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(ve),l.LFG(jZ),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GZ=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zZ=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(HZ),l.LFG(GZ))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[zZ]}),n})();const JZ=({classList:n})=>(n.remove("show"),()=>n.remove("active")),QZ=(n,e)=>{e&&py(n),n.classList.add("show")};let NO=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),QV=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Gr(this.nav.destroy$),Fa(this._activePane?.item||null),Fd(),function Nq(n){return rr((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?bi(this._ngZone,this._activePane.elRef.nativeElement,JZ,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),bi(this._ngZone,this._activePane.elRef.nativeElement,QZ,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(NO,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:IW,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,SW,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[NO,ar,er,hi],encapsulation:2,changeDetection:0}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[QV]}),n})(),XZ=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),e$=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),t$=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),n$=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),r$=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),i$=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),s$=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),o$=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),a$=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=MT(t,this.pageCount,1),this.page!==r&&zr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),zr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(XZ))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,e$,5),l.Suo(i,t$,5),l.Suo(i,n$,5),l.Suo(i,r$,5),l.Suo(i,i$,5),l.Suo(i,s$,5),l.Suo(i,o$,5)),2&t){let o;l.iGM(o=l.CRH())&&(r.tplEllipsis=o.first),l.iGM(o=l.CRH())&&(r.tplFirst=o.first),l.iGM(o=l.CRH())&&(r.tplLast=o.first),l.iGM(o=l.CRH())&&(r.tplNext=o.first),l.iGM(o=l.CRH())&&(r.tplNumber=o.first),l.iGM(o=l.CRH())&&(r.tplPrevious=o.first),l.iGM(o=l.CRH())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,o,c,f,m;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,i=$localize`:@@ngb.pagination.last:`,o=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,m=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",m,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,MW,2,0,"ng-template",null,0,l.W1O),l.YNc(2,NW,2,0,"ng-template",null,1,l.W1O),l.YNc(4,RW,2,0,"ng-template",null,2,l.W1O),l.YNc(6,xW,2,0,"ng-template",null,3,l.W1O),l.YNc(8,OW,1,0,"ng-template",null,4,l.W1O),l.YNc(10,kW,2,2,"ng-template",null,5,l.W1O),l.YNc(12,HW,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,zW,3,9,"li",7),l.YNc(16,ZW,3,8,"li",7),l.YNc(17,YW,0,0,"ng-template",8),l.YNc(18,JW,3,9,"li",7),l.YNc(19,XW,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,e9,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[er,ar,hi],encapsulation:2,changeDetection:0}),n})(),l$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[a$]}),n})(),c$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),sY=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oY=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!zr(t)||t<=0?100:t}get max(){return this._max}getValue(){return MT(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(sY))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:ST,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,r9,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[er,Mh],encapsulation:2,changeDetection:0}),n})(),d$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oY]}),n})(),aY=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lY=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(t,r){return`${t} out of ${r}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case In.ArrowDown:case In.ArrowLeft:this.update(this.rate-1);break;case In.ArrowUp:case In.ArrowRight:this.update(this.rate+1);break;case In.Home:this.update(0);break;case In.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=MT(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*MT(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(aY),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let o;l.iGM(o=l.CRH())&&(r.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(o){return r.handleKeyDown(o)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText(r.nextRate,r.max))("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Zr,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,i9,1,1,"ng-template",null,0,l.W1O),l.YNc(2,o9,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[ar,hi],encapsulation:2,changeDetection:0}),n})(),h$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[lY]}),n})();class f${constructor(e,t,r){this.hour=Ji(e),this.minute=Ji(t),this.second=Ji(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=zr(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){zr(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){zr(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return zr(this.hour)&&zr(this.minute)&&(!e||zr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let uY=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function cY(){return new dY}()},providedIn:"root"}),n})(),dY=(()=>{class n extends p${fromModel(t){return t&&xr(t.hour)&&xr(t.minute)?{hour:t.hour,minute:t.minute,second:xr(t.second)?t.second:null}:null}toModel(t){return t&&xr(t.hour)&&xr(t.minute)?{hour:t.hour,minute:t.minute,second:xr(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),g$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function hY(n){return new fY(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),fY=(()=>{class n extends g${constructor(t){super(),this._periods=Ee(t,vt.Standalone,et.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pY=/[^0-9]/g;let gY=(()=>{class n{constructor(t,r,i,o){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=o,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=xr(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=xr(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=xr(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new f$(r.hour,r.minute,r.second):new f$,!this.seconds&&(!r||!zr(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=Ji(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Ji(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Ji(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(pY,"")}formatHour(t){return zr(t)?fy(this.meridian?t%12==0?12:t%12:t%24):fy(NaN)}formatMinSec(t){return fy(zr(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!zr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uY),l.Y36(p$),l.Y36(l.sBO),l.Y36(g$))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Zr,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,o,c,f,m,v,C,A,P,B,q;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,m=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,v=$localize`:@@ngb.timepicker.SS:SS`,C=$localize`:@@ngb.timepicker.seconds:Seconds`,A=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,P=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,B=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,q=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],c,f,m,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",v,"aria-label",C,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],A,P,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],B,q]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,a9,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(o){return r.updateHour(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeHour(r.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeHour(-r.hourStep),o.preventDefault()}),l.qZA(),l.YNc(5,l9,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,u9,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(o){return r.updateMinute(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeMinute(r.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeMinute(-r.minuteStep),o.preventDefault()}),l.qZA(),l.YNc(11,c9,4,7,"button",3),l.qZA(),l.YNc(12,d9,2,0,"div",8),l.YNc(13,p9,4,9,"div",9),l.YNc(14,g9,1,0,"div",8),l.YNc(15,y9,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[er],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),m$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[gY]}),n})();const mY=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),py(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},_Y=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let yY=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($p))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),bY=(()=>{class n{constructor(t,r,i,o){this.ariaLive=t,this._zone=i,this._element=o,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(ui(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=bi(this._zone,this._element.nativeElement,_Y,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=bi(this._zone,this._element.nativeElement,mY,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(yY),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,vY,7,l.Rgc),2&t){let o;l.iGM(o=l.CRH())&&(r.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:ST,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,v9,2,1,"ng-template",null,0,l.W1O),l.YNc(2,w9,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[er,hi],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),_$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[bY]}),n})(),y$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),wY=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=aV(this.result),i=Array.isArray(this.term)?this.term:[this.term],o=v=>this.accentSensitive?v:cV(v),c=i.map(v=>function A9(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(aV(v)))).filter(v=>v),f=this.accentSensitive?r:cV(r),m=c.length?f.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=m;else{let v=0;this.parts=m.map(C=>r.substring(v,v+=C.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,I9,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[er,ar],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function DY(){return 100}});let v$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wY]}),n})(),b$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const CY=[bV,wV,CV,IV,GV,WV,YV,XV,b$,l$,c$,d$,h$,m$,_$,y$,v$];let IY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[CY,bV,wV,CV,IV,GV,WV,YV,XV,b$,l$,c$,d$,h$,m$,_$,y$,v$]}),n})(),EY=(()=>{class n{constructor(t){this.fdb=t,this.title="simulacroParcial",this.database=[{id:"1",nombre:"Scarface",tipo:"drama",fechaDeEstreno:"09/02/1984",cantidadDePublico:"456",foto:"scarface.png"},{id:"2",nombre:"Moana",tipo:"infantil",fechaDeEstreno:"23/11/2016",cantidadDePublico:"126",foto:"moana.png"},{id:"3",nombre:"Cisne Negro",tipo:"suspenso",fechaDeEstreno:"17/02/2011",cantidadDePublico:"765",foto:"cisneNegro.png"},{id:"4",nombre:"Kill Bill",tipo:"accion",fechaDeEstreno:"27/11/2003",cantidadDePublico:"465",foto:"killbill.png"}],this.strPeliculas=JSON.stringify(this.database),this.result=localStorage.setItem("peliculas",this.strPeliculas),t.traerActores(),t.traerPeliculas()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(J_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:37,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","check2","viewBox","0 0 16 16"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],["id","circle-half","viewBox","0 0 16 16"],["d","M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"],["id","moon-stars-fill","viewBox","0 0 16 16"],["d","M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"],["d","M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"],["id","sun-fill","viewBox","0 0 16 16"],["d","M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"],[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLink","login",1,"nav-link"],["routerLink","bienvenido",1,"nav-link"],["routerLink","busqueda",1,"nav-link"],["routerLink","actor/alta",1,"nav-link"],["routerLink","pelicula/alta",1,"nav-link"],[1,"container"]],template:function(t,r){1&t&&(l.TgZ(0,"body"),l.O4$(),l.TgZ(1,"svg",0)(2,"symbol",1),l._UZ(3,"path",2),l.qZA(),l.TgZ(4,"symbol",3),l._UZ(5,"path",4),l.qZA(),l.TgZ(6,"symbol",5),l._UZ(7,"path",6)(8,"path",7),l.qZA(),l.TgZ(9,"symbol",8),l._UZ(10,"path",9),l.qZA()(),l.kcU(),l.TgZ(11,"nav",10)(12,"div",11)(13,"a",12),l._uU(14,"Simulacro Parcial - Joaqu\xedn P\xe9rez"),l.qZA(),l.TgZ(15,"button",13),l._UZ(16,"span",14),l.qZA(),l.TgZ(17,"div",15)(18,"ul",16)(19,"li",17)(20,"a",18),l._uU(21,"Login"),l.qZA()(),l.TgZ(22,"li",17)(23,"a",19),l._uU(24,"Bienvenido"),l.qZA()(),l.TgZ(25,"li",17)(26,"a",20),l._uU(27,"Busqueda"),l.qZA()(),l.TgZ(28,"li",17)(29,"a",21),l._uU(30,"Alta Actores"),l.qZA()(),l.TgZ(31,"li",17)(32,"a",22),l._uU(33,"Alta Peliculas"),l.qZA()()()()()(),l.TgZ(34,"main",23),l._UZ(35,"router-outlet"),l.qZA()(),l._UZ(36,"br"))},dependencies:[Gx,wT,MO],styles:["body[_ngcontent-%COMP%]{padding-top:3.5rem}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8}.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}"]}),n})();var TY=$(5226),f1=$.n(TY);function AY(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",3),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.select(o))}),l._UZ(2,"img",4),l._uU(3),l._UZ(4,"hr",5),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.flags.png,l.LSH),l.xp6(1),l.hij(" ",t.name.common," ")}}let SY=(()=>{class n{constructor(t){this.http=t,this.EnviarPais=new l.vpe,this.url="https://restcountries.com/v3.1/all",console.log(this.treaerPaises())}treaerPaises(){this.http.get(this.url).subscribe(t=>{this.paises=t})}setPais(){this.EnviarPais.emit(this.paisMandar),console.log("set")}select(t){this.paisMandar=t,console.log("select"),this.setPais()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-tabla-paises"]],outputs:{EnviarPais:"EnviarPais"},decls:3,vars:1,consts:[["id","right-col"],["id","inner-right"],[4,"ngFor","ngForOf"],[2,"padding","5px",3,"click"],[2,"width","50px",3,"src"],[1,"mb-3"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,AY,5,2,"div",2),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.paises))},dependencies:[ar],styles:["#left-col[_ngcontent-%COMP%], #right-col[_ngcontent-%COMP%]{width:320px;height:100%;max-height:100%;margin-right:20px;overflow:hidden}#inner-right[_ngcontent-%COMP%]{height:300px;max-height:300px;overflow-y:scroll;background:ivory}"]}),n})();function MY(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El nombre es requerido"),l._UZ(2,"br"),l.qZA())}function NY(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El apellido es requerido"),l._UZ(2,"br"),l.qZA())}function RY(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La edad es requerida"),l._UZ(2,"br"),l.qZA())}let xY=(()=>{class n{constructor(t,r,i){this.http=t,this.fbd=r,this.fb=i,this.url="https://restcountries.com/v3.1/all",console.log(this.treaerPaises()),this.forma=this.fb.group({nombre:["",Rn.required],apellido:["",Rn.required],edad:["",[Rn.required,Rn.max(99)]],pais:new Al({value:"",disabled:!0},[Rn.required])}),console.log(this.forma)}treaerPaises(){this.http.get(this.url).subscribe(t=>{this.paises=t,console.log("bien",t)})}guardar(){console.log({nombre:this.actorNombre,apellido:this.actorApellido,nacionalidad:this.actorPais,edad:this.actorEdad}),this.fbd.guardarActor({nombre:this.actorNombre,apellido:this.actorApellido,nacionalidad:this.actorPais,edad:this.actorEdad})?f1().fire({title:"\xc9xito!",text:"El actor ha sido guardado con \xe9xito",icon:"success",confirmButtonText:"OK!"}):f1().fire({title:"Error!",text:"Ocurri\xf3 un erro guardando el actor",icon:"error",confirmButtonText:"OK!"})}pasarPais(t){this.paisPasado=t,this.actorPais=this.paisPasado.name.common}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vf),l.Y36(J_),l.Y36(z1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-actor-alta"]],decls:37,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[1,"mb-3"],[3,"EnviarPais"],[1,"col-md-8","order-md-1"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","placeholder","","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["nombre",""],["class","invalid",4,"ngIf"],["for","apellido"],["type","text","placeholder","","formControlName","apellido",1,"form-control",3,"ngModel","ngModelChange"],["apellido",""],["for","pais"],["type","text","placeholder","Seleccione un pa\xeds de la lista ->","formControlName","pais",1,"form-control",3,"ngModel","ngModelChange"],["pais",""],["for","edad"],["type","number","placeholder","","formControlName","edad",1,"form-control",3,"ngModel","ngModelChange"],["edad",""],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l._uU(4,"Nacionalidad"),l.qZA(),l.TgZ(5,"app-tabla-paises",4),l.NdJ("EnviarPais",function(o){return r.pasarPais(o)}),l.qZA()(),l.TgZ(6,"div",5)(7,"h4",3),l._uU(8,"Subir un actor"),l.qZA(),l.TgZ(9,"form",6),l.NdJ("ngSubmit",function(){return r.guardar()}),l.TgZ(10,"div",1)(11,"div",7)(12,"label",8),l._uU(13,"Nombres"),l.qZA(),l.TgZ(14,"input",9,10),l.NdJ("ngModelChange",function(o){return r.actorNombre=o}),l.qZA(),l.YNc(16,MY,3,0,"small",11),l.qZA(),l.TgZ(17,"div",7)(18,"label",12),l._uU(19,"Apellido"),l.qZA(),l.TgZ(20,"input",13,14),l.NdJ("ngModelChange",function(o){return r.actorApellido=o}),l.qZA(),l.YNc(22,NY,3,0,"small",11),l.qZA()(),l.TgZ(23,"div",3)(24,"label",15),l._uU(25,"Nacionalidad"),l.qZA(),l.TgZ(26,"input",16,17),l.NdJ("ngModelChange",function(o){return r.actorPais=o}),l.qZA()(),l.TgZ(28,"div",3)(29,"label",18),l._uU(30,"Edad"),l.qZA(),l.TgZ(31,"input",19,20),l.NdJ("ngModelChange",function(o){return r.actorEdad=o}),l.qZA(),l.YNc(33,RY,3,0,"small",11),l.qZA(),l._UZ(34,"hr",3),l.TgZ(35,"button",21),l._uU(36," Subir "),l.qZA()()()()()),2&t&&(l.xp6(9),l.Q6J("formGroup",r.forma),l.xp6(5),l.Q6J("ngModel",r.actorNombre),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),l.xp6(4),l.Q6J("ngModel",r.actorApellido),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),l.xp6(4),l.Q6J("ngModel",r.actorPais),l.xp6(5),l.Q6J("ngModel",r.actorEdad),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),l.xp6(2),l.Q6J("disabled",r.forma.invalid||!r.forma.controls.pais.value))},dependencies:[er,Uu,Go,sd,Mu,Cl,ms,Mg,SY],styles:[".invalid[_ngcontent-%COMP%]{color:red}"]}),n})();function OY(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",3),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.select(o))}),l._uU(2),l._UZ(3,"hr",4),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(2),l.hij(" ",t.nombre+" "+t.apellido," ")}}let w$=(()=>{class n{constructor(t){this.aFirestore=t,this.EnviarActor=new l.vpe,this.traeractores()}traeractores(){var t=this;return(0,X.Z)(function*(){t.aFirestore.collection("actores").valueChanges().subscribe(i=>(console.log(i),t.actores=i,i))})()}select(t){this.actorEnviar=t,console.log("select"),this.setActor()}setActor(){this.EnviarActor.emit(this.actorEnviar),console.log("set")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(px))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-actor-listado"]],outputs:{EnviarActor:"EnviarActor"},decls:3,vars:1,consts:[["id","right-col"],["id","inner-right"],[4,"ngFor","ngForOf"],[2,"padding","5px",3,"click"],[1,"mb-3"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,OY,4,1,"div",2),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.actores))},dependencies:[ar],styles:["#left-col[_ngcontent-%COMP%], #right-col[_ngcontent-%COMP%]{width:320px;height:100%;max-height:100%;margin-right:20px;overflow:hidden}#inner-right[_ngcontent-%COMP%]{height:300px;max-height:300px;overflow-y:scroll;background:ivory}"]}),n})(),PY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-bienvenido"]],decls:0,vars:0,template:function(t,r){}}),n})();function kY(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1)(1,"div",2),l._UZ(2,"img",5),l.qZA(),l.TgZ(3,"div",2),l._uU(4),l.qZA(),l.TgZ(5,"div",2),l._uU(6),l.qZA(),l.TgZ(7,"div",2),l._uU(8),l.qZA(),l.TgZ(9,"div",2),l._uU(10),l.qZA(),l.TgZ(11,"div",2)(12,"button",6),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return l.KtG(c.enviarObjeto(o))}),l._uU(13,"Seleccionar"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.foto,l.LSH),l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.tipo),l.xp6(2),l.Oqu(t.fechaDeEstreno),l.xp6(2),l.Oqu(t.cantidadDePublico)}}let D$=(()=>{class n{constructor(t,r){this.db=t,this.aFirestore=r,this.EviarADetalle=new l.vpe,this.traerPeli()}enviarObjeto(t){this.EviarADetalle.emit(t)}traerPeli(){var t=this;return(0,X.Z)(function*(){t.aFirestore.collection("peliculas").valueChanges().subscribe(i=>{console.log(i),t.peliculas=i})})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(J_),l.Y36(px))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-tabla-pelicula"]],outputs:{EviarADetalle:"EviarADetalle"},decls:16,vars:1,consts:[[1,"container"],[1,"row","row-cols-6"],[1,"col"],[1,"mb-3"],["class","row row-cols-6",4,"ngFor","ngForOf"],[2,"height","100px",3,"src"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._uU(3,"Foto"),l.qZA(),l.TgZ(4,"div",2),l._uU(5,"Nombre"),l.qZA(),l.TgZ(6,"div",2),l._uU(7,"Tipo"),l.qZA(),l.TgZ(8,"div",2),l._uU(9,"Fecha de estreno"),l.qZA(),l.TgZ(10,"div",2),l._uU(11,"Cantidad de publico"),l.qZA(),l.TgZ(12,"div",2),l._uU(13,"Seleccionar"),l.qZA()(),l._UZ(14,"hr",3),l.YNc(15,kY,14,5,"div",4),l.qZA()),2&t&&(l.xp6(15),l.Q6J("ngForOf",r.peliculas))},dependencies:[ar]}),n})(),FY=(()=>{class n{constructor(t){this.db=t}guardar(){this.db.updatePelicula(this.peliculaDet)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(J_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-detalle-pelicula"]],inputs:{peliculaDet:"peliculaDet"},decls:19,vars:5,consts:[[1,"form-group"],["name","nombre","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","tipo","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","fecha","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","publico","type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","foto","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"form")(1,"div",0)(2,"label"),l._uU(3,"Nombre"),l.qZA(),l.TgZ(4,"input",1),l.NdJ("ngModelChange",function(o){return r.peliculaDet.nombre=o}),l.qZA(),l.TgZ(5,"label"),l._uU(6,"Tipo"),l.qZA(),l.TgZ(7,"input",2),l.NdJ("ngModelChange",function(o){return r.peliculaDet.tipo=o}),l.qZA(),l.TgZ(8,"label"),l._uU(9,"Fecha de estreno"),l.qZA(),l.TgZ(10,"input",3),l.NdJ("ngModelChange",function(o){return r.peliculaDet.fechaDeEstreno=o}),l.qZA(),l.TgZ(11,"label"),l._uU(12,"Cantidad de publico"),l.qZA(),l.TgZ(13,"input",4),l.NdJ("ngModelChange",function(o){return r.peliculaDet.cantidadDePublico=o}),l.qZA(),l.TgZ(14,"label"),l._uU(15,"Foto"),l.qZA(),l.TgZ(16,"input",5),l.NdJ("ngModelChange",function(o){return r.peliculaDet.foto=o}),l.qZA(),l.TgZ(17,"button",6),l.NdJ("click",function(){return r.guardar()}),l._uU(18,"Guardar"),l.qZA()()()),2&t&&(l.xp6(4),l.Q6J("ngModel",r.peliculaDet.nombre),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.tipo),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.fechaDeEstreno),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.cantidadDePublico),l.xp6(3),l.Q6J("ngModel",r.peliculaDet.foto))},dependencies:[Uu,Go,Mu,Cl,zy,nd]}),n})(),C$=(()=>{class n{constructor(){this.peliculaMostrar=[]}pasarDetalle(t){this.peliculaMostrar=t,console.log(this.peliculaMostrar)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-busqueda"]],decls:30,vars:1,consts:[["role","main"],[1,"jumbotron"],[1,"container"],[3,"EviarADetalle"],[1,"row"],[1,"col-md-4"],["href","#","role","button",1,"btn","btn-secondary"],[3,"peliculaDet"]],template:function(t,r){1&t&&(l.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"app-tabla-pelicula",3),l.NdJ("EviarADetalle",function(o){return r.pasarDetalle(o)}),l.qZA()()(),l.TgZ(4,"div",2)(5,"div",4)(6,"div",5)(7,"h2"),l._uU(8,"Heading"),l.qZA(),l.TgZ(9,"p"),l._uU(10,"Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "),l.qZA(),l.TgZ(11,"p")(12,"a",6),l._uU(13,"View details \xbb"),l.qZA()()(),l.TgZ(14,"div",5)(15,"h2"),l._uU(16,"Detalle"),l.qZA(),l._UZ(17,"app-detalle-pelicula",7),l.qZA(),l.TgZ(18,"div",5)(19,"h2"),l._uU(20,"Heading"),l.qZA(),l.TgZ(21,"p"),l._uU(22,"Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus."),l.qZA(),l.TgZ(23,"p")(24,"a",6),l._uU(25,"View details \xbb"),l.qZA()()()(),l._UZ(26,"hr"),l.qZA()(),l.TgZ(27,"footer",2)(28,"p"),l._uU(29,"\xa9 Company 2017-2020"),l.qZA()()),2&t&&(l.xp6(17),l.Q6J("peliculaDet",r.peliculaMostrar))},dependencies:[D$,FY],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),n})();function LY(n,e){1&n&&(l.TgZ(0,"div",30)(1,"div",31),l._UZ(2,"span",32),l.qZA()())}function BY(n,e){1&n&&(l.TgZ(0,"small",33),l._uU(1," El nombre es requerido"),l._UZ(2,"br"),l.qZA())}function UY(n,e){1&n&&(l.TgZ(0,"small",33),l._uU(1," El tipo es requerido"),l._UZ(2,"br"),l.qZA())}function VY(n,e){1&n&&(l.TgZ(0,"small",33),l._uU(1," El publico es requerido"),l._UZ(2,"br"),l.qZA())}function $Y(n,e){1&n&&(l.TgZ(0,"small",33),l._uU(1," El actor es requerido"),l._UZ(2,"br"),l.qZA())}let jY=(()=>{class n{constructor(t,r,i,o,c){this.http=t,this.fbd=r,this.fb=i,this.calendar=o,this.storage=c,this.newimage="",this.showbar=!1,console.log(r.traerActores()),this.forma=this.fb.group({nombre:["",Rn.required],tipo:["",Rn.required],fecha:["",[Rn.required]],actor:new Al({value:"",disabled:!0},[Rn.required]),publico:["",Rn.required]}),console.log(this.forma),this.peli=new HY}guardar(){var t=this;return(0,X.Z)(function*(){t.showbar=!0,t.peli.nombre=t.peliculaNombre,t.peli.tipo=t.peliculaTipo,t.peli.fecha=t.getfecha(),t.peli.actor=t.actorPasado,t.peli.publico=t.peliculaPublico,console.log(t.peli),(yield t.fbd.guardarPelicula(t.peli))?f1().fire({title:"\xc9xito!",text:"La pelcula ha sido guardado con \xe9xito",icon:"success",confirmButtonText:"OK!"}):f1().fire({title:"Error!",text:"Ocurri\xf3 un error al guardar la pelicula",icon:"error",confirmButtonText:"OK!"}),console.log(t.peli),t.showbar=!1})()}pasarActor(t){this.actorPasado=t,this.actornombre=this.actorPasado.nombre+" "+this.actorPasado.apellido,this.forma.value.actor=this.actornombre}updateDate(){this.peliculaFecha=this.model.day+"/"+this.model.month+"/"+this.model.year,this.forma.value.fecha=this.peliculaFecha}getfecha(){return this.peliculaFecha=this.model.day+"/"+this.model.month+"/"+this.model.year,this.peliculaFecha}onFileSelected(t){if(t.target.files&&t.target.files[0]){const i=new FileReader;i.onload=o=>{this.newimage=o.target.result},i.readAsDataURL(t.target.files[0])}this.peli.foto=t.target.files[0]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vf),l.Y36(J_),l.Y36(z1),l.Y36(a1),l.Y36(Ax))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pelicula-alta"]],decls:57,vars:13,consts:[[1,"container"],["class","d-flex justify-content-center",4,"ngIf"],[1,"row"],[1,"col-md-4","order-md-2","mb-4"],[1,"mb-3"],[3,"EnviarActor"],[1,"col-md-8","order-md-1"],[1,"needs-validation",3,"formGroup","ngSubmit"],[1,"col-md-6","mb-3"],["for","nombre"],["type","text","placeholder","","formControlName","nombre",1,"form-control",3,"ngModel","ngModelChange"],["nombre",""],["class","invalid",4,"ngIf"],["for","tipo"],["type","text","placeholder","","formControlName","tipo",1,"form-control",3,"ngModel","ngModelChange"],["tipo",""],["for","publico"],["type","number","placeholder","","formControlName","publico",1,"form-control",3,"ngModel","ngModelChange"],["publico",""],["for","actor"],["type","text","placeholder","Seleccione un actor de la lista ->","formControlName","actor",1,"form-control",3,"ngModel","ngModelChange"],["pais",""],["for","fecha"],["formControlName","fecha",3,"ngModel","ngModelChange","navigate","click"],["dp",""],[1,"form-group","col-12"],["type","file","id","file","name","image","autocomplete","off","accept","image/*",1,"btn","btn-primary","btn-lg","btn-block",3,"change"],["userPhoto",""],[2,"height","200px",3,"src"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],["id","loading",1,"sr-only"],[1,"invalid"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,LY,3,0,"div",1),l._UZ(2,"br")(3,"br"),l.TgZ(4,"div",2)(5,"div",3)(6,"h4",4),l._uU(7,"Actores"),l.qZA(),l.TgZ(8,"app-actor-listado",5),l.NdJ("EnviarActor",function(o){return r.pasarActor(o)}),l.qZA()(),l.TgZ(9,"div",6)(10,"h4",4),l._uU(11,"Subir una pelicula"),l.qZA(),l.TgZ(12,"form",7),l.NdJ("ngSubmit",function(){return r.guardar()}),l.TgZ(13,"div",2)(14,"div",8)(15,"label",9),l._uU(16,"Nombre"),l.qZA(),l.TgZ(17,"input",10,11),l.NdJ("ngModelChange",function(o){return r.peliculaNombre=o}),l.qZA(),l.YNc(19,BY,3,0,"small",12),l.qZA(),l.TgZ(20,"div",8)(21,"label",13),l._uU(22,"Tipo"),l.qZA(),l.TgZ(23,"input",14,15),l.NdJ("ngModelChange",function(o){return r.peliculaTipo=o}),l.qZA(),l.YNc(25,UY,3,0,"small",12),l.qZA()(),l.TgZ(26,"div",2)(27,"div",8)(28,"label",16),l._uU(29,"Publico"),l.qZA(),l.TgZ(30,"input",17,18),l.NdJ("ngModelChange",function(o){return r.peliculaPublico=o}),l.qZA(),l.YNc(32,VY,3,0,"small",12),l.qZA(),l.TgZ(33,"div",8)(34,"label",19),l._uU(35,"Actor"),l.qZA(),l.TgZ(36,"input",20,21),l.NdJ("ngModelChange",function(o){return r.actornombre=o}),l.qZA(),l.YNc(38,$Y,3,0,"small",12),l.qZA()(),l.TgZ(39,"div",2)(40,"div",8)(41,"label",22),l._uU(42,"Fecha de salida"),l.qZA(),l._UZ(43,"br"),l.TgZ(44,"ngb-datepicker",23,24),l.NdJ("ngModelChange",function(o){return r.model=o})("navigate",function(o){return r.date=o.next})("click",function(){return r.updateDate()}),l.qZA()(),l.TgZ(46,"div",8)(47,"label",22),l._uU(48,"Foto"),l.qZA(),l._UZ(49,"br"),l.TgZ(50,"div",25)(51,"input",26,27),l.NdJ("change",function(o){return r.onFileSelected(o)}),l.qZA()(),l._UZ(53,"img",28),l.qZA()(),l._UZ(54,"hr",4),l.TgZ(55,"button",29),l._uU(56," Subir "),l.qZA()()()()()),2&t&&(l.xp6(1),l.Q6J("ngIf",r.showbar),l.xp6(11),l.Q6J("formGroup",r.forma),l.xp6(5),l.Q6J("ngModel",r.peliculaNombre),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),l.xp6(4),l.Q6J("ngModel",r.peliculaTipo),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.tipo.errors?null:r.forma.controls.tipo.errors.required)&&r.forma.controls.tipo.touched),l.xp6(5),l.Q6J("ngModel",r.peliculaPublico),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.publico.errors?null:r.forma.controls.publico.errors.required)&&r.forma.controls.publico.touched),l.xp6(4),l.Q6J("ngModel",r.actornombre),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.actor.errors?null:r.forma.controls.actor.errors.required)&&r.forma.controls.actor.touched),l.xp6(6),l.Q6J("ngModel",r.model),l.xp6(9),l.Q6J("src",r.newimage,l.LSH),l.xp6(2),l.Q6J("disabled",r.forma.invalid||!r.forma.controls.fecha.value||!r.peli.foto||!r.actorPasado))},dependencies:[er,l1,Uu,Go,sd,Mu,Cl,ms,Mg,w$],styles:[".invalid[_ngcontent-%COMP%]{color:red}"]}),n})();class HY{}let GY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pelicula-listado"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-tabla-pelicula")},dependencies:[D$]}),n})();function zY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," El nombre es requerido "),l.qZA())}function qY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," No puede contener espacios "),l.qZA())}function WY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," El apellido es requerido "),l.qZA())}function ZY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," La edad es requerida "),l.qZA())}function YY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," Debe ser mayor de 18 a\xf1os "),l.qZA())}function KY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," No puede ser mayor de 99 a\xf1os "),l.qZA())}function JY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," El sexo es requerido "),l.qZA())}function QY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," El email es requerido "),l.qZA())}function XY(n,e){1&n&&(l.TgZ(0,"small",25),l._uU(1," El email no es valido "),l.qZA())}const eK=[{path:"actor/alta",component:xY},{path:"actor/listado",component:w$},{path:"bienvenido",component:PY},{path:"busqueda",component:C$},{path:"pelicula/alta",component:jY},{path:"actor/listado",component:GY},{path:"login",component:(()=>{class n{constructor(t,r){this.fb=t,this.fdb=r,this.forma=this.fb.group({nombre:["",[Rn.required,this.spacesValidator]],apellido:["",Rn.required],edad:["",[Rn.required,Rn.min(18),Rn.max(99)]],sexo:["",Rn.required],email:["",[Rn.required,Rn.email]],terminos:["",Rn.required]}),this.fdb.traerUsuarios()}registrar(){this.fdb.guardarUsuario(this.forma.value),this.forma=this.fb.group({nombre:["",[Rn.required,this.spacesValidator]],apellido:["",Rn.required],edad:["",[Rn.required,Rn.min(18),Rn.max(99)]],sexo:["",Rn.required],email:["",[Rn.required,Rn.email]],terminos:["",Rn.required]}),f1().fire({title:"\xc9xito!",text:"El usuario se guardad\xf3 con \xe9xito",icon:"success",confirmButtonText:"OK!"})}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(z1),l.Y36(J_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:51,vars:11,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12","mb-5"],[1,"row","formulario"],[1,"col-md-6","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Ingrese nombre","formControlName","nombre",1,"form-control"],["class","invalid",4,"ngIf"],["for","apellido",1,"form-label"],["type","text","id","apellido","placeholder","Ingrese apellido","formControlName","apellido",1,"form-control"],["for","dni",1,"form-label"],["type","number","id","edad","placeholder","Ingrese edad","formControlName","edad",1,"form-control"],["for","sexo",1,"form-label"],["id","sexo","formControlName","sexo",1,"form-select"],["value",""],["value","F"],["value","M"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Ingrese email","formControlName","email",1,"form-control"],[1,"form-check"],["type","checkbox","id","terminos","formControlName","terminos",1,"form-check-input"],["for","recordar","for","terminos",1,"form-check-label"],[1,"col-md-12","d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"invalid"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"form",1),l.NdJ("ngSubmit",function(){return r.registrar()}),l.TgZ(2,"div",2)(3,"div",3)(4,"h2"),l._uU(5,"Angular Forms"),l.qZA()()(),l.TgZ(6,"div",4)(7,"div",5)(8,"label",6),l._uU(9,"Nombre"),l.qZA(),l._UZ(10,"input",7),l.YNc(11,zY,2,0,"small",8),l.YNc(12,qY,2,0,"small",8),l.qZA(),l.TgZ(13,"div",5)(14,"label",9),l._uU(15,"Apellido"),l.qZA(),l._UZ(16,"input",10),l.YNc(17,WY,2,0,"small",8),l.qZA(),l.TgZ(18,"div",5)(19,"label",11),l._uU(20,"Edad"),l.qZA(),l._UZ(21,"input",12),l.YNc(22,ZY,2,0,"small",8),l.YNc(23,YY,2,0,"small",8),l.YNc(24,KY,2,0,"small",8),l.qZA(),l.TgZ(25,"div",5)(26,"label",13),l._uU(27,"Sexo"),l.qZA(),l.TgZ(28,"select",14)(29,"option",15),l._uU(30,"Seleccione uno"),l.qZA(),l.TgZ(31,"option",16),l._uU(32,"Femenino"),l.qZA(),l.TgZ(33,"option",17),l._uU(34,"Masculino"),l.qZA()(),l.YNc(35,JY,2,0,"small",8),l.qZA(),l.TgZ(36,"div",3)(37,"label",18),l._uU(38,"Email"),l.qZA(),l._UZ(39,"input",19),l.YNc(40,QY,2,0,"small",8),l.YNc(41,XY,2,0,"small",8),l.qZA()(),l.TgZ(42,"div",2)(43,"div",3)(44,"div",20),l._UZ(45,"input",21),l.TgZ(46,"label",22),l._uU(47," Aceptar t\xe9rminos y condiciones "),l.qZA()()(),l.TgZ(48,"div",23)(49,"button",24),l._uU(50," Aceptar "),l.qZA()()()()()),2&t&&(l.xp6(1),l.Q6J("formGroup",r.forma),l.xp6(10),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.containsSpaces)&&r.forma.controls.nombre.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),l.xp6(11),l.Q6J("ngIf",(null==r.forma.controls.sexo.errors?null:r.forma.controls.sexo.errors.required)&&r.forma.controls.sexo.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.email)&&r.forma.controls.email.touched),l.xp6(8),l.Q6J("disabled",r.forma.invalid||!r.forma.controls.terminos.value))},dependencies:[er,Uu,F1,Jy,Go,sd,Du,Ng,Mu,Cl,ms,Mg],styles:[".container[_ngcontent-%COMP%]{max-width:600px;padding:60px;box-shadow:1px 1px 31px -5px #000000bf}.invalid[_ngcontent-%COMP%]{color:red}.formulario[_ngcontent-%COMP%]   div[class^=col-md-][_ngcontent-%COMP%]{height:90px}"]}),n})()},{path:"**",component:C$}];let tK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BU.forRoot(eK),Rh,BU]}),n})();const I$={firebase:{projectId:"lab42023",appId:"1:34310798645:web:7187542d929aca27da607c",databaseURL:"https://lab42023-default-rtdb.firebaseio.com",storageBucket:"lab42023.appspot.com",apiKey:"AIzaSyCHx-HLgU02Azfj05Zk_cynv3a8nbr_UvQ",authDomain:"lab42023.firebaseapp.com",messagingSenderId:"34310798645",measurementId:"G-949VR2SLEN"}};var nK=$(8502);class RO{constructor(e){return e}}class T${constructor(){return V0("auth")}}const xO=new l.OlP("angularfire2.auth-instances");function iK(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new RO(r)}}const sK={provide:T$,deps:[[new l.FiY,xO]]},oK={provide:RO,useFactory:function rK(n,e){const t=U0("auth",n,e);return t&&new RO(t)},deps:[[new l.FiY,xO],z_]};let aK=(()=>{class n{constructor(){(0,ln.registerVersion)("angularfire",Lf.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[oK,sK]}),n})();function lK(n,...e){return{ngModule:aK,providers:[{provide:xO,useFactory:iK(n),multi:!0,deps:[l.R0b,l.zs3,Qu,HR,[new l.FiY,W_],...e]}]}}const uK=Pm(nK.o,!0);class OO{constructor(e){return e}}const A$="firestore",PO=new l.OlP("angularfire2.firestore-instances");function hK(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new OO(r)}}const fK={provide:class cK{constructor(){return V0(A$)}},deps:[[new l.FiY,PO]]},pK={provide:OO,useFactory:function dK(n,e){const t=U0(A$,n,e);return t&&new OO(t)},deps:[[new l.FiY,PO],z_]};let gK=(()=>{class n{constructor(){(0,ln.registerVersion)("angularfire",Lf.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pK,fK]}),n})();function mK(n,...e){return{ngModule:gK,providers:[{provide:PO,useFactory:hK(n),multi:!0,deps:[l.R0b,l.zs3,Qu,HR,[new l.FiY,T$],[new l.FiY,W_],...e]}]}}const _K=Pm(LH,!0);let yK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[EY]}),n.\u0275inj=l.cJS({providers:[{provide:Ni.Dh,useValue:I$.firebase}],imports:[gl,tK,IY,W1,t4(()=>n4(I$.firebase)),lK(()=>uK()),mK(()=>_K()),lo,Z1,z5]}),n})();Cy().bootstrapModule(yK).catch(n=>console.error(n))},9751:(At,de,$)=>{"use strict";$.d(de,{y:()=>Se});var l=$(930),R=$(727),U=$(8822),fe=$(9635),Te=$(2416),ve=$(576),ke=$(2806);let Se=(()=>{class ee{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const it=new ee;return it.source=this,it.operator=Le,it}subscribe(Le,it,tt){const ue=function z(ee){return ee&&ee instanceof l.Lv||function W(ee){return ee&&(0,ve.m)(ee.next)&&(0,ve.m)(ee.error)&&(0,ve.m)(ee.complete)}(ee)&&(0,R.Nn)(ee)}(Le)?Le:new l.Hp(Le,it,tt);return(0,ke.x)(()=>{const{operator:Me,source:me}=this;ue.add(Me?Me.call(ue,me):me?this._subscribe(ue):this._trySubscribe(ue))}),ue}_trySubscribe(Le){try{return this._subscribe(Le)}catch(it){Le.error(it)}}forEach(Le,it){return new(it=He(it))((tt,ue)=>{const Me=new l.Hp({next:me=>{try{Le(me)}catch(Ge){ue(Ge),Me.unsubscribe()}},error:ue,complete:tt});this.subscribe(Me)})}_subscribe(Le){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Le)}[U.L](){return this}pipe(...Le){return(0,fe.U)(Le)(this)}toPromise(Le){return new(Le=He(Le))((it,tt)=>{let ue;this.subscribe(Me=>ue=Me,Me=>tt(Me),()=>it(ue))})}}return ee.create=Ye=>new ee(Ye),ee})();function He(ee){var Ye;return null!==(Ye=ee??Te.v.Promise)&&void 0!==Ye?Ye:Promise}},7579:(At,de,$)=>{"use strict";$.d(de,{x:()=>ke});var l=$(9751),R=$(727);const fe=(0,$(3888).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=$(8737),ve=$(2806);let ke=(()=>{class He extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ee=new Se(this,this);return ee.operator=z,ee}_throwIfClosed(){if(this.closed)throw new fe}next(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(z)}})}error(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(z)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ee,isStopped:Ye,observers:Le}=this;return ee||Ye?R.Lc:(this.currentObservers=null,Le.push(z),new R.w0(()=>{this.currentObservers=null,(0,Te.P)(Le,z)}))}_checkFinalizedStatuses(z){const{hasError:ee,thrownError:Ye,isStopped:Le}=this;ee?z.error(Ye):Le&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return He.create=(W,z)=>new Se(W,z),He})();class Se extends ke{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ee||ee.call(z,W)}error(W){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ee||ee.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,ee;return null!==(ee=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==ee?ee:R.Lc}}},930:(At,de,$)=>{"use strict";$.d(de,{Hp:()=>tt,Lv:()=>ee});var l=$(576),R=$(727),U=$(2416),fe=$(7849),Te=$(5032);const ve=He("C",void 0,void 0);function He(Re,De,Ne){return{kind:Re,value:De,error:Ne}}var W=$(3410),z=$(2806);class ee extends R.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,R.Nn)(De)&&De.add(this)):this.destination=Ge}static create(De,Ne,Ke){return new tt(De,Ne,Ke)}next(De){this.isStopped?me(function Se(Re){return He("N",Re,void 0)}(De),this):this._next(De)}error(De){this.isStopped?me(function ke(Re){return He("E",void 0,Re)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?me(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Le(Re,De){return Ye.call(Re,De)}class it{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(De)}catch(Ke){ue(Ke)}}error(De){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(De)}catch(Ke){ue(Ke)}else ue(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Ne){ue(Ne)}}}class tt extends ee{constructor(De,Ne,Ke){let $e;if(super(),(0,l.m)(De)||!De)$e={next:De??void 0,error:Ne??void 0,complete:Ke??void 0};else{let le;this&&U.v.useDeprecatedNextContext?(le=Object.create(De),le.unsubscribe=()=>this.unsubscribe(),$e={next:De.next&&Le(De.next,le),error:De.error&&Le(De.error,le),complete:De.complete&&Le(De.complete,le)}):$e=De}this.destination=new it($e)}}function ue(Re){U.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,fe.h)(Re)}function me(Re,De){const{onStoppedNotification:Ne}=U.v;Ne&&W.z.setTimeout(()=>Ne(Re,De))}const Ge={closed:!0,next:Te.Z,error:function Me(Re){throw Re},complete:Te.Z}},727:(At,de,$)=>{"use strict";$.d(de,{Lc:()=>ve,w0:()=>Te,Nn:()=>ke});var l=$(576);const U=(0,$(3888).d)(He=>function(z){He(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ee,Ye)=>`${Ye+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var fe=$(8737);class Te{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Le of z)Le.remove(this);else z.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Le){W=Le instanceof U?Le.errors:[Le]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Le of Ye)try{Se(Le)}catch(it){W=W??[],it instanceof U?W=[...W,...it.errors]:W.push(it)}}if(W)throw new U(W)}}add(W){var z;if(W&&W!==this)if(this.closed)Se(W);else{if(W instanceof Te){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,fe.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,fe.P)(z,W),W instanceof Te&&W._removeParent(this)}}Te.EMPTY=(()=>{const He=new Te;return He.closed=!0,He})();const ve=Te.EMPTY;function ke(He){return He instanceof Te||He&&"closed"in He&&(0,l.m)(He.remove)&&(0,l.m)(He.add)&&(0,l.m)(He.unsubscribe)}function Se(He){(0,l.m)(He)?He():He.unsubscribe()}},2416:(At,de,$)=>{"use strict";$.d(de,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(At,de,$)=>{"use strict";$.d(de,{E:()=>R});const R=new($(9751).y)(Te=>Te.complete())},8996:(At,de,$)=>{"use strict";$.d(de,{D:()=>De});var l=$(8421),R=$(5363),U=$(9468),ve=$(9751),Se=$(2202),He=$(576),W=$(9672);function ee(Ne,Ke){if(!Ne)throw new Error("Iterable cannot be null");return new ve.y($e=>{(0,W.f)($e,Ke,()=>{const le=Ne[Symbol.asyncIterator]();(0,W.f)($e,Ke,()=>{le.next().then(nt=>{nt.done?$e.complete():$e.next(nt.value)})},0,!0)})})}var Ye=$(3670),Le=$(8239),it=$(1144),tt=$(6495),ue=$(2206),Me=$(4532),me=$(3260);function De(Ne,Ke){return Ke?function Re(Ne,Ke){if(null!=Ne){if((0,Ye.c)(Ne))return function fe(Ne,Ke){return(0,l.Xf)(Ne).pipe((0,U.R)(Ke),(0,R.Q)(Ke))}(Ne,Ke);if((0,it.z)(Ne))return function ke(Ne,Ke){return new ve.y($e=>{let le=0;return Ke.schedule(function(){le===Ne.length?$e.complete():($e.next(Ne[le++]),$e.closed||this.schedule())})})}(Ne,Ke);if((0,Le.t)(Ne))return function Te(Ne,Ke){return(0,l.Xf)(Ne).pipe((0,U.R)(Ke),(0,R.Q)(Ke))}(Ne,Ke);if((0,ue.D)(Ne))return ee(Ne,Ke);if((0,tt.T)(Ne))return function z(Ne,Ke){return new ve.y($e=>{let le;return(0,W.f)($e,Ke,()=>{le=Ne[Se.h](),(0,W.f)($e,Ke,()=>{let nt,vt;try{({value:nt,done:vt}=le.next())}catch(et){return void $e.error(et)}vt?$e.complete():$e.next(nt)},0,!0)}),()=>(0,He.m)(le?.return)&&le.return()})}(Ne,Ke);if((0,me.L)(Ne))return function Ge(Ne,Ke){return ee((0,me.Q)(Ne),Ke)}(Ne,Ke)}throw(0,Me.z)(Ne)}(Ne,Ke):(0,l.Xf)(Ne)}},8421:(At,de,$)=>{"use strict";$.d(de,{Xf:()=>Ye});var l=$(655),R=$(1144),U=$(8239),fe=$(9751),Te=$(3670),ve=$(2206),ke=$(4532),Se=$(6495),He=$(3260),W=$(576),z=$(7849),ee=$(8822);function Ye(Re){if(Re instanceof fe.y)return Re;if(null!=Re){if((0,Te.c)(Re))return function Le(Re){return new fe.y(De=>{const Ne=Re[ee.L]();if((0,W.m)(Ne.subscribe))return Ne.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,R.z)(Re))return function it(Re){return new fe.y(De=>{for(let Ne=0;Ne<Re.length&&!De.closed;Ne++)De.next(Re[Ne]);De.complete()})}(Re);if((0,U.t)(Re))return function tt(Re){return new fe.y(De=>{Re.then(Ne=>{De.closed||(De.next(Ne),De.complete())},Ne=>De.error(Ne)).then(null,z.h)})}(Re);if((0,ve.D)(Re))return Me(Re);if((0,Se.T)(Re))return function ue(Re){return new fe.y(De=>{for(const Ne of Re)if(De.next(Ne),De.closed)return;De.complete()})}(Re);if((0,He.L)(Re))return function me(Re){return Me((0,He.Q)(Re))}(Re)}throw(0,ke.z)(Re)}function Me(Re){return new fe.y(De=>{(function Ge(Re,De){var Ne,Ke,$e,le;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,l.KL)(Re);!(Ke=yield Ne.next()).done;)if(De.next(Ke.value),De.closed)return}catch(nt){$e={error:nt}}finally{try{Ke&&!Ke.done&&(le=Ne.return)&&(yield le.call(Ne))}finally{if($e)throw $e.error}}De.complete()})})(Re,De).catch(Ne=>De.error(Ne))})}},6451:(At,de,$)=>{"use strict";$.d(de,{T:()=>ve});var l=$(8189),R=$(8421),U=$(515),fe=$(3269),Te=$(8996);function ve(...ke){const Se=(0,fe.yG)(ke),He=(0,fe._6)(ke,1/0),W=ke;return W.length?1===W.length?(0,R.Xf)(W[0]):(0,l.J)(He)((0,Te.D)(W,Se)):U.E}},5403:(At,de,$)=>{"use strict";$.d(de,{x:()=>R});var l=$(930);function R(fe,Te,ve,ke,Se){return new U(fe,Te,ve,ke,Se)}class U extends l.Lv{constructor(Te,ve,ke,Se,He,W){super(Te),this.onFinalize=He,this.shouldUnsubscribe=W,this._next=ve?function(z){try{ve(z)}catch(ee){Te.error(ee)}}:super._next,this._error=Se?function(z){try{Se(z)}catch(ee){Te.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ke?function(){try{ke()}catch(z){Te.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Te=this.onFinalize)||void 0===Te||Te.call(this))}}}},4004:(At,de,$)=>{"use strict";$.d(de,{U:()=>U});var l=$(4482),R=$(5403);function U(fe,Te){return(0,l.e)((ve,ke)=>{let Se=0;ve.subscribe((0,R.x)(ke,He=>{ke.next(fe.call(Te,He,Se++))}))})}},8189:(At,de,$)=>{"use strict";$.d(de,{J:()=>U});var l=$(5577),R=$(4671);function U(fe=1/0){return(0,l.z)(R.y,fe)}},5577:(At,de,$)=>{"use strict";$.d(de,{z:()=>Se});var l=$(4004),R=$(8421),U=$(4482),fe=$(9672),Te=$(5403),ke=$(576);function Se(He,W,z=1/0){return(0,ke.m)(W)?Se((ee,Ye)=>(0,l.U)((Le,it)=>W(ee,Le,Ye,it))((0,R.Xf)(He(ee,Ye))),z):("number"==typeof W&&(z=W),(0,U.e)((ee,Ye)=>function ve(He,W,z,ee,Ye,Le,it,tt){const ue=[];let Me=0,me=0,Ge=!1;const Re=()=>{Ge&&!ue.length&&!Me&&W.complete()},De=Ke=>Me<ee?Ne(Ke):ue.push(Ke),Ne=Ke=>{Le&&W.next(Ke),Me++;let $e=!1;(0,R.Xf)(z(Ke,me++)).subscribe((0,Te.x)(W,le=>{Ye?.(le),Le?De(le):W.next(le)},()=>{$e=!0},void 0,()=>{if($e)try{for(Me--;ue.length&&Me<ee;){const le=ue.shift();it?(0,fe.f)(W,it,()=>Ne(le)):Ne(le)}Re()}catch(le){W.error(le)}}))};return He.subscribe((0,Te.x)(W,De,()=>{Ge=!0,Re()})),()=>{tt?.()}}(ee,Ye,He,z)))}},5363:(At,de,$)=>{"use strict";$.d(de,{Q:()=>fe});var l=$(9672),R=$(4482),U=$(5403);function fe(Te,ve=0){return(0,R.e)((ke,Se)=>{ke.subscribe((0,U.x)(Se,He=>(0,l.f)(Se,Te,()=>Se.next(He),ve),()=>(0,l.f)(Se,Te,()=>Se.complete(),ve),He=>(0,l.f)(Se,Te,()=>Se.error(He),ve)))})}},3099:(At,de,$)=>{"use strict";$.d(de,{B:()=>Te});var l=$(8421),R=$(7579),U=$(930),fe=$(4482);function Te(ke={}){const{connector:Se=(()=>new R.x),resetOnError:He=!0,resetOnComplete:W=!0,resetOnRefCountZero:z=!0}=ke;return ee=>{let Ye,Le,it,tt=0,ue=!1,Me=!1;const me=()=>{Le?.unsubscribe(),Le=void 0},Ge=()=>{me(),Ye=it=void 0,ue=Me=!1},Re=()=>{const De=Ye;Ge(),De?.unsubscribe()};return(0,fe.e)((De,Ne)=>{tt++,!Me&&!ue&&me();const Ke=it=it??Se();Ne.add(()=>{tt--,0===tt&&!Me&&!ue&&(Le=ve(Re,z))}),Ke.subscribe(Ne),!Ye&&tt>0&&(Ye=new U.Hp({next:$e=>Ke.next($e),error:$e=>{Me=!0,me(),Le=ve(Ge,He,$e),Ke.error($e)},complete:()=>{ue=!0,me(),Le=ve(Ge,W),Ke.complete()}}),(0,l.Xf)(De).subscribe(Ye))})(ee)}}function ve(ke,Se,...He){if(!0===Se)return void ke();if(!1===Se)return;const W=new U.Hp({next:()=>{W.unsubscribe(),ke()}});return(0,l.Xf)(Se(...He)).subscribe(W)}},9468:(At,de,$)=>{"use strict";$.d(de,{R:()=>R});var l=$(4482);function R(U,fe=0){return(0,l.e)((Te,ve)=>{ve.add(U.schedule(()=>Te.subscribe(ve),fe))})}},3410:(At,de,$)=>{"use strict";$.d(de,{z:()=>l});const l={setTimeout(R,U,...fe){const{delegate:Te}=l;return Te?.setTimeout?Te.setTimeout(R,U,...fe):setTimeout(R,U,...fe)},clearTimeout(R){const{delegate:U}=l;return(U?.clearTimeout||clearTimeout)(R)},delegate:void 0}},2202:(At,de,$)=>{"use strict";$.d(de,{h:()=>R});const R=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(At,de,$)=>{"use strict";$.d(de,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(At,de,$)=>{"use strict";$.d(de,{_6:()=>ve,jO:()=>fe,yG:()=>Te});var l=$(576),R=$(3532);function U(ke){return ke[ke.length-1]}function fe(ke){return(0,l.m)(U(ke))?ke.pop():void 0}function Te(ke){return(0,R.K)(U(ke))?ke.pop():void 0}function ve(ke,Se){return"number"==typeof U(ke)?ke.pop():Se}},8737:(At,de,$)=>{"use strict";function l(R,U){if(R){const fe=R.indexOf(U);0<=fe&&R.splice(fe,1)}}$.d(de,{P:()=>l})},3888:(At,de,$)=>{"use strict";function l(R){const fe=R(Te=>{Error.call(Te),Te.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}$.d(de,{d:()=>l})},2806:(At,de,$)=>{"use strict";$.d(de,{O:()=>fe,x:()=>U});var l=$(2416);let R=null;function U(Te){if(l.v.useDeprecatedSynchronousErrorHandling){const ve=!R;if(ve&&(R={errorThrown:!1,error:null}),Te(),ve){const{errorThrown:ke,error:Se}=R;if(R=null,ke)throw Se}}else Te()}function fe(Te){l.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=Te)}},9672:(At,de,$)=>{"use strict";function l(R,U,fe,Te=0,ve=!1){const ke=U.schedule(function(){fe(),ve?R.add(this.schedule(null,Te)):this.unsubscribe()},Te);if(R.add(ke),!ve)return ke}$.d(de,{f:()=>l})},4671:(At,de,$)=>{"use strict";function l(R){return R}$.d(de,{y:()=>l})},1144:(At,de,$)=>{"use strict";$.d(de,{z:()=>l});const l=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(At,de,$)=>{"use strict";$.d(de,{D:()=>R});var l=$(576);function R(U){return Symbol.asyncIterator&&(0,l.m)(U?.[Symbol.asyncIterator])}},576:(At,de,$)=>{"use strict";function l(R){return"function"==typeof R}$.d(de,{m:()=>l})},3670:(At,de,$)=>{"use strict";$.d(de,{c:()=>U});var l=$(8822),R=$(576);function U(fe){return(0,R.m)(fe[l.L])}},6495:(At,de,$)=>{"use strict";$.d(de,{T:()=>U});var l=$(2202),R=$(576);function U(fe){return(0,R.m)(fe?.[l.h])}},8239:(At,de,$)=>{"use strict";$.d(de,{t:()=>R});var l=$(576);function R(U){return(0,l.m)(U?.then)}},3260:(At,de,$)=>{"use strict";$.d(de,{L:()=>fe,Q:()=>U});var l=$(655),R=$(576);function U(Te){return(0,l.FC)(this,arguments,function*(){const ke=Te.getReader();try{for(;;){const{value:Se,done:He}=yield(0,l.qq)(ke.read());if(He)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Se)}}finally{ke.releaseLock()}})}function fe(Te){return(0,R.m)(Te?.getReader)}},3532:(At,de,$)=>{"use strict";$.d(de,{K:()=>R});var l=$(576);function R(U){return U&&(0,l.m)(U.schedule)}},4482:(At,de,$)=>{"use strict";$.d(de,{A:()=>R,e:()=>U});var l=$(576);function R(fe){return(0,l.m)(fe?.lift)}function U(fe){return Te=>{if(R(Te))return Te.lift(function(ve){try{return fe(ve,this)}catch(ke){this.error(ke)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(At,de,$)=>{"use strict";function l(){}$.d(de,{Z:()=>l})},9635:(At,de,$)=>{"use strict";$.d(de,{U:()=>U,z:()=>R});var l=$(4671);function R(...fe){return U(fe)}function U(fe){return 0===fe.length?l.y:1===fe.length?fe[0]:function(ve){return fe.reduce((ke,Se)=>Se(ke),ve)}}},7849:(At,de,$)=>{"use strict";$.d(de,{h:()=>U});var l=$(2416),R=$(3410);function U(fe){R.z.setTimeout(()=>{const{onUnhandledError:Te}=l.v;if(!Te)throw fe;Te(fe)})}},4532:(At,de,$)=>{"use strict";function l(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(de,{z:()=>l})},5226:function(At){At.exports=function(){"use strict";var de={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const l=I=>{const E={};for(const N in I)E[I[N]]="swal2-"+I[N];return E},R=l(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),U=l(["success","warning","info","question","error"]),fe="SweetAlert2:",ve=I=>I.charAt(0).toUpperCase()+I.slice(1),ke=I=>{console.warn(`${fe} ${"object"==typeof I?I.join(" "):I}`)},Se=I=>{console.error(`${fe} ${I}`)},He=[],z=(I,E)=>{(I=>{He.includes(I)||(He.push(I),ke(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${E}" instead.`)},ee=I=>"function"==typeof I?I():I,Ye=I=>I&&"function"==typeof I.toPromise,Le=I=>Ye(I)?I.toPromise():Promise.resolve(I),it=I=>I&&Promise.resolve(I)===I,tt=()=>document.body.querySelector(`.${R.container}`),ue=I=>{const E=tt();return E?E.querySelector(I):null},Me=I=>ue(`.${I}`),me=()=>Me(R.popup),Ge=()=>Me(R.icon),De=()=>Me(R.title),Ne=()=>Me(R["html-container"]),Ke=()=>Me(R.image),$e=()=>Me(R["progress-steps"]),le=()=>Me(R["validation-message"]),nt=()=>ue(`.${R.actions} .${R.confirm}`),vt=()=>ue(`.${R.actions} .${R.cancel}`),et=()=>ue(`.${R.actions} .${R.deny}`),ht=()=>ue(`.${R.loader}`),ge=()=>Me(R.actions),_e=()=>Me(R.footer),Ee=()=>Me(R["timer-progress-bar"]),Ae=()=>Me(R.close),je=()=>{const I=Array.from(me().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((N,j)=>{const be=parseInt(N.getAttribute("tabindex")),St=parseInt(j.getAttribute("tabindex"));return be>St?1:be<St?-1:0}),E=Array.from(me().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(N=>"-1"!==N.getAttribute("tabindex"));return(I=>{const E=[];for(let N=0;N<I.length;N++)-1===E.indexOf(I[N])&&E.push(I[N]);return E})(I.concat(E)).filter(N=>Qe(N))},ft=()=>yt(document.body,R.shown)&&!yt(document.body,R["toast-shown"])&&!yt(document.body,R["no-backdrop"]),ze=()=>me()&&yt(me(),R.toast),bt={previousBodyPadding:null},kt=(I,E)=>{if(I.textContent="",E){const j=(new DOMParser).parseFromString(E,"text/html");Array.from(j.querySelector("head").childNodes).forEach(be=>{I.appendChild(be)}),Array.from(j.querySelector("body").childNodes).forEach(be=>{be instanceof HTMLVideoElement||be instanceof HTMLAudioElement?I.appendChild(be.cloneNode(!0)):I.appendChild(be)})}},yt=(I,E)=>{if(!E)return!1;const N=E.split(/\s+/);for(let j=0;j<N.length;j++)if(!I.classList.contains(N[j]))return!1;return!0},fn=(I,E,N)=>{if(((I,E)=>{Array.from(I.classList).forEach(N=>{!Object.values(R).includes(N)&&!Object.values(U).includes(N)&&!Object.values(E.showClass).includes(N)&&I.classList.remove(N)})})(I,E),E.customClass&&E.customClass[N]){if("string"!=typeof E.customClass[N]&&!E.customClass[N].forEach)return void ke(`Invalid type of customClass.${N}! Expected string or iterable object, got "${typeof E.customClass[N]}"`);Ot(I,E.customClass[N])}},xn=(I,E)=>{if(!E)return null;switch(E){case"select":case"textarea":case"file":return I.querySelector(`.${R.popup} > .${R[E]}`);case"checkbox":return I.querySelector(`.${R.popup} > .${R.checkbox} input`);case"radio":return I.querySelector(`.${R.popup} > .${R.radio} input:checked`)||I.querySelector(`.${R.popup} > .${R.radio} input:first-child`);case"range":return I.querySelector(`.${R.popup} > .${R.range} input`);default:return I.querySelector(`.${R.popup} > .${R.input}`)}},wr=I=>{if(I.focus(),"file"!==I.type){const E=I.value;I.value="",I.value=E}},Hn=(I,E,N)=>{!I||!E||("string"==typeof E&&(E=E.split(/\s+/).filter(Boolean)),E.forEach(j=>{Array.isArray(I)?I.forEach(be=>{N?be.classList.add(j):be.classList.remove(j)}):N?I.classList.add(j):I.classList.remove(j)}))},Ot=(I,E)=>{Hn(I,E,!0)},Bn=(I,E)=>{Hn(I,E,!1)},Gn=(I,E)=>{const N=Array.from(I.children);for(let j=0;j<N.length;j++){const be=N[j];if(be instanceof HTMLElement&&yt(be,E))return be}},re=(I,E,N)=>{N===`${parseInt(N)}`&&(N=parseInt(N)),N||0===parseInt(N)?I.style[E]="number"==typeof N?`${N}px`:N:I.style.removeProperty(E)},J=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},se=I=>{I.style.display="none"},ie=(I,E,N,j)=>{const be=I.querySelector(E);be&&(be.style[N]=j)},Be=function(I,E){E?J(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):se(I)},Qe=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),qt=I=>I.scrollHeight>I.clientHeight,Ht=I=>{const E=window.getComputedStyle(I),N=parseFloat(E.getPropertyValue("animation-duration")||"0"),j=parseFloat(E.getPropertyValue("transition-duration")||"0");return N>0||j>0},Rt=function(I){let E=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const N=Ee();Qe(N)&&(E&&(N.style.transition="none",N.style.width="100%"),setTimeout(()=>{N.style.transition=`width ${I/1e3}s linear`,N.style.width="0%"},10))},Xe={},Cn=I=>new Promise(E=>{if(!I)return E();const N=window.scrollX,j=window.scrollY;Xe.restoreFocusTimeout=setTimeout(()=>{Xe.previousActiveElement instanceof HTMLElement?(Xe.previousActiveElement.focus(),Xe.previousActiveElement=null):document.body&&document.body.focus(),E()},100),window.scrollTo(N,j)}),An=()=>typeof window>"u"||typeof document>"u",pn=`\n <div aria-labelledby="${R.title}" aria-describedby="${R["html-container"]}" class="${R.popup}" tabindex="-1">\n   <button type="button" class="${R.close}"></button>\n   <ul class="${R["progress-steps"]}"></ul>\n   <div class="${R.icon}"></div>\n   <img class="${R.image}" />\n   <h2 class="${R.title}" id="${R.title}"></h2>\n   <div class="${R["html-container"]}" id="${R["html-container"]}"></div>\n   <input class="${R.input}" />\n   <input type="file" class="${R.file}" />\n   <div class="${R.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${R.select}"></select>\n   <div class="${R.radio}"></div>\n   <label for="${R.checkbox}" class="${R.checkbox}">\n     <input type="checkbox" />\n     <span class="${R.label}"></span>\n   </label>\n   <textarea class="${R.textarea}"></textarea>\n   <div class="${R["validation-message"]}" id="${R["validation-message"]}"></div>\n   <div class="${R.actions}">\n     <div class="${R.loader}"></div>\n     <button type="button" class="${R.confirm}"></button>\n     <button type="button" class="${R.deny}"></button>\n     <button type="button" class="${R.cancel}"></button>\n   </div>\n   <div class="${R.footer}"></div>\n   <div class="${R["timer-progress-bar-container"]}">\n     <div class="${R["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),On=()=>{Xe.currentInstance.resetValidationMessage()},Kt=I=>{const E=(()=>{const I=tt();return!!I&&(I.remove(),Bn([document.documentElement,document.body],[R["no-backdrop"],R["toast-shown"],R["has-column"]]),!0)})();if(An())return void Se("SweetAlert2 requires document to initialize");const N=document.createElement("div");N.className=R.container,E&&Ot(N,R["no-transition"]),kt(N,pn);const j=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);j.appendChild(N),(I=>{const E=me();E.setAttribute("role",I.toast?"alert":"dialog"),E.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||E.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&Ot(tt(),R.rtl)})(j),(()=>{const I=me(),E=Gn(I,R.input),N=Gn(I,R.file),j=I.querySelector(`.${R.range} input`),be=I.querySelector(`.${R.range} output`),St=Gn(I,R.select),En=I.querySelector(`.${R.checkbox} input`),Br=Gn(I,R.textarea);E.oninput=On,N.onchange=On,St.onchange=On,En.onchange=On,Br.oninput=On,j.oninput=()=>{On(),be.value=j.value},j.onchange=()=>{On(),be.value=j.value}})()},Yn=(I,E)=>{I instanceof HTMLElement?E.appendChild(I):"object"==typeof I?Qn(I,E):I&&kt(E,I)},Qn=(I,E)=>{I.jquery?qr(E,I):kt(E,I.toString())},qr=(I,E)=>{if(I.textContent="",0 in E)for(let N=0;N in E;N++)I.appendChild(E[N].cloneNode(!0));else I.appendChild(E.cloneNode(!0))},Un=(()=>{if(An())return!1;const I=document.createElement("div"),E={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const N in E)if(Object.prototype.hasOwnProperty.call(E,N)&&typeof I.style[N]<"u")return E[N];return!1})(),Ci=(I,E)=>{const N=ge(),j=ht();E.showConfirmButton||E.showDenyButton||E.showCancelButton?J(N):se(N),fn(N,E,"actions"),function di(I,E,N){const j=nt(),be=et(),St=vt();H(j,"confirm",N),H(be,"deny",N),H(St,"cancel",N),function G(I,E,N,j){j.buttonsStyling?(Ot([I,E,N],R.styled),j.confirmButtonColor&&(I.style.backgroundColor=j.confirmButtonColor,Ot(I,R["default-outline"])),j.denyButtonColor&&(E.style.backgroundColor=j.denyButtonColor,Ot(E,R["default-outline"])),j.cancelButtonColor&&(N.style.backgroundColor=j.cancelButtonColor,Ot(N,R["default-outline"]))):Bn([I,E,N],R.styled)}(j,be,St,N),N.reverseButtons&&(N.toast?(I.insertBefore(St,j),I.insertBefore(be,j)):(I.insertBefore(St,E),I.insertBefore(be,E),I.insertBefore(j,E)))}(N,j,E),kt(j,E.loaderHtml),fn(j,E,"loader")};function H(I,E,N){Be(I,N[`show${ve(E)}Button`],"inline-block"),kt(I,N[`${E}ButtonText`]),I.setAttribute("aria-label",N[`${E}ButtonAriaLabel`]),I.className=R[E],fn(I,N,`${E}Button`),Ot(I,N[`${E}ButtonClass`])}const L=(I,E)=>{const N=tt();N&&(function x(I,E){"string"==typeof E?I.style.background=E:E||Ot([document.documentElement,document.body],R["no-backdrop"])}(N,E.backdrop),function Z(I,E){E in R?Ot(I,R[E]):(ke('The "position" parameter is not valid, defaulting to "center"'),Ot(I,R.center))}(N,E.position),function Ie(I,E){if(E&&"string"==typeof E){const N=`grow-${E}`;N in R&&Ot(I,R[N])}}(N,E.grow),fn(N,E,"container"))};const ut=["input","file","range","select","radio","checkbox","textarea"],xt=I=>{if(!ne[I.input])return void Se(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const E=Ms(I.input),N=ne[I.input](E,I);J(E),I.inputAutoFocus&&setTimeout(()=>{wr(N)})},Ft=(I,E)=>{const N=xn(me(),I);if(N){(I=>{for(let E=0;E<I.attributes.length;E++){const N=I.attributes[E].name;["type","value","style"].includes(N)||I.removeAttribute(N)}})(N);for(const j in E)N.setAttribute(j,E[j])}},Pn=I=>{const E=Ms(I.input);"object"==typeof I.customClass&&Ot(E,I.customClass.input)},jt=(I,E)=>{(!I.placeholder||E.inputPlaceholder)&&(I.placeholder=E.inputPlaceholder)},Xn=(I,E,N)=>{if(N.inputLabel){I.id=R.input;const j=document.createElement("label"),be=R["input-label"];j.setAttribute("for",I.id),j.className=be,"object"==typeof N.customClass&&Ot(j,N.customClass.inputLabel),j.innerText=N.inputLabel,E.insertAdjacentElement("beforebegin",j)}},Ms=I=>Gn(me(),R[I]||R.input),pe=(I,E)=>{["string","number"].includes(typeof E)?I.value=`${E}`:it(E)||ke(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof E}"`)},ne={};ne.text=ne.email=ne.password=ne.number=ne.tel=ne.url=(I,E)=>(pe(I,E.inputValue),Xn(I,I,E),jt(I,E),I.type=E.input,I),ne.file=(I,E)=>(Xn(I,I,E),jt(I,E),I),ne.range=(I,E)=>{const N=I.querySelector("input"),j=I.querySelector("output");return pe(N,E.inputValue),N.type=E.input,pe(j,E.inputValue),Xn(N,I,E),I},ne.select=(I,E)=>{if(I.textContent="",E.inputPlaceholder){const N=document.createElement("option");kt(N,E.inputPlaceholder),N.value="",N.disabled=!0,N.selected=!0,I.appendChild(N)}return Xn(I,I,E),I},ne.radio=I=>(I.textContent="",I),ne.checkbox=(I,E)=>{const N=xn(me(),"checkbox");N.value="1",N.id=R.checkbox,N.checked=Boolean(E.inputValue);const j=I.querySelector("span");return kt(j,E.inputPlaceholder),N},ne.textarea=(I,E)=>{pe(I,E.inputValue),jt(I,E),Xn(I,I,E);return setTimeout(()=>{if("MutationObserver"in window){const j=parseInt(window.getComputedStyle(me()).width);new MutationObserver(()=>{const St=I.offsetWidth+(j=>parseInt(window.getComputedStyle(j).marginLeft)+parseInt(window.getComputedStyle(j).marginRight))(I);me().style.width=St>j?`${St}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const Ve=(I,E)=>{const N=Ne();fn(N,E,"htmlContainer"),E.html?(Yn(E.html,N),J(N,"block")):E.text?(N.textContent=E.text,J(N,"block")):se(N),((I,E)=>{const N=me(),j=de.innerParams.get(I),be=!j||E.input!==j.input;ut.forEach(St=>{const En=Gn(N,R[St]);Ft(St,E.inputAttributes),En.className=R[St],be&&se(En)}),E.input&&(be&&xt(E),Pn(E))})(I,E)},nn=(I,E)=>{for(const N in U)E.icon!==N&&Bn(I,U[N]);Ot(I,U[E.icon]),gr(I,E),It(),fn(I,E,"icon")},It=()=>{const I=me(),E=window.getComputedStyle(I).getPropertyValue("background-color"),N=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let j=0;j<N.length;j++)N[j].style.backgroundColor=E},Dr=(I,E)=>{let j,N=I.innerHTML;E.iconHtml?j=eu(E.iconHtml):"success"===E.icon?(j='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',N=N.replace(/ style=".*?"/g,"")):j="error"===E.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':eu({question:"?",warning:"!",info:"i"}[E.icon]),N.trim()!==j.trim()&&kt(I,j)},gr=(I,E)=>{if(E.iconColor){I.style.color=E.iconColor,I.style.borderColor=E.iconColor;for(const N of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ie(I,N,"backgroundColor",E.iconColor);ie(I,".swal2-success-ring","borderColor",E.iconColor)}},eu=I=>`<div class="${R["icon-content"]}">${I}</div>`,mr=(I,E)=>{I.className=`${R.popup} ${Qe(I)?E.showClass.popup:""}`,E.toast?(Ot([document.documentElement,document.body],R["toast-shown"]),Ot(I,R.toast)):Ot(I,R.modal),fn(I,E,"popup"),"string"==typeof E.customClass&&Ot(I,E.customClass),E.icon&&Ot(I,R[`icon-${E.icon}`])},Qt=I=>{const E=document.createElement("li");return Ot(E,R["progress-step"]),kt(E,I),E},qn=I=>{const E=document.createElement("li");return Ot(E,R["progress-step-line"]),I.progressStepsDistance&&re(E,"width",I.progressStepsDistance),E},Qi=(I,E)=>{((I,E)=>{const N=tt(),j=me();E.toast?(re(N,"width",E.width),j.style.width="100%",j.insertBefore(ht(),Ge())):re(j,"width",E.width),re(j,"padding",E.padding),E.color&&(j.style.color=E.color),E.background&&(j.style.background=E.background),se(le()),mr(j,E)})(0,E),L(0,E),((I,E)=>{const N=$e();E.progressSteps&&0!==E.progressSteps.length?(J(N),N.textContent="",E.currentProgressStep>=E.progressSteps.length&&ke("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.progressSteps.forEach((j,be)=>{const St=Qt(j);if(N.appendChild(St),be===E.currentProgressStep&&Ot(St,R["active-progress-step"]),be!==E.progressSteps.length-1){const En=qn(E);N.appendChild(En)}})):se(N)})(0,E),((I,E)=>{const N=de.innerParams.get(I),j=Ge();N&&E.icon===N.icon?(Dr(j,E),nn(j,E)):E.icon||E.iconHtml?E.icon&&-1===Object.keys(U).indexOf(E.icon)?(Se(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${E.icon}"`),se(j)):(J(j),Dr(j,E),nn(j,E),Ot(j,E.showClass.icon)):se(j)})(I,E),((I,E)=>{const N=Ke();E.imageUrl?(J(N,""),N.setAttribute("src",E.imageUrl),N.setAttribute("alt",E.imageAlt),re(N,"width",E.imageWidth),re(N,"height",E.imageHeight),N.className=R.image,fn(N,E,"image")):se(N)})(0,E),((I,E)=>{const N=De();Be(N,E.title||E.titleText,"block"),E.title&&Yn(E.title,N),E.titleText&&(N.innerText=E.titleText),fn(N,E,"title")})(0,E),((I,E)=>{const N=Ae();kt(N,E.closeButtonHtml),fn(N,E,"closeButton"),Be(N,E.showCloseButton),N.setAttribute("aria-label",E.closeButtonAriaLabel)})(0,E),Ve(I,E),Ci(0,E),((I,E)=>{const N=_e();Be(N,E.footer),E.footer&&Yn(E.footer,N),fn(N,E,"footer")})(0,E),"function"==typeof E.didRender&&E.didRender(me())};function Cr(){const I=de.innerParams.get(this);if(!I)return;const E=de.domCache.get(this);se(E.loader),ze()?I.icon&&J(Ge()):ar(E),Bn([E.popup,E.actions],R.loading),E.popup.removeAttribute("aria-busy"),E.popup.removeAttribute("data-loading"),E.confirmButton.disabled=!1,E.denyButton.disabled=!1,E.cancelButton.disabled=!1}const ar=I=>{const E=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));E.length?J(E[0],"inline-block"):!Qe(nt())&&!Qe(et())&&!Qe(vt())&&se(I.actions)};const er=()=>nt()&&nt().click(),Ir=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Mo=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},lr=(I,E)=>{const N=je();if(N.length)return(I+=E)===N.length?I=0:-1===I&&(I=N.length-1),void N[I].focus();me().focus()},Ys=["ArrowRight","ArrowDown"],Ks=["ArrowLeft","ArrowUp"],Ii=(I,E,N)=>{const j=de.innerParams.get(I);j&&(E.isComposing||229===E.keyCode||(j.stopKeydownPropagation&&E.stopPropagation(),"Enter"===E.key?Js(I,E,j):"Tab"===E.key?hi(E):[...Ys,...Ks].includes(E.key)?Sn(E.key):"Escape"===E.key&&Ei(E,j,N)))},Js=(I,E,N)=>{if(ee(N.allowEnterKey)&&E.target&&I.getInput()&&E.target instanceof HTMLElement&&E.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(N.input))return;er(),E.preventDefault()}},hi=I=>{const E=I.target,N=je();let j=-1;for(let be=0;be<N.length;be++)if(E===N[be]){j=be;break}lr(j,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Sn=I=>{const E=nt(),N=et(),j=vt();if(document.activeElement instanceof HTMLElement&&![E,N,j].includes(document.activeElement))return;const St=Ys.includes(I)?"nextElementSibling":"previousElementSibling";let En=document.activeElement;for(let Br=0;Br<ge().children.length;Br++){if(En=En[St],!En)return;if(En instanceof HTMLButtonElement&&Qe(En))break}En instanceof HTMLButtonElement&&En.focus()},Ei=(I,E,N)=>{ee(E.allowEscapeKey)&&(I.preventDefault(),N(Ir.esc))};var Qs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Xs=()=>{Array.from(document.body.children).forEach(E=>{E.hasAttribute("data-previous-aria-hidden")?(E.setAttribute("aria-hidden",E.getAttribute("data-previous-aria-hidden")),E.removeAttribute("data-previous-aria-hidden")):E.removeAttribute("aria-hidden")})},Rs=()=>{const I=navigator.userAgent,E=!!I.match(/iPad/i)||!!I.match(/iPhone/i),N=!!I.match(/WebKit/i);E&&N&&!I.match(/CriOS/i)&&me().scrollHeight>window.innerHeight-44&&(tt().style.paddingBottom="44px")},Er=()=>{const I=tt();let E;I.ontouchstart=N=>{E=Xp(N)},I.ontouchmove=N=>{E&&(N.preventDefault(),N.stopPropagation())}},Xp=I=>{const E=I.target,N=tt();return!Wr(I)&&!Li(I)&&(E===N||!qt(N)&&E instanceof HTMLElement&&"INPUT"!==E.tagName&&"TEXTAREA"!==E.tagName&&!(qt(Ne())&&Ne().contains(E)))},Wr=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Li=I=>I.touches&&I.touches.length>1,sa=()=>{if(yt(document.body,R.iosfix)){const I=parseInt(document.body.style.top,10);Bn(document.body,R.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}},oa=()=>{null===bt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(bt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${bt.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=R["scrollbar-measure"],document.body.appendChild(I);const E=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),E})()}px`)},Ro=()=>{null!==bt.previousBodyPadding&&(document.body.style.paddingRight=`${bt.previousBodyPadding}px`,bt.previousBodyPadding=null)};function Pr(I,E,N,j){ze()?tu(I,j):(Cn(N).then(()=>tu(I,j)),Mo(Xe)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(E.setAttribute("style","display:none !important"),E.removeAttribute("class"),E.innerHTML=""):E.remove(),ft()&&(Ro(),sa(),Xs()),function ds(){Bn([document.documentElement,document.body],[R.shown,R["height-auto"],R["no-backdrop"],R["toast-shown"]])}()}function aa(I){I=Sh(I);const E=Qs.swalPromiseResolve.get(this),N=Xi(this);this.isAwaitingPromise()?I.isDismissed||(xo(this),E(I)):N&&E(I)}const Xi=I=>{const E=me();if(!E)return!1;const N=de.innerParams.get(I);if(!N||yt(E,N.hideClass.popup))return!1;Bn(E,N.showClass.popup),Ot(E,N.hideClass.popup);const j=tt();return Bn(j,N.showClass.backdrop),Ot(j,N.hideClass.backdrop),wc(I,E,N),!0};const xo=I=>{I.isAwaitingPromise()&&(de.awaitingPromise.delete(I),de.innerParams.get(I)||I._destroy())},Sh=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),wc=(I,E,N)=>{const j=tt(),be=Un&&Ht(E);"function"==typeof N.willClose&&N.willClose(E),be?Mh(I,E,j,N.returnFocus,N.didClose):Pr(I,j,N.returnFocus,N.didClose)},Mh=(I,E,N,j,be)=>{Xe.swalCloseEventFinishedCallback=Pr.bind(null,I,N,j,be),E.addEventListener(Un,function(St){St.target===E&&(Xe.swalCloseEventFinishedCallback(),delete Xe.swalCloseEventFinishedCallback)})},tu=(I,E)=>{setTimeout(()=>{"function"==typeof E&&E.bind(I.params)(),I._destroy()})};function nu(I,E,N){const j=de.domCache.get(I);E.forEach(be=>{j[be].disabled=N})}function ru(I,E){if(I)if("radio"===I.type){const j=I.parentNode.parentNode.querySelectorAll("input");for(let be=0;be<j.length;be++)j[be].disabled=E}else I.disabled=E}const eo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xs=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Po={},es=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ph=I=>Object.prototype.hasOwnProperty.call(eo,I),iu=I=>-1!==xs.indexOf(I),Ya=I=>Po[I],kh=I=>{Ph(I)||ke(`Unknown parameter "${I}"`)},to=I=>{es.includes(I)&&ke(`The parameter "${I}" is incompatible with toasts`)},Dc=I=>{Ya(I)&&z(I,Ya(I))};const ua=I=>{const E={};return Object.keys(I).forEach(N=>{iu(N)?E[N]=I[N]:ke(`Invalid parameter to update: ${N}`)}),E};const Wn=I=>{Ja(I),delete I.params,delete Xe.keydownHandler,delete Xe.keydownTarget,delete Xe.currentInstance},Ja=I=>{I.isAwaitingPromise()?(Qa(de,I),de.awaitingPromise.set(I,!0)):(Qa(Qs,I),Qa(de,I))},Qa=(I,E)=>{for(const N in I)I[N].delete(E)};var tr=Object.freeze({__proto__:null,_destroy:function ca(){const I=de.domCache.get(this),E=de.innerParams.get(this);E?(I.popup&&Xe.swalCloseEventFinishedCallback&&(Xe.swalCloseEventFinishedCallback(),delete Xe.swalCloseEventFinishedCallback),"function"==typeof E.didDestroy&&E.didDestroy(),Wn(this)):Ja(this)},close:aa,closeModal:aa,closePopup:aa,closeToast:aa,disableButtons:function la(){nu(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function xh(){ru(this.getInput(),!0)},disableLoading:Cr,enableButtons:function Nh(){nu(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Rh(){ru(this.getInput(),!1)},getInput:function Vn(I){const E=de.innerParams.get(I||this),N=de.domCache.get(I||this);return N?xn(N.popup,E.input):null},handleAwaitingPromise:xo,hideLoading:Cr,isAwaitingPromise:function Ah(){return!!de.awaitingPromise.get(this)},rejectPromise:function eg(I){const E=Qs.swalPromiseReject.get(this);xo(this),E&&E(I)},resetValidationMessage:function Oh(){const I=de.domCache.get(this);I.validationMessage&&se(I.validationMessage);const E=this.getInput();E&&(E.removeAttribute("aria-invalid"),E.removeAttribute("aria-describedby"),Bn(E,R.inputerror))},showValidationMessage:function Oo(I){const E=de.domCache.get(this),N=de.innerParams.get(this);kt(E.validationMessage,I),E.validationMessage.className=R["validation-message"],N.customClass&&N.customClass.validationMessage&&Ot(E.validationMessage,N.customClass.validationMessage),J(E.validationMessage);const j=this.getInput();j&&(j.setAttribute("aria-invalid",!0),j.setAttribute("aria-describedby",R["validation-message"]),wr(j),Ot(j,R.inputerror))},update:function Cc(I){const E=me(),N=de.innerParams.get(this);if(!E||yt(E,N.hideClass.popup))return void ke("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const j=ua(I),be=Object.assign({},N,j);Qi(this,be),de.innerParams.set(this,be),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}});const Ti=I=>{let E=me();E||new hu,E=me();const N=ht();ze()?se(Ge()):da(E,I),J(N),E.setAttribute("data-loading","true"),E.setAttribute("aria-busy","true"),E.focus()},da=(I,E)=>{const N=ge(),j=ht();!E&&Qe(nt())&&(E=nt()),J(N),E&&(se(E),j.setAttribute("data-button-to-replace",E.className)),j.parentNode.insertBefore(j,E),Ot([I,N],R.loading)},Xa=I=>I.checked?1:0,no=I=>I.checked?I.value:null,kr=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,el=(I,E)=>{const N=me(),j=be=>{Ic[E.input](N,Bi(be),E)};Ye(E.inputOptions)||it(E.inputOptions)?(Ti(nt()),Le(E.inputOptions).then(be=>{I.hideLoading(),j(be)})):"object"==typeof E.inputOptions?j(E.inputOptions):Se("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof E.inputOptions)},ko=(I,E)=>{const N=I.getInput();se(N),Le(E.inputValue).then(j=>{N.value="number"===E.input?`${parseFloat(j)||0}`:`${j}`,J(N),N.focus(),I.hideLoading()}).catch(j=>{Se(`Error in inputValue promise: ${j}`),N.value="",J(N),N.focus(),I.hideLoading()})},Ic={select:(I,E,N)=>{const j=Gn(I,R.select),be=(St,En,Br)=>{const Ur=document.createElement("option");Ur.value=Br,kt(Ur,En),Ur.selected=tl(Br,N.inputValue),St.appendChild(Ur)};E.forEach(St=>{const En=St[0],Br=St[1];if(Array.isArray(Br)){const Ur=document.createElement("optgroup");Ur.label=En,Ur.disabled=!1,j.appendChild(Ur),Br.forEach(Vi=>be(Ur,Vi[1],Vi[0]))}else be(j,Br,En)}),j.focus()},radio:(I,E,N)=>{const j=Gn(I,R.radio);E.forEach(St=>{const En=St[0],Br=St[1],Ur=document.createElement("input"),Vi=document.createElement("label");Ur.type="radio",Ur.name=R.radio,Ur.value=En,tl(En,N.inputValue)&&(Ur.checked=!0);const ps=document.createElement("span");kt(ps,Br),ps.className=R.label,Vi.appendChild(Ur),Vi.appendChild(ps),j.appendChild(Vi)});const be=j.querySelectorAll("input");be.length&&be[0].focus()}},Bi=I=>{const E=[];return typeof Map<"u"&&I instanceof Map?I.forEach((N,j)=>{let be=N;"object"==typeof be&&(be=Bi(be)),E.push([j,be])}):Object.keys(I).forEach(N=>{let j=I[N];"object"==typeof j&&(j=Bi(j)),E.push([N,j])}),E},tl=(I,E)=>E&&E.toString()===I.toString(),Lh=(I,E)=>{const N=de.innerParams.get(I);if(!N.input)return void Se(`The "input" parameter is needed to be set when using returnInputValueOn${ve(E)}`);const j=((I,E)=>{const N=I.getInput();if(!N)return null;switch(E.input){case"checkbox":return Xa(N);case"radio":return no(N);case"file":return kr(N);default:return E.inputAutoTrim?N.value.trim():N.value}})(I,N);N.inputValidator?su(I,j,E):I.getInput().checkValidity()?"deny"===E?rl(I,j):sl(I,j):(I.enableButtons(),I.showValidationMessage(N.validationMessage))},su=(I,E,N)=>{const j=de.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Le(j.inputValidator(E,j.validationMessage))).then(St=>{I.enableButtons(),I.enableInput(),St?I.showValidationMessage(St):"deny"===N?rl(I,E):sl(I,E)})},rl=(I,E)=>{const N=de.innerParams.get(I||void 0);N.showLoaderOnDeny&&Ti(et()),N.preDeny?(de.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Le(N.preDeny(E,N.validationMessage))).then(be=>{!1===be?(I.hideLoading(),xo(I)):I.close({isDenied:!0,value:typeof be>"u"?E:be})}).catch(be=>ou(I||void 0,be))):I.close({isDenied:!0,value:E})},il=(I,E)=>{I.close({isConfirmed:!0,value:E})},ou=(I,E)=>{I.rejectPromise(E)},sl=(I,E)=>{const N=de.innerParams.get(I||void 0);N.showLoaderOnConfirm&&Ti(),N.preConfirm?(I.resetValidationMessage(),de.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Le(N.preConfirm(E,N.validationMessage))).then(be=>{Qe(le())||!1===be?(I.hideLoading(),xo(I)):il(I,typeof be>"u"?E:be)}).catch(be=>ou(I||void 0,be))):il(I,E)},we=(I,E,N)=>{E.popup.onclick=()=>{const j=de.innerParams.get(I);j&&(an(j)||j.timer||j.input)||N(Ir.close)}},an=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let Fo=!1;const au=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(E){I.container.onmouseup=void 0,E.target===I.container&&(Fo=!0)}}},Kn=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(E){I.popup.onmouseup=void 0,(E.target===I.popup||I.popup.contains(E.target))&&(Fo=!0)}}},Uh=(I,E,N)=>{E.container.onclick=j=>{const be=de.innerParams.get(I);Fo?Fo=!1:j.target===E.container&&ee(be.allowOutsideClick)&&N(Ir.backdrop)}},Ui=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const fa=()=>{if(Xe.timeout)return(()=>{const I=Ee(),E=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const N=parseInt(window.getComputedStyle(I).width);I.style.width=E/N*100+"%"})(),Xe.timeout.stop()},Fr=()=>{if(Xe.timeout){const I=Xe.timeout.start();return Rt(I),I}};let hs=!1;const al={};const tg=I=>{for(let E=I.target;E&&E!==document;E=E.parentNode)for(const N in al){const j=E.getAttribute(N);if(j)return void al[N].fire({template:j})}};var ng=Object.freeze({__proto__:null,argsToParams:I=>{const E={};return"object"!=typeof I[0]||Ui(I[0])?["title","html","icon"].forEach((N,j)=>{const be=I[j];"string"==typeof be||Ui(be)?E[N]=be:void 0!==be&&Se(`Unexpected type of ${N}! Expected "string" or "Element", got ${typeof be}`)}):Object.assign(E,I[0]),E},bindClickHandler:function pa(){al[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,hs||(document.body.addEventListener("click",tg),hs=!0)},clickCancel:()=>vt()&&vt().click(),clickConfirm:er,clickDeny:()=>et()&&et().click(),enableLoading:Ti,fire:function Ec(){for(var E=arguments.length,N=new Array(E),j=0;j<E;j++)N[j]=arguments[j];return new this(...N)},getActions:ge,getCancelButton:vt,getCloseButton:Ae,getConfirmButton:nt,getContainer:tt,getDenyButton:et,getFocusableElements:je,getFooter:_e,getHtmlContainer:Ne,getIcon:Ge,getIconContent:()=>Me(R["icon-content"]),getImage:Ke,getInputLabel:()=>Me(R["input-label"]),getLoader:ht,getPopup:me,getProgressSteps:$e,getTimerLeft:()=>Xe.timeout&&Xe.timeout.getTimerLeft(),getTimerProgressBar:Ee,getTitle:De,getValidationMessage:le,increaseTimer:I=>{if(Xe.timeout){const E=Xe.timeout.increase(I);return Rt(E,!0),E}},isDeprecatedParameter:Ya,isLoading:()=>me().hasAttribute("data-loading"),isTimerRunning:()=>Xe.timeout&&Xe.timeout.isRunning(),isUpdatableParameter:iu,isValidParameter:Ph,isVisible:()=>Qe(me()),mixin:function Tc(I){return class E extends(this){_main(j,be){return super._main(j,Object.assign({},I,be))}}},resumeTimer:Fr,showLoading:Ti,stopTimer:fa,toggleTimer:()=>{const I=Xe.timeout;return I&&(I.running?fa():Fr())}});class ga{constructor(E,N){this.callback=E,this.remaining=N,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(E){const N=this.running;return N&&this.stop(),this.remaining+=E,N&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ma=["swal-title","swal-html","swal-footer"],Sc=I=>{const E={};return Array.from(I.querySelectorAll("swal-param")).forEach(j=>{Os(j,["name","value"]);const be=j.getAttribute("name"),St=j.getAttribute("value");E[be]="boolean"==typeof eo[be]?"false"!==St:"object"==typeof eo[be]?JSON.parse(St):St}),E},Mc=I=>{const E={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(j=>{const be=j.getAttribute("name"),St=j.getAttribute("value");E[be]=new Function(`return ${St}`)()}),E},Vh=I=>{const E={};return Array.from(I.querySelectorAll("swal-button")).forEach(j=>{Os(j,["type","color","aria-label"]);const be=j.getAttribute("type");E[`${be}ButtonText`]=j.innerHTML,E[`show${ve(be)}Button`]=!0,j.hasAttribute("color")&&(E[`${be}ButtonColor`]=j.getAttribute("color")),j.hasAttribute("aria-label")&&(E[`${be}ButtonAriaLabel`]=j.getAttribute("aria-label"))}),E},ll=I=>{const E={},N=I.querySelector("swal-image");return N&&(Os(N,["src","width","height","alt"]),N.hasAttribute("src")&&(E.imageUrl=N.getAttribute("src")),N.hasAttribute("width")&&(E.imageWidth=N.getAttribute("width")),N.hasAttribute("height")&&(E.imageHeight=N.getAttribute("height")),N.hasAttribute("alt")&&(E.imageAlt=N.getAttribute("alt"))),E},$h=I=>{const E={},N=I.querySelector("swal-icon");return N&&(Os(N,["type","color"]),N.hasAttribute("type")&&(E.icon=N.getAttribute("type")),N.hasAttribute("color")&&(E.iconColor=N.getAttribute("color")),E.iconHtml=N.innerHTML),E},uu=I=>{const E={},N=I.querySelector("swal-input");N&&(Os(N,["type","label","placeholder","value"]),E.input=N.getAttribute("type")||"text",N.hasAttribute("label")&&(E.inputLabel=N.getAttribute("label")),N.hasAttribute("placeholder")&&(E.inputPlaceholder=N.getAttribute("placeholder")),N.hasAttribute("value")&&(E.inputValue=N.getAttribute("value")));const j=Array.from(I.querySelectorAll("swal-input-option"));return j.length&&(E.inputOptions={},j.forEach(be=>{Os(be,["value"]);const St=be.getAttribute("value");E.inputOptions[St]=be.innerHTML})),E},jh=(I,E)=>{const N={};for(const j in E){const be=E[j],St=I.querySelector(be);St&&(Os(St,[]),N[be.replace(/^swal-/,"")]=St.innerHTML.trim())}return N},cu=I=>{const E=ma.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(N=>{const j=N.tagName.toLowerCase();E.includes(j)||ke(`Unrecognized element <${j}>`)})},Os=(I,E)=>{Array.from(I.attributes).forEach(N=>{-1===E.indexOf(N.name)&&ke([`Unrecognized attribute "${N.name}" on <${I.tagName.toLowerCase()}>.`,E.length?`Allowed attributes are: ${E.join(", ")}`:"To set the value, use HTML within the element."])})},rg=I=>{const E=tt(),N=me();"function"==typeof I.willOpen&&I.willOpen(N);const be=window.getComputedStyle(document.body).overflowY;Hh(E,N,I),setTimeout(()=>{Ps(E,N)},10),ft()&&(kn(E,I.scrollbarPadding,be),Array.from(document.body.children).forEach(E=>{E===tt()||E.contains(tt())||(E.hasAttribute("aria-hidden")&&E.setAttribute("data-previous-aria-hidden",E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))})),!ze()&&!Xe.previousActiveElement&&(Xe.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(N)),Bn(E,R["no-transition"])},Lr=I=>{const E=me();if(I.target!==E)return;const N=tt();E.removeEventListener(Un,Lr),N.style.overflowY="auto"},Ps=(I,E)=>{Un&&Ht(E)?(I.style.overflowY="hidden",E.addEventListener(Un,Lr)):I.style.overflowY="auto"},kn=(I,E,N)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!yt(document.body,R.iosfix)){const E=document.body.scrollTop;document.body.style.top=-1*E+"px",Ot(document.body,R.iosfix),Er(),Rs()}})(),E&&"hidden"!==N&&oa(),setTimeout(()=>{I.scrollTop=0})},Hh=(I,E,N)=>{Ot(I,N.showClass.backdrop),E.style.setProperty("opacity","0","important"),J(E,"grid"),setTimeout(()=>{Ot(E,N.showClass.popup),E.style.removeProperty("opacity")},10),Ot([document.documentElement,document.body],R.shown),N.heightAuto&&N.backdrop&&!N.toast&&Ot([document.documentElement,document.body],R["height-auto"])};var Uo={email:(I,E)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(E||"Invalid email address"),url:(I,E)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(E||"Invalid URL")};function sg(I){(function Nc(I){I.inputValidator||Object.keys(Uo).forEach(E=>{I.input===E&&(I.inputValidator=Uo[E])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&ke("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ig(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(ke('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Kt(I)}let fs;class ks{constructor(){if(typeof window>"u")return;fs=this;for(var E=arguments.length,N=new Array(E),j=0;j<E;j++)N[j]=arguments[j];const be=Object.freeze(this.constructor.argsToParams(N));Object.defineProperties(this,{params:{value:be,writable:!1,enumerable:!0,configurable:!0}});const St=fs._main(fs.params);de.promise.set(this,St)}_main(E){let N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&ke('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const E in I)kh(E),I.toast&&to(E),Dc(E)})(Object.assign({},N,E)),Xe.currentInstance&&(Xe.currentInstance._destroy(),ft()&&Xs()),Xe.currentInstance=fs;const j=Rc(E,N);sg(j),Object.freeze(j),Xe.timeout&&(Xe.timeout.stop(),delete Xe.timeout),clearTimeout(Xe.restoreFocusTimeout);const be=xc(fs);return Qi(fs,j),de.innerParams.set(fs,j),du(fs,be,j)}then(E){return de.promise.get(this).then(E)}finally(E){return de.promise.get(this).finally(E)}}const du=(I,E,N)=>new Promise((j,be)=>{const St=En=>{I.close({isDismissed:!0,dismiss:En})};Qs.swalPromiseResolve.set(I,j),Qs.swalPromiseReject.set(I,be),E.confirmButton.onclick=()=>{(I=>{const E=de.innerParams.get(I);I.disableButtons(),E.input?Lh(I,"confirm"):sl(I,!0)})(I)},E.denyButton.onclick=()=>{(I=>{const E=de.innerParams.get(I);I.disableButtons(),E.returnInputValueOnDeny?Lh(I,"deny"):rl(I,!1)})(I)},E.cancelButton.onclick=()=>{((I,E)=>{I.disableButtons(),E(Ir.cancel)})(I,St)},E.closeButton.onclick=()=>{St(Ir.close)},((I,E,N)=>{de.innerParams.get(I).toast?we(I,E,N):(au(E),Kn(E),Uh(I,E,N))})(I,E,St),((I,E,N,j)=>{Mo(E),N.toast||(E.keydownHandler=be=>Ii(I,be,j),E.keydownTarget=N.keydownListenerCapture?window:me(),E.keydownListenerCapture=N.keydownListenerCapture,E.keydownTarget.addEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!0)})(I,Xe,N,St),((I,E)=>{"select"===E.input||"radio"===E.input?el(I,E):["text","email","number","tel","textarea"].includes(E.input)&&(Ye(E.inputValue)||it(E.inputValue))&&(Ti(nt()),ko(I,E))})(I,N),rg(N),cl(Xe,N,St),_a(E,N),setTimeout(()=>{E.container.scrollTop=0})}),Rc=(I,E)=>{const N=(I=>{const E="string"==typeof I.template?document.querySelector(I.template):I.template;if(!E)return{};const N=E.content;return cu(N),Object.assign(Sc(N),Mc(N),Vh(N),ll(N),$h(N),uu(N),jh(N,ma))})(I),j=Object.assign({},eo,E,N,I);return j.showClass=Object.assign({},eo.showClass,j.showClass),j.hideClass=Object.assign({},eo.hideClass,j.hideClass),j},xc=I=>{const E={popup:me(),container:tt(),actions:ge(),confirmButton:nt(),denyButton:et(),cancelButton:vt(),loader:ht(),closeButton:Ae(),validationMessage:le(),progressSteps:$e()};return de.domCache.set(I,E),E},cl=(I,E,N)=>{const j=Ee();se(j),E.timer&&(I.timeout=new ga(()=>{N("timer"),delete I.timeout},E.timer),E.timerProgressBar&&(J(j),fn(j,E,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&Rt(E.timer)})))},_a=(I,E)=>{if(!E.toast){if(!ee(E.allowEnterKey))return void io();ya(I,E)||lr(-1,1)}},ya=(I,E)=>E.focusDeny&&Qe(I.denyButton)?(I.denyButton.focus(),!0):E.focusCancel&&Qe(I.cancelButton)?(I.cancelButton.focus(),!0):!(!E.focusConfirm||!Qe(I.confirmButton)||(I.confirmButton.focus(),0)),io=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const I=new Date,E=localStorage.getItem("swal-initiation");E?(I.getTime()-Date.parse(E))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const N=document.createElement("audio");N.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",N.loop=!0,document.body.appendChild(N),setTimeout(()=>{N.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Object.assign(ks.prototype,tr),Object.assign(ks,ng),Object.keys(tr).forEach(I=>{ks[I]=function(){if(fs)return fs[I](...arguments)}}),ks.DismissReason=Ir,ks.version="11.7.3";const hu=ks;return hu.default=hu,hu}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(de,$){var l=de.createElement("style");if(de.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=$);else try{l.innerHTML=$}catch{l.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(At,de,$)=>{"use strict";function fe(ge,_e){var Ee={};for(var Ae in ge)Object.prototype.hasOwnProperty.call(ge,Ae)&&_e.indexOf(Ae)<0&&(Ee[Ae]=ge[Ae]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(Ae=Object.getOwnPropertySymbols(ge);Je<Ae.length;Je++)_e.indexOf(Ae[Je])<0&&Object.prototype.propertyIsEnumerable.call(ge,Ae[Je])&&(Ee[Ae[Je]]=ge[Ae[Je]])}return Ee}function ee(ge,_e,Ee,Ae){return new(Ee||(Ee=Promise))(function(je,ft){function ze(kt){try{bt(Ae.next(kt))}catch(yt){ft(yt)}}function Bt(kt){try{bt(Ae.throw(kt))}catch(yt){ft(yt)}}function bt(kt){kt.done?je(kt.value):function Je(je){return je instanceof Ee?je:new Ee(function(ft){ft(je)})}(kt.value).then(ze,Bt)}bt((Ae=Ae.apply(ge,_e||[])).next())})}function Re(ge){return this instanceof Re?(this.v=ge,this):new Re(ge)}function De(ge,_e,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,Ae=Ee.apply(ge,_e||[]),je=[];return Je={},ft("next"),ft("throw"),ft("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function ft(Zt){Ae[Zt]&&(Je[Zt]=function(fn){return new Promise(function(xn,wr){je.push([Zt,fn,xn,wr])>1||ze(Zt,fn)})})}function ze(Zt,fn){try{!function Bt(Zt){Zt.value instanceof Re?Promise.resolve(Zt.value.v).then(bt,kt):yt(je[0][2],Zt)}(Ae[Zt](fn))}catch(xn){yt(je[0][3],xn)}}function bt(Zt){ze("next",Zt)}function kt(Zt){ze("throw",Zt)}function yt(Zt,fn){Zt(fn),je.shift(),je.length&&ze(je[0][0],je[0][1])}}function Ke(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,_e=ge[Symbol.asyncIterator];return _e?_e.call(ge):(ge=function tt(ge){var _e="function"==typeof Symbol&&Symbol.iterator,Ee=_e&&ge[_e],Ae=0;if(Ee)return Ee.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Ae>=ge.length&&(ge=void 0),{value:ge&&ge[Ae++],done:!ge}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),Ee={},Ae("next"),Ae("throw"),Ae("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Ae(je){Ee[je]=ge[je]&&function(ft){return new Promise(function(ze,Bt){!function Je(je,ft,ze,Bt){Promise.resolve(Bt).then(function(bt){je({value:bt,done:ze})},ft)}(ze,Bt,(ft=ge[je](ft)).done,ft.value)})}}}$.d(de,{FC:()=>De,KL:()=>Ke,_T:()=>fe,mG:()=>ee,qq:()=>Re})},4650:(At,de,$)=>{"use strict";$.d(de,{$8M:()=>bu,$WT:()=>Dr,$Z:()=>Iv,AFp:()=>Ua,ALo:()=>nI,AaK:()=>Se,BQk:()=>lm,CHM:()=>Fo,CRH:()=>Kf,CZH:()=>Fl,CqO:()=>um,D6c:()=>EM,EJc:()=>vb,EpF:()=>Yo,F$t:()=>o0,F4k:()=>e0,FYo:()=>mA,FiY:()=>wa,Gf:()=>nb,GfV:()=>nD,Gpc:()=>z,Hsn:()=>eC,Ikx:()=>E0,JOm:()=>gs,KtG:()=>au,LFG:()=>Kt,LMc:()=>ir,LSH:()=>j1,Lbi:()=>uM,Lck:()=>Lm,MAs:()=>Kv,MGl:()=>cm,MMx:()=>j0,MR2:()=>_i,MT6:()=>wC,NdJ:()=>t0,O4$:()=>Hh,OlP:()=>yn,Oqu:()=>Ff,P3R:()=>nv,PXZ:()=>xI,Q6J:()=>Rf,QGY:()=>xf,Qsj:()=>ZO,QtT:()=>km,R0b:()=>ws,RDi:()=>eA,Rgc:()=>$d,SBq:()=>Vg,SDv:()=>zC,Sil:()=>pM,Suo:()=>dI,TTD:()=>iu,TgZ:()=>Id,Tol:()=>_m,Udp:()=>kf,VKq:()=>z0,W1O:()=>sb,WLB:()=>$m,X6Q:()=>Ob,XFs:()=>ie,Xpm:()=>jt,Xts:()=>q1,Y36:()=>Ml,YKP:()=>$f,YNc:()=>YD,Yjl:()=>nn,Yz7:()=>yt,Z0I:()=>wr,ZZ4:()=>Tt,_Bn:()=>Fm,_UZ:()=>Qv,_Vd:()=>Sa,_c5:()=>CM,_uU:()=>mC,aQg:()=>he,c2e:()=>dM,cJS:()=>fn,cg1:()=>T0,dDg:()=>SI,dqk:()=>Rt,eFA:()=>Mb,eJc:()=>ob,ekj:()=>h0,eoX:()=>c_,f3M:()=>Qn,g9A:()=>sc,h0i:()=>$t,hGG:()=>IM,hij:()=>bm,iGM:()=>Km,ifc:()=>L,ip1:()=>DI,jDz:()=>yi,kEZ:()=>q0,kL8:()=>Em,kcU:()=>Nc,lG2:()=>Ut,lcZ:()=>rI,lqb:()=>ju,lri:()=>ea,n5z:()=>Zh,oAB:()=>ne,oxw:()=>s0,pQV:()=>Fa,q4F:()=>rD,qLn:()=>bf,qOj:()=>Qg,qZA:()=>om,rWj:()=>Cb,s9C:()=>a0,sBO:()=>FI,s_b:()=>jd,soG:()=>rp,tb:()=>MI,tp0:()=>jo,uIk:()=>Yv,vHH:()=>ue,vpe:()=>Hs,wAp:()=>Lt,xp6:()=>fv,ynx:()=>am,z2F:()=>up,zSh:()=>kg,zW0:()=>LD,zs3:()=>Gu});var l=$(7579),R=$(727),U=$(9751),fe=$(6451),Te=$(3099);function ve(s){for(let a in s)if(s[a]===ve)return a;throw Error("Could not find renamed property on target object.")}function ke(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function Se(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Se).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function He(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const W=ve({__forward_ref__:ve});function z(s){return s.__forward_ref__=z,s.toString=function(){return Se(this())},s}function ee(s){return Ye(s)?s():s}function Ye(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===z}function Le(s){return s&&!!s.\u0275providers}const tt="https://g.co/ng/security#xss";class ue extends Error{constructor(a,u){super(Me(a,u)),this.code=a}}function Me(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ke(s,a){throw new ue(-201,!1)}function ze(s,a,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}function yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function fn(s){return{providers:s.providers||[],imports:s.imports||[]}}function xn(s){return Hn(s,Gn)||Hn(s,J)}function wr(s){return null!==xn(s)}function Hn(s,a){return s.hasOwnProperty(a)?s[a]:null}function Bn(s){return s&&(s.hasOwnProperty(re)||s.hasOwnProperty(se))?s[re]:null}const Gn=ve({\u0275prov:ve}),re=ve({\u0275inj:ve}),J=ve({ngInjectableDef:ve}),se=ve({ngInjectorDef:ve});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let Be;function sn(s){const a=Be;return Be=s,a}function qt(s,a,u){const d=xn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ie.Optional?null:void 0!==a?a:void Ke(Se(s))}const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nn={},Cn="__NG_DI_FLAG__",An="ngTempTokenPath",pn="ngTokenPath",zn=/\n/gm,On="\u0275",Yt="__source";let ri;function on(s){const a=ri;return ri=s,a}function Ss(s,a=ie.Default){if(void 0===ri)throw new ue(-203,!1);return null===ri?qt(s,void 0,a):ri.get(s,a&ie.Optional?null:void 0,a)}function Kt(s,a=ie.Default){return(function Qe(){return Be}()||Ss)(ee(s),a)}function Qn(s,a=ie.Default){return Kt(s,qr(a))}function qr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Un(s){const a=[];for(let u=0;u<s.length;u++){const d=ee(s[u]);if(Array.isArray(d)){if(0===d.length)throw new ue(900,!1);let h,g=ie.Default;for(let y=0;y<d.length;y++){const D=d[y],T=Ci(D);"number"==typeof T?-1===T?h=D.token:g|=T:h=D}a.push(Kt(h,g))}else a.push(Kt(d))}return a}function ci(s,a){return s[Cn]=a,s.prototype[Cn]=a,s}function Ci(s){return s[Cn]}function H(s){return{toString:s}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),L=(()=>{return(s=L||(L={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",L;var s})();const x={},Z=[],Ie=ve({\u0275cmp:ve}),ut=ve({\u0275dir:ve}),Pt=ve({\u0275pipe:ve}),xt=ve({\u0275mod:ve}),Jt=ve({\u0275fac:ve}),Ft=ve({__NG_ELEMENT_ID__:ve});let Pn=0;function jt(s){return H(()=>{const a=eu(s),u={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||L.Emulated,id:"c"+Pn++,styles:s.styles||Z,_:null,schemas:s.schemas||null,tView:null};Th(u);const d=s.dependencies;return u.directiveDefs=So(d,!1),u.pipeDefs=So(d,!0),u})}function Ms(s){return It(s)||mn(s)}function pe(s){return null!==s}function ne(s){return H(()=>({type:s.type,bootstrap:s.bootstrap||Z,declarations:s.declarations||Z,imports:s.imports||Z,exports:s.exports||Z,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Dt(s,a){if(null==s)return x;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=d,a&&(a[h]=g)}return u}function Ut(s){return H(()=>{const a=eu(s);return Th(a),a})}function nn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function It(s){return s[Ie]||null}function mn(s){return s[ut]||null}function dn(s){return s[Pt]||null}function Dr(s){const a=It(s)||mn(s)||dn(s);return null!==a&&a.standalone}function gr(s,a){const u=s[xt]||null;if(!u&&!0===a)throw new Error(`Type ${Se(s)} does not have '\u0275mod' property.`);return u}function eu(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Z,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dt(s.inputs,a),outputs:Dt(s.outputs)}}function Th(s){s.features?.forEach(a=>a(s))}function So(s,a){if(!s)return null;const u=a?dn:Ms;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(pe)}const mr=0,lt=1,Qt=2,qn=3,_n=4,Qi=5,Cr=6,ar=7,Vn=8,ia=9,er=10,Xt=11,Wa=12,Ir=13,Mo=14,Ns=15,lr=16,Ys=17,Ks=18,Ii=19,Js=20,hi=21,Sn=22,Qs=1,Za=2,Xs=7,No=8,Rs=9,Er=10;function Wr(s){return Array.isArray(s)&&"object"==typeof s[Qs]}function Li(s){return Array.isArray(s)&&!0===s[Qs]}function sa(s){return 0!=(4&s.flags)}function oa(s){return s.componentOffset>-1}function Ro(s){return 1==(1&s.flags)}function Pr(s){return!!s.template}function ds(s){return 0!=(256&s[Qt])}function es(s,a){return s.hasOwnProperty(Jt)?s[Jt]:null}class Ph{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function iu(){return Ya}function Ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=to),kh}function kh(){const s=Ka(this),a=s?.current;if(a){const u=s.previous;if(u===x)s.previous=a;else for(let d in a)u[d]=a[d];s.current=null,this.ngOnChanges(a)}}function to(s,a,u,d){const h=this.declaredInputs[u],g=Ka(s)||function Cc(s,a){return s[Dc]=a}(s,{previous:x,current:null}),y=g.current||(g.current={}),D=g.previous,T=D[h];y[h]=new Ph(T&&T.currentValue,a,D===x),s[d]=a}iu.ngInherit=!0;const Dc="__ngSimpleChanges__";function Ka(s){return s[Dc]||null}const Wn=function(s,a,u){},Ja="svg";function tr(s){for(;Array.isArray(s);)s=s[mr];return s}function da(s,a){return tr(a[s])}function Tr(s,a){return tr(a[s.index])}function Xa(s,a){return s.data[a]}function no(s,a){return s[a]}function kr(s,a){const u=a[s];return Wr(u)?u:u[mr]}function ko(s){return 64==(64&s[Qt])}function Bi(s,a){return null==a?null:s[a]}function tl(s){s[Ks]=0}function ha(s,a){s[Qi]+=a;let u=s,d=s[qn];for(;null!==d&&(1===a&&1===u[Qi]||-1===a&&0===u[Qi]);)d[Qi]+=a,u=d,d=d[qn]}const Vt={lFrame:uu(null),bindingsEnabled:!0};function ou(){return Vt.bindingsEnabled}function we(){return Vt.lFrame.lView}function an(){return Vt.lFrame.tView}function Fo(s){return Vt.lFrame.contextLView=s,s[Vn]}function au(s){return Vt.lFrame.contextLView=null,s}function Kn(){let s=Uh();for(;null!==s&&64===s.type;)s=s.parent;return s}function Uh(){return Vt.lFrame.currentTNode}function Lo(){const s=Vt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function Ui(s,a){const u=Vt.lFrame;u.currentTNode=s,u.isParent=a}function ol(){return Vt.lFrame.isParent}function Ec(){Vt.lFrame.isParent=!1}function Fr(){const s=Vt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function fi(){return Vt.lFrame.bindingIndex}function ro(){return Vt.lFrame.bindingIndex++}function hs(s){const a=Vt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function pa(s){Vt.lFrame.inI18n=s}function tg(s,a){const u=Vt.lFrame;u.bindingIndex=u.bindingRootIndex=s,ga(a)}function ga(s){Vt.lFrame.currentDirectiveIndex=s}function lu(){return Vt.lFrame.currentQueryIndex}function Sc(s){Vt.lFrame.currentQueryIndex=s}function Mc(s){const a=s[lt];return 2===a.type?a.declTNode:1===a.type?s[Cr]:null}function Vh(s,a,u){if(u&ie.SkipSelf){let h=a,g=s;for(;!(h=h.parent,null!==h||u&ie.Host||(h=Mc(g),null===h||(g=g[Ns],10&h.type))););if(null===h)return!1;a=h,s=g}const d=Vt.lFrame=$h();return d.currentTNode=a,d.lView=s,!0}function ll(s){const a=$h(),u=s[lt];Vt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function $h(){const s=Vt.lFrame,a=null===s?null:s.child;return null===a?uu(s):a}function uu(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function jh(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const cu=jh;function Os(){const s=jh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Lr(){return Vt.lFrame.selectedIndex}function Ps(s){Vt.lFrame.selectedIndex=s}function kn(){const s=Vt.lFrame;return Xa(s.tView,s.selectedIndex)}function Hh(){Vt.lFrame.currentNamespace=Ja}function Nc(){!function ig(){Vt.lFrame.currentNamespace=null}()}function ks(s,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:S,ngOnDestroy:O}=g;y&&(s.contentHooks??(s.contentHooks=[])).push(-u,y),D&&((s.contentHooks??(s.contentHooks=[])).push(u,D),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,D)),T&&(s.viewHooks??(s.viewHooks=[])).push(-u,T),S&&((s.viewHooks??(s.viewHooks=[])).push(u,S),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,S)),null!=O&&(s.destroyHooks??(s.destroyHooks=[])).push(u,O)}}function du(s,a,u){cl(s,a,3,u)}function Rc(s,a,u,d){(3&s[Qt])===u&&cl(s,a,u,d)}function xc(s,a){let u=s[Qt];(3&u)===a&&(u&=2047,u+=1,s[Qt]=u)}function cl(s,a,u,d){const g=d??-1,y=a.length-1;let D=0;for(let T=void 0!==d?65535&s[Ks]:0;T<y;T++)if("number"==typeof a[T+1]){if(D=a[T],null!=d&&D>=d)break}else a[T]<0&&(s[Ks]+=65536),(D<g||-1==g)&&(_a(s,u,a,T),s[Ks]=(4294901760&s[Ks])+T+2),T++}function _a(s,a,u,d){const h=u[d]<0,g=u[d+1],D=s[h?-u[d]:u[d]];if(h){if(s[Qt]>>11<s[Ks]>>16&&(3&s[Qt])===a){s[Qt]+=2048,Wn(4,D,g);try{g.call(D)}finally{Wn(5,D,g)}}}else{Wn(4,D,g);try{g.call(D)}finally{Wn(5,D,g)}}}const ya=-1;class io{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Br(s,a,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],y=u[d++],D=u[d++];s.setAttribute(a,y,D,g)}else{const g=h,y=u[++d];Vi(g)?s.setProperty(a,g,y):s.setAttribute(a,g,y),d++}}return d}function Ur(s){return 3===s||4===s||6===s}function Vi(s){return 64===s.charCodeAt(0)}function ps(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?u=h:0===u||dl(s,u,h,null,-1===u||2===u?a[++d]:null)}}return s}function dl(s,a,u,d,h){let g=0,y=s.length;if(-1===a)y=-1;else for(;g<s.length;){const D=s[g++];if("number"==typeof D){if(D===a){y=-1;break}if(D>a){y=g-1;break}}}for(;g<s.length;){const D=s[g];if("number"==typeof D)break;if(D===u){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==y&&(s.splice(y,0,a),g=y+1),s.splice(g++,0,u),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function fu(s){return s!==ya}function pu(s){return 32767&s}function gu(s,a){let u=function Oc(s){return s>>16}(s),d=a;for(;u>0;)d=d[Ns],u--;return d}let Gh=!0;function mu(s){const a=Gh;return Gh=s,a}const by=255,Pc=5;let wy=0;const Ai={};function kc(s,a){const u=qh(s,a);if(-1!==u)return u;const d=a[lt];d.firstCreatePass&&(s.injectorIndex=a.length,Vo(d.data,s),Vo(a,null),Vo(d.blueprint,null));const h=nr(s,a),g=s.injectorIndex;if(fu(h)){const y=pu(h),D=gu(h,a),T=D[lt].data;for(let S=0;S<8;S++)a[g+S]=D[y+S]|T[y+S]}return a[g+8]=h,g}function Vo(s,a){s.push(0,0,0,0,0,0,0,0,a)}function qh(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function nr(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=a;for(;null!==h;){if(d=vu(h),null===d)return ya;if(u++,h=h[Ns],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return ya}function _u(s,a,u){!function zh(s,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Ft)&&(d=u[Ft]),null==d&&(d=u[Ft]=wy++);const h=d&by;a.data[s+(h>>Pc)]|=1<<h}(s,a,u)}function og(s,a,u){if(u&ie.Optional||void 0!==s)return s;Ke()}function yu(s,a,u,d){if(u&ie.Optional&&void 0===d&&(d=null),!(u&(ie.Self|ie.Host))){const h=s[ia],g=sn(void 0);try{return h?h.get(a,d,u&ie.Optional):qt(a,d,u&ie.Optional)}finally{sn(g)}}return og(d,0,u)}function ag(s,a,u,d=ie.Default,h){if(null!==s){if(1024&a[Qt]){const y=function Cy(s,a,u,d,h){let g=s,y=a;for(;null!==g&&null!==y&&1024&y[Qt]&&!(256&y[Qt]);){const D=lg(g,y,u,d|ie.Self,Ai);if(D!==Ai)return D;let T=g.parent;if(!T){const S=y[hi];if(S){const O=S.get(u,Ai,d);if(O!==Ai)return O}T=vu(y),y=y[Ns]}g=T}return h}(s,a,u,d,Ai);if(y!==Ai)return y}const g=lg(s,a,u,d,Ai);if(g!==Ai)return g}return yu(a,u,d,h)}function lg(s,a,u,d,h){const g=function Dy(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ft)?s[Ft]:void 0;return"number"==typeof a?a>=0?a&by:Wh:a}(u);if("function"==typeof g){if(!Vh(a,s,d))return d&ie.Host?og(h,0,d):yu(a,u,d,h);try{const y=g(d);if(null!=y||d&ie.Optional)return y;Ke()}finally{cu()}}else if("number"==typeof g){let y=null,D=qh(s,a),T=ya,S=d&ie.Host?a[lr][Cr]:null;for((-1===D||d&ie.SkipSelf)&&(T=-1===D?nr(s,a):a[D+8],T!==ya&&Lc(d,!1)?(y=a[lt],D=pu(T),a=gu(T,a)):D=-1);-1!==D;){const O=a[lt];if(va(g,D,O.data)){const V=ug(D,a,u,y,d,S);if(V!==Ai)return V}T=a[D+8],T!==ya&&Lc(d,a[lt].data[D+8]===S)&&va(g,D,a)?(y=O,D=pu(T),a=gu(T,a)):D=-1}}return h}function ug(s,a,u,d,h,g){const y=a[lt],D=y.data[s+8],O=hl(D,y,u,null==d?oa(D)&&Gh:d!=y&&0!=(3&D.type),h&ie.Host&&g===D);return null!==O?so(a,y,O,D):Ai}function hl(s,a,u,d,h){const g=s.providerIndexes,y=a.data,D=1048575&g,T=s.directiveStart,O=g>>20,Y=h?D+O:s.directiveEnd;for(let ae=d?D:D+O;ae<Y;ae++){const ye=y[ae];if(ae<T&&u===ye||ae>=T&&ye.type===u)return ae}if(h){const ae=y[T];if(ae&&Pr(ae)&&ae.type===u)return T}return null}function so(s,a,u,d){let h=s[u];const g=a.data;if(function hu(s){return s instanceof io}(h)){const y=h;y.resolving&&function Re(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ue(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ge(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(g[u]));const D=mu(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?sn(y.injectImpl):null;Vh(s,d,ie.Default);try{h=s[u]=y.factory(void 0,g,s,d),a.firstCreatePass&&u>=d.directiveStart&&function fs(s,a,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(d){const y=Ya(a);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,y)}h&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],a)}finally{null!==T&&sn(T),mu(D),y.resolving=!1,cu()}}return h}function va(s,a,u){return!!(u[a+(s>>Pc)]&1<<s)}function Lc(s,a){return!(s&ie.Self||s&ie.Host&&a)}class fl{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return ag(this._tNode,this._lView,a,qr(d),u)}}function Wh(){return new fl(Kn(),we())}function Zh(s){return H(()=>{const a=s.prototype.constructor,u=a[Jt]||pl(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Jt]||pl(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function pl(s){return Ye(s)?()=>{const a=pl(ee(s));return a&&a()}:es(s)}function vu(s){const a=s[lt],u=a.type;return 2===u?a.declTNode:1===u?s[Cr]:null}function bu(s){return function Fc(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const g=u[h];if(Ur(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(g===a)return u[h+1];h+=2}}}return null}(Kn(),s)}const gl="__parameters__";function ml(s,a,u){return H(()=>{const d=function cg(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(a);function h(...g){if(this instanceof h)return d.apply(this,g),this;const y=new h(...g);return D.annotation=y,D;function D(T,S,O){const V=T.hasOwnProperty(gl)?T[gl]:Object.defineProperty(T,gl,{value:[]})[gl];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(y),T}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class yn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=yt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _l(s,a){s.forEach(u=>Array.isArray(u)?_l(u,a):a(u))}function Jh(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function Qh(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function yl(s,a){const u=[];for(let d=0;d<s;d++)u.push(a);return u}function ts(s,a,u){let d=Zn(s,a);return d>=0?s[1|d]=u:(d=~d,function Xh(s,a,u,d){let h=s.length;if(h==a)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=u,s[a+1]=d}}(s,d,a,u)),d}function vn(s,a){const u=Zn(s,a);if(u>=0)return s[1|u]}function Zn(s,a){return function Vc(s,a,u){let d=0,h=s.length>>u;for(;h!==d;){const g=d+(h-d>>1),y=s[g<<u];if(a===y)return g<<u;y>a?h=g:d=g+1}return~(h<<u)}(s,a,1)}const wa=ci(ml("Optional"),8),jo=ci(ml("SkipSelf"),4);var gs=(()=>((gs=gs||{})[gs.Important=1]="Important",gs[gs.DashCase=2]="DashCase",gs))();const Su=/^>|^->|<!--|-->|--!>|<!-$/g,wg=/(<|>)/,gi="\u200b$1\u200b";const zc=new Map;let v1=0;const Cg="__ngContext__";function si(s,a){Wr(a)?(s[Cg]=a[Js],function Mu(s){zc.set(s[Js],s)}(a)):s[Cg]=a}let Ca;function zo(s,a){return Ca(s,a)}function qo(s){const a=s[qn];return Li(a)?a[qn]:a}function Wo(s){return El(s[Ir])}function Kc(s){return El(s[_n])}function El(s){for(;null!==s&&!Li(s);)s=s[_n];return s}function Ia(s,a,u,d,h){if(null!=d){let g,y=!1;Li(d)?g=d:Wr(d)&&(y=!0,d=d[mr]);const D=tr(d);0===s&&null!==u?null==h?mi(a,u,D):Wt(a,u,D,h||null,!0):1===s&&null!==u?Wt(a,u,D,h||null,!0):2===s?Bu(a,D,y):3===s&&a.destroyNode(D),null!=g&&function UO(s,a,u,d,h){const g=u[Xs];g!==tr(u)&&Ia(a,s,d,g,h);for(let D=Er;D<u.length;D++){const T=u[D];rd(T[lt],T,s,a,d,g)}}(a,s,g,u,h)}}function Jc(s,a){return s.createText(a)}function Pu(s,a,u){s.setValue(a,u)}function ku(s,a){return s.createComment(function oo(s){return s.replace(Su,a=>a.replace(wg,gi))}(a))}function Eg(s,a,u){return s.createElement(a,u)}function w(s,a){const u=s[Rs],d=u.indexOf(a),h=a[qn];512&a[Qt]&&(a[Qt]&=-513,ha(h,-1)),u.splice(d,1)}function M(s,a){if(s.length<=Er)return;const u=Er+a,d=s[u];if(d){const h=d[Ys];null!==h&&h!==s&&w(h,d),a>0&&(s[u-1][_n]=d[_n]);const g=Qh(s,Er+a);!function Hy(s,a){rd(s,a,a[Xt],2,null,null),a[mr]=null,a[Cr]=null}(d[lt],d);const y=g[Ii];null!==y&&y.detachView(g[lt]),d[qn]=null,d[_n]=null,d[Qt]&=-65}return d}function k(s,a){if(!(128&a[Qt])){const u=a[Xt];u.destroyNode&&rd(s,a,u,3,null,null),function b(s){let a=s[Ir];if(!a)return Q(s[lt],s);for(;a;){let u=null;if(Wr(a))u=a[Ir];else{const d=a[Er];d&&(u=d)}if(!u){for(;a&&!a[_n]&&a!==s;)Wr(a)&&Q(a[lt],a),a=a[qn];null===a&&(a=s),Wr(a)&&Q(a[lt],a),u=a&&a[_n]}a=u}}(a)}}function Q(s,a){if(!(128&a[Qt])){a[Qt]&=-65,a[Qt]|=128,function qe(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=a[u[d]];if(!(h instanceof io)){const g=u[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const D=h[g[y]],T=g[y+1];Wn(4,D,T);try{T.call(D)}finally{Wn(5,D,T)}}else{Wn(4,h,g);try{g.call(h)}finally{Wn(5,h,g)}}}}}(s,a),function ce(s,a){const u=s.cleanup,d=a[ar];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const y=u[g+3];y>=0?d[h=y]():d[h=-y].unsubscribe(),g+=2}else{const y=d[h=u[g+1]];u[g].call(y)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();a[ar]=null}}(s,a),1===a[lt].type&&a[Xt].destroy();const u=a[Ys];if(null!==u&&Li(a[qn])){u!==a[qn]&&w(u,a);const d=a[Ii];null!==d&&d.detachView(s)}!function Nu(s){zc.delete(s[Js])}(a)}}function st(s,a,u){return Et(s,a.parent,u)}function Et(s,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[mr];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===L.None||g===L.Emulated)return null}return Tr(d,u)}}function Wt(s,a,u,d,h){s.insertBefore(a,u,d,h)}function mi(s,a,u){s.appendChild(a,u)}function Bs(s,a,u,d,h){null!==d?Wt(s,a,u,d,h):mi(s,a,u)}function Tl(s,a){return s.parentNode(a)}function Ag(s,a,u){return Fu(s,a,u)}function ff(s,a,u){return 40&s.type?Tr(s,u):null}let ed,Gy,Uu,Sg,Fu=ff;function Lu(s,a){Fu=s,ed=a}function Ea(s,a,u,d){const h=st(s,d,a),g=a[Xt],D=Ag(d.parent||a[Cr],d,a);if(null!=h)if(Array.isArray(u))for(let T=0;T<u.length;T++)Bs(g,h,u[T],D,!1);else Bs(g,h,u,D,!1);void 0!==ed&&ed(g,d,a,u,h)}function td(s,a){if(null!==a){const u=a.type;if(3&u)return Tr(a,s);if(4&u)return gf(-1,s[a.index]);if(8&u){const d=a.child;if(null!==d)return td(s,d);{const h=s[a.index];return Li(h)?gf(-1,h):tr(h)}}if(32&u)return zo(a,s)()||tr(s[a.index]);{const d=pf(s,a);return null!==d?Array.isArray(d)?d[0]:td(qo(s[lr]),d):td(s,a.next)}}return null}function pf(s,a){return null!==a?s[lr][Cr].projection[a.projection]:null}function gf(s,a){const u=Er+s+1;if(u<a.length){const d=a[u],h=d[lt].firstChild;if(null!==h)return td(d,h)}return a[Xs]}function Bu(s,a,u){const d=Tl(s,a);d&&function Qc(s,a,u,d){s.removeChild(a,u,d)}(s,d,a,u)}function nd(s,a,u,d,h,g,y){for(;null!=u;){const D=d[u.index],T=u.type;if(y&&0===a&&(D&&si(tr(D),d),u.flags|=2),32!=(32&u.flags))if(8&T)nd(s,a,u.child,d,h,g,!1),Ia(a,s,h,D,g);else if(32&T){const S=zo(u,d);let O;for(;O=S();)Ia(a,s,h,O,g);Ia(a,s,h,D,g)}else 16&T?Al(s,a,d,u,h,g):Ia(a,s,h,D,g);u=y?u.projectionNext:u.next}}function rd(s,a,u,d,h,g){nd(u,d,s.firstChild,a,h,g,!1)}function Al(s,a,u,d,h,g){const y=u[lr],T=y[Cr].projection[d.projection];if(Array.isArray(T))for(let S=0;S<T.length;S++)Ia(a,s,h,T[S],g);else nd(s,a,T,y[qn],h,g,!0)}function KT(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function JT(s,a,u){const{mergedAttrs:d,classes:h,styles:g}=u;null!==d&&Br(s,a,d),null!==h&&KT(s,a,h),null!==g&&function E1(s,a,u){s.setAttribute(a,"style",u)}(s,a,g)}function id(s){return function T1(){if(void 0===Gy&&(Gy=null,Rt.trustedTypes))try{Gy=Rt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Gy}()?.createHTML(s)||s}function eA(s){Uu=s}function Wy(s){return function S1(){if(void 0===Sg&&(Sg=null,Rt.trustedTypes))try{Sg=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Sg}()?.createScriptURL(s)||s}class N1{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}function ms(s){return s instanceof N1?s.changingThisBreaksApplicationSecurity:s}function mf(s,a){const u=function Yy(s){return s instanceof N1&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${tt})`)}return u===a}class k1{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(id(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class iA{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const u=this.inertDocument.createElement("template");return u.innerHTML=id(a),u}}const F1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ky(s){return(s=String(s)).match(F1)?s:"unsafe:"+s}function Zo(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function _f(...s){const a={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const sA=Zo("area,br,col,hr,img,wbr"),Rg=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jy=Zo("rp,rt"),Qy=_f(sA,_f(Rg,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_f(Jy,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_f(Jy,Rg)),xg=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),L1=_f(xg,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Vr=(()=>((Vr=Vr||{})[Vr.NONE=0]="NONE",Vr[Vr.HTML=1]="HTML",Vr[Vr.STYLE=2]="STYLE",Vr[Vr.SCRIPT=3]="SCRIPT",Vr[Vr.URL=4]="URL",Vr[Vr.RESOURCE_URL=5]="RESOURCE_URL",Vr))();function j1(s){const a=Pg();return a?a.sanitize(Vr.URL,s)||"":mf(s,"URL")?ms(s):Ky(me(s))}function dA(s){const a=Pg();if(a)return Wy(a.sanitize(Vr.RESOURCE_URL,s)||"");if(mf(s,"ResourceURL"))return Wy(ms(s));throw new ue(904,!1)}function nv(s,a,u){return function zO(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?dA:j1}(a,u)(s)}function Pg(){const s=we();return s&&s[Wa]}const q1=new yn("ENVIRONMENT_INITIALIZER"),W1=new yn("INJECTOR",-1),Z1=new yn("INJECTOR_DEF_TYPES");class Ct{get(a,u=Nn){if(u===Nn){const d=new Error(`NullInjectorError: No provider for ${Se(a)}!`);throw d.name="NullInjectorError",d}return u}}function _i(s){return{\u0275providers:s}}function ao(...s){return{\u0275providers:Ta(0,s),\u0275fromNgModule:!0}}function Ta(s,...a){const u=[],d=new Set;let h;return _l(a,g=>{const y=g;rr(y,u,[],d)&&(h||(h=[]),h.push(y))}),void 0!==h&&Sr(h,u),u}function Sr(s,a){for(let u=0;u<s.length;u++){const{providers:h}=s[u];yf(h,g=>{a.push(g)})}}function rr(s,a,u,d){if(!(s=ee(s)))return!1;let h=null,g=Bn(s);const y=!g&&It(s);if(g||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(g=Bn(T),!g)return!1;h=T}const D=d.has(h);if(y){if(D)return!1;if(d.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of T)rr(S,a,u,d)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let S;d.add(h);try{_l(g.imports,O=>{rr(O,a,u,d)&&(S||(S=[]),S.push(O))})}finally{}void 0!==S&&Sr(S,a)}if(!D){const S=es(h)||(()=>new h);a.push({provide:h,useFactory:S,deps:Z},{provide:Z1,useValue:h,multi:!0},{provide:q1,useValue:()=>Kt(h),multi:!0})}const T=g.providers;null==T||D||yf(T,O=>{a.push(O)})}}return h!==s&&void 0!==s.providers}function yf(s,a){for(let u of s)Le(u)&&(u=u.\u0275providers),Array.isArray(u)?yf(u,a):a(u)}const Aa=ve({provide:String,useValue:ve});function Y1(s){return null!==s&&"object"==typeof s&&Aa in s}function Vu(s){return"function"==typeof s}const kg=new yn("Set Injector scope."),$u={},Sl={};let Q1;function Fg(){return void 0===Q1&&(Q1=new Ct),Q1}class ju{}class iv extends ju{get destroyed(){return this._destroyed}constructor(a,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ug(a,y=>this.processProvider(y)),this.records.set(W1,Jn(void 0,this)),h.has("environment")&&this.records.set(ju,Jn(void 0,this));const g=this.records.get(kg);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Z1.multi,Z,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=on(this),d=sn(void 0);try{return a()}finally{on(u),sn(d)}}get(a,u=Nn,d=ie.Default){this.assertNotDestroyed(),d=qr(d);const h=on(this),g=sn(void 0);try{if(!(d&ie.SkipSelf)){let D=this.records.get(a);if(void 0===D){const T=function Bg(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(a)&&xn(a);D=T&&this.injectableDefInScope(T)?Jn(Lg(a),$u):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(d&ie.Self?Fg():this.parent).get(a,u=d&ie.Optional&&u===Nn?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[An]=y[An]||[]).unshift(Se(a)),h)throw y;return function di(s,a,u,d){const h=s[An];throw a[Yt]&&h.unshift(a[Yt]),s.message=function G(s,a,u,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==On?s.slice(2):s;let h=Se(a);if(Array.isArray(a))h=a.map(Se).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let D=a[y];g.push(y+":"+("string"==typeof D?JSON.stringify(D):Se(D)))}h=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(zn,"\n  ")}`}("\n"+s.message,h,u,d),s[pn]=h,s[An]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{sn(g),on(h)}}resolveInjectorInitializers(){const a=on(this),u=sn(void 0);try{const d=this.get(q1.multi,Z,ie.Self);for(const h of d)h()}finally{on(a),sn(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(Se(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(a){let u=Vu(a=ee(a))?a:ee(a&&a.provide);const d=function fA(s){return Y1(s)?Jn(void 0,s.useValue):Jn(ad(s),$u)}(a);if(Vu(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Jn(void 0,$u,!0),h.factory=()=>Un(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===$u&&(u.value=Sl,u.value=u.factory()),"object"==typeof u.value&&u.value&&function ov(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ee(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Lg(s){const a=xn(s),u=null!==a?a.factory:es(s);if(null!==u)return u;if(s instanceof yn)throw new ue(204,!1);if(s instanceof Function)return function X1(s){const a=s.length;if(a>0)throw yl(a,"?"),new ue(204,!1);const u=function Ot(s){return s&&(s[Gn]||s[J])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ue(204,!1)}function ad(s,a,u){let d;if(Vu(s)){const h=ee(s);return es(h)||Lg(h)}if(Y1(s))d=()=>ee(s.useValue);else if(function J1(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Un(s.deps||[]));else if(function K1(s){return!(!s||!s.useExisting)}(s))d=()=>Kt(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function sv(s){return!!s.deps}(s))return es(h)||Lg(h);d=()=>new h(...Un(s.deps))}return d}function Jn(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function Ug(s,a){for(const u of s)Array.isArray(u)?Ug(u,a):u&&Le(u)?Ug(u.\u0275providers,a):a(u)}class av{}class vf{}class pA{resolveComponentFactory(a){throw function eD(s){const a=Error(`No component factory found for ${Se(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Sa=(()=>{class s{}return s.NULL=new pA,s})();function gA(){return Hu(Kn(),we())}function Hu(s,a){return new Vg(Tr(s,a))}let Vg=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=gA,s})();function WO(s){return s instanceof Vg?s.nativeElement:s}class mA{}let ZO=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function YO(){const s=we(),u=kr(Kn().index,s);return(Wr(u)?u:s)[Xt]}(),s})(),KO=(()=>{class s{}return s.\u0275prov=yt({token:s,providedIn:"root",factory:()=>null}),s})();class nD{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const rD=new nD("15.2.8"),$g={},lv="ngOriginalError";function uv(s){return s[lv]}class bf{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&uv(a);for(;u&&uv(u);)u=uv(u);return u||null}}function Ma(s){return s instanceof Function?s():s}function lD(s,a,u){let d=s.length;for(;;){const h=s.indexOf(a,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=a.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}u=h+1}}const wA="ng-template";function eP(s,a,u){let d=0,h=!0;for(;d<s.length;){let g=s[d++];if("string"==typeof g&&h){const y=s[d++];if(u&&"class"===g&&-1!==lD(y.toLowerCase(),a,0))return!0}else{if(1===g){for(;d<s.length&&"string"==typeof(g=s[d++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function DA(s){return 4===s.type&&s.value!==wA}function tP(s,a,u){return a===(4!==s.type||u?s.value:wA)}function nP(s,a,u){let d=4;const h=s.attrs||[],g=function jg(s){for(let a=0;a<s.length;a++)if(Ur(s[a]))return a;return s.length}(h);let y=!1;for(let D=0;D<a.length;D++){const T=a[D];if("number"!=typeof T){if(!y)if(4&d){if(d=2|1&d,""!==T&&!tP(s,T,u)||""===T&&1===a.length){if(lo(d))return!1;y=!0}}else{const S=8&d?T:a[++D];if(8&d&&null!==s.attrs){if(!eP(s.attrs,S,u)){if(lo(d))return!1;y=!0}continue}const V=rP(8&d?"class":T,h,DA(s),u);if(-1===V){if(lo(d))return!1;y=!0;continue}if(""!==S){let Y;Y=V>g?"":h[V+1].toLowerCase();const ae=8&d?Y:null;if(ae&&-1!==lD(ae,S,0)||2&d&&S!==Y){if(lo(d))return!1;y=!0}}}}else{if(!y&&!lo(d)&&!lo(T))return!1;if(y&&lo(T))continue;y=!1,d=T|1&d}}return lo(d)||y}function lo(s){return 0==(1&s)}function rP(s,a,u,d){if(null===a)return-1;let h=0;if(d||!u){let g=!1;for(;h<a.length;){const y=a[h];if(y===s)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let D=a[++h];for(;"string"==typeof D;)D=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function dv(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,s)}function CA(s,a,u=!1){for(let d=0;d<a.length;d++)if(nP(s,a[d],u))return!0;return!1}function IA(s,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function Df(s,a){return s?":not("+a.trim()+")":a}function EA(s){let a=s[0],u=1,d=2,h="",g=!1;for(;u<s.length;){let y=s[u];if("string"==typeof y)if(2&d){const D=s[++u];h+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!lo(y)&&(a+=Df(g,h),h=""),d=y,g=g||!lo(d);u++}return""!==h&&(a+=Df(g,h)),a}const Gt={};function fv(s){ud(an(),we(),Lr()+s,!1)}function ud(s,a,u,d){if(!d)if(3==(3&a[Qt])){const g=s.preOrderCheckHooks;null!==g&&du(a,g,u)}else{const g=s.preOrderHooks;null!==g&&Rc(a,g,0,u)}Ps(u)}function pv(s,a=null,u=null,d){const h=hD(s,a,u,d);return h.resolveInjectorInitializers(),h}function hD(s,a=null,u=null,d,h=new Set){const g=[u||Z,ao(s)];return d=d||("object"==typeof s?void 0:Se(s)),new iv(g,a||Fg(),d||null,h)}let Gu=(()=>{class s{static create(u,d){if(Array.isArray(u))return pv({name:""},d,u,"");{const h=u.name??"";return pv({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Nn,s.NULL=new Ct,s.\u0275prov=yt({token:s,providedIn:"any",factory:()=>Kt(W1)}),s.__NG_ELEMENT_ID__=-1,s})();function Ml(s,a=ie.Default){const u=we();return null===u?Kt(s,a):ag(Kn(),u,ee(s),a)}function Iv(){throw new Error("invalid")}function Gg(s,a){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const g=u[d+1];if(-1!==g){const y=s.data[g];Sc(u[d]),y.contentQueries(2,a[g],g)}}}function cd(s,a,u,d,h,g,y,D,T,S,O){const V=a.blueprint.slice();return V[mr]=h,V[Qt]=76|d,(null!==O||s&&1024&s[Qt])&&(V[Qt]|=1024),tl(V),V[qn]=V[Ns]=s,V[Vn]=u,V[er]=y||s&&s[er],V[Xt]=D||s&&s[Xt],V[Wa]=T||s&&s[Wa]||null,V[ia]=S||s&&s[ia]||null,V[Cr]=g,V[Js]=function b1(){return v1++}(),V[hi]=O,V[lr]=2==a.type?s[lr]:V,V}function Nl(s,a,u,d,h){let g=s.data[a];if(null===g)g=Tv(s,a,u,d,h),function al(){return Vt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=u,g.value=d,g.attrs=h;const y=Lo();g.injectorIndex=null===y?-1:y.injectorIndex}return Ui(g,!0),g}function Tv(s,a,u,d,h){const g=Uh(),y=ol(),T=s.data[a]=function xA(s,a,u,d,h,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,u,a,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(y?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}function If(s,a,u,d){if(0===u)return-1;const h=a.length;for(let g=0;g<u;g++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Av(s,a,u){ll(a);try{const d=s.viewQuery;null!==d&&Mf(1,d,u);const h=s.template;null!==h&&Sv(s,a,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Gg(s,a),s.staticViewQueries&&Mf(2,s.viewQuery,u);const g=s.components;null!==g&&function ED(s,a){for(let u=0;u<a.length;u++)Gv(s,a[u])}(a,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Qt]&=-5,Os()}}function dd(s,a,u,d){const h=a[Qt];if(128!=(128&h)){ll(a);try{tl(a),function Bo(s){return Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Sv(s,a,u,2,d);const y=3==(3&h);if(y){const S=s.preOrderCheckHooks;null!==S&&du(a,S,null)}else{const S=s.preOrderHooks;null!==S&&Rc(a,S,0,null),xc(a,0)}if(function UA(s){for(let a=Wo(s);null!==a;a=Kc(a)){if(!a[Za])continue;const u=a[Rs];for(let d=0;d<u.length;d++){const h=u[d];512&h[Qt]||ha(h[qn],1),h[Qt]|=512}}}(a),function BA(s){for(let a=Wo(s);null!==a;a=Kc(a))for(let u=Er;u<a.length;u++){const d=a[u],h=d[lt];ko(d)&&dd(h,d,h.template,d[Vn])}}(a),null!==s.contentQueries&&Gg(s,a),y){const S=s.contentCheckHooks;null!==S&&du(a,S)}else{const S=s.contentHooks;null!==S&&Rc(a,S,1),xc(a,1)}!function Ev(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)Ps(~h);else{const g=h,y=u[++d],D=u[++d];tg(y,g),D(2,a[g])}}}finally{Ps(-1)}}(s,a);const D=s.components;null!==D&&function ID(s,a){for(let u=0;u<a.length;u++)jv(s,a[u])}(a,D);const T=s.viewQuery;if(null!==T&&Mf(2,T,d),y){const S=s.viewCheckHooks;null!==S&&du(a,S)}else{const S=s.viewHooks;null!==S&&Rc(a,S,2),xc(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Qt]&=-41,512&a[Qt]&&(a[Qt]&=-513,ha(a[qn],-1))}finally{Os()}}}function Sv(s,a,u,d,h){const g=Lr(),y=2&d;try{Ps(-1),y&&a.length>Sn&&ud(s,a,Sn,!1),Wn(y?2:0,h),u(d,h)}finally{Ps(g),Wn(y?3:1,h)}}function Mv(s,a,u){if(sa(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const y=s.data[g];y.contentQueries&&y.contentQueries(1,u[g],g)}}}function Nv(s,a,u){ou()&&(function kv(s,a,u,d){const h=u.directiveStart,g=u.directiveEnd;oa(u)&&function LA(s,a,u){const d=Tr(a,s),h=TD(u),g=s[er],y=Zg(s,cd(s,h,null,u.onPush?32:16,d,a,g,g.createRenderer(d,u),null,null,null));s[a.index]=y}(a,u,s.data[h+u.componentOffset]),s.firstCreatePass||kc(u,a),si(d,a);const y=u.initialInputs;for(let D=h;D<g;D++){const T=s.data[D],S=so(a,s,D,u);si(S,a),null!==y&&Vv(0,D-h,S,T,0,y),Pr(T)&&(kr(u.index,a)[Vn]=so(a,s,D,u))}}(s,a,u,Tr(u,a)),64==(64&u.flags)&&Wg(s,a,u))}function Ef(s,a,u=Tr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],D=-1===y?u(a,s):s[y];s[h++]=D}}}function TD(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Rv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Rv(s,a,u,d,h,g,y,D,T,S){const O=Sn+d,V=O+h,Y=function hd(s,a){const u=[];for(let d=0;d<a;d++)u.push(d<s?null:Gt);return u}(O,V),ae="function"==typeof S?S():S;return Y[lt]={type:s,blueprint:Y,template:u,queries:null,viewQuery:D,declTNode:a,data:Y.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:ae,incompleteFirstPass:!1}}function xv(s,a,u,d){const h=ND(a);null===u?h.push(d):(h.push(u),s.firstCreatePass&&RD(s).push(d,h.length-1))}function AD(s,a,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const g=s[h];null===d?Ov(u,a,h,g):d.hasOwnProperty(h)&&Ov(u,a,d[h],g)}return u}function Ov(s,a,u,d){s.hasOwnProperty(u)?s[u].push(a,d):s[u]=[a,d]}function is(s,a,u,d,h,g,y,D){const T=Tr(a,u);let O,S=a.inputs;!D&&null!=S&&(O=S[d])?(qv(s,u,O,d,h),oa(a)&&function SD(s,a){const u=kr(a,s);16&u[Qt]||(u[Qt]|=32)}(u,a.index)):3&a.type&&(d=function zu(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,a.value||"",d):h,g.setProperty(T,d,h))}function Ra(s,a,u,d){if(ou()){const h=null===d?null:{"":-1},g=function Tf(s,a){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let g=0;g<u.length;g++){const y=u[g];if(CA(a,y.selectors,!1))if(d||(d=[]),Pr(y))if(null!==y.findHostDirectiveDefs){const D=[];h=h||new Map,y.findHostDirectiveDefs(y,D,h),d.unshift(...D,y),Af(s,a,D.length)}else d.unshift(y),Af(s,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,d,h),d.push(y)}return null===d?null:[d,h]}(s,u);let y,D;null===g?y=D=null:[y,D]=g,null!==y&&zg(s,a,u,y,h,D),h&&function Lv(s,a,u){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const g=u[a[h+1]];if(null==g)throw new ue(-301,!1);d.push(a[h],g)}}}(u,d,h)}u.mergedAttrs=ps(u.mergedAttrs,u.attrs)}function zg(s,a,u,d,h,g){for(let S=0;S<d.length;S++)_u(kc(u,a),s,d[S].type);!function kA(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,d.length);for(let S=0;S<d.length;S++){const O=d[S];O.providersResolver&&O.providersResolver(O)}let y=!1,D=!1,T=If(s,a,d.length,null);for(let S=0;S<d.length;S++){const O=d[S];u.mergedAttrs=ps(u.mergedAttrs,O.hostAttrs),FA(s,u,a,T,O),Bv(T,O,h),null!==O.contentQueries&&(u.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=64);const V=O.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),y=!0),!D&&(V.ngOnChanges||V.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),D=!0),T++}!function OA(s,a,u){const h=a.directiveEnd,g=s.data,y=a.attrs,D=[];let T=null,S=null;for(let O=a.directiveStart;O<h;O++){const V=g[O],Y=u?u.get(V):null,ye=Y?Y.outputs:null;T=AD(V.inputs,O,T,Y?Y.inputs:null),S=AD(V.outputs,O,S,ye);const We=null===T||null===y||DA(a)?null:MD(T,O,y);D.push(We)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=D,a.inputs=T,a.outputs=S}(s,u,g)}function Wg(s,a,u){const d=u.directiveStart,h=u.directiveEnd,g=u.index,y=function ng(){return Vt.lFrame.currentDirectiveIndex}();try{Ps(g);for(let D=d;D<h;D++){const T=s.data[D],S=a[D];ga(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Fv(T,S)}}finally{Ps(-1),ga(y)}}function Fv(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Af(s,a,u){a.componentOffset=u,(s.components??(s.components=[])).push(a.index)}function Bv(s,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=s;Pr(a)&&(u[""]=s)}}function FA(s,a,u,d,h){s.data[d]=h;const g=h.factory||(h.factory=es(h.type)),y=new io(g,Pr(h),Ml);s.blueprint[d]=y,u[d]=y,function Pv(s,a,u,d,h){const g=h.hostBindings;if(g){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const D=~a.index;(function qg(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(y)!=D&&y.push(D),y.push(u,d,g)}}(s,a,d,If(s,u,h.hostVars,Gt),h)}function Uv(s,a,u,d,h,g,y){if(null==g)s.removeAttribute(a,h,u);else{const D=null==y?me(g):y(g,d||"",h);s.setAttribute(a,h,D,u)}}function Vv(s,a,u,d,h,g){const y=g[a];if(null!==y){const D=d.setInput;for(let T=0;T<y.length;){const S=y[T++],O=y[T++],V=y[T++];null!==D?d.setInput(u,V,S,O):u[O]=V}}}function MD(s,a,u){let d=null,h=0;for(;h<u.length;){const g=u[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const y=s[g];for(let D=0;D<y.length;D+=2)if(y[D]===a){d.push(g,y[D+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function $v(s,a,u,d){return[s,!0,!1,a,null,0,d,u,null,null]}function jv(s,a){const u=kr(a,s);if(ko(u)){const d=u[lt];48&u[Qt]?dd(d,u,d.template,u[Vn]):u[Qi]>0&&Hv(u)}}function Hv(s){for(let d=Wo(s);null!==d;d=Kc(d))for(let h=Er;h<d.length;h++){const g=d[h];if(ko(g))if(512&g[Qt]){const y=g[lt];dd(y,g,y.template,g[Vn])}else g[Qi]>0&&Hv(g)}const u=s[lt].components;if(null!==u)for(let d=0;d<u.length;d++){const h=kr(u[d],s);ko(h)&&h[Qi]>0&&Hv(h)}}function Gv(s,a){const u=kr(a,s),d=u[lt];(function zv(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(d,u),Av(d,u,u[Vn])}function Zg(s,a){return s[Ir]?s[Mo][_n]=a:s[Ir]=a,s[Mo]=a,a}function pd(s){for(;s;){s[Qt]|=32;const a=qo(s);if(ds(s)&&!a)return s;s=a}return null}function Sf(s,a,u,d=!0){const h=a[er];h.begin&&h.begin();try{dd(s,a,s.template,u)}catch(y){throw d&&OD(a,y),y}finally{h.end&&h.end()}}function Mf(s,a,u){Sc(0),a(s,u)}function ND(s){return s[ar]||(s[ar]=[])}function RD(s){return s.cleanup||(s.cleanup=[])}function OD(s,a){const u=s[ia],d=u?u.get(bf,null):null;d&&d.handleError(a)}function qv(s,a,u,d,h){for(let g=0;g<u.length;){const y=u[g++],D=u[g++],T=a[y],S=s.data[y];null!==S.setInput?S.setInput(T,h,d,D):T[D]=h}}function Yg(s,a,u){let d=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const D=a[y];"number"==typeof D?g=D:1==g?h=He(h,D):2==g&&(d=He(d,D+": "+a[++y]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function gd(s,a,u,d,h=!1){for(;null!==u;){const g=a[u.index];if(null!==g&&d.push(tr(g)),Li(g))for(let D=Er;D<g.length;D++){const T=g[D],S=T[lt].firstChild;null!==S&&gd(T[lt],T,S,d)}const y=u.type;if(8&y)gd(s,a,u.child,d);else if(32&y){const D=zo(u,a);let T;for(;T=D();)d.push(T)}else if(16&y){const D=pf(a,u);if(Array.isArray(D))d.push(...D);else{const T=qo(a[lr]);gd(T[lt],T,D,d,!0)}}u=h?u.projectionNext:u.next}return d}class Nf{get rootNodes(){const a=this._lView,u=a[lt];return gd(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(a){this._lView[Vn]=a}get destroyed(){return 128==(128&this._lView[Qt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[qn];if(Li(a)){const u=a[No],d=u?u.indexOf(this):-1;d>-1&&(M(a,d),Qh(u,d))}this._attachedToViewContainer=!1}k(this._lView[lt],this._lView)}onDestroy(a){xv(this._lView[lt],this._lView,null,a)}markForCheck(){pd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Qt]&=-65}reattach(){this._lView[Qt]|=64}detectChanges(){Sf(this._lView[lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D1(s,a){rd(s,a,a[Xt],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=a}}class Wv extends Nf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Sf(a[lt],a,a[Vn],!1)}checkNoChanges(){}get context(){return null}}class PD extends Sa{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=It(a);return new qu(u,this.ngModule)}}function Kg(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class cP{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){d=qr(d);const h=this.injector.get(a,$g,d);return h!==$g||u===$g?h:this.parentInjector.get(a,u,d)}}class qu extends vf{get inputs(){return Kg(this.componentDef.inputs)}get outputs(){return Kg(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function uD(s){return s.map(EA).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,d,h){let g=(h=h||this.ngModule)instanceof ju?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new cP(a,g):a,D=y.get(mA,null);if(null===D)throw new ue(407,!1);const T=y.get(KO,null),S=D.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",V=d?function fd(s,a,u){return s.selectRootElement(a,u===L.ShadowDom)}(S,d,this.componentDef.encapsulation):Eg(S,O,function $A(s){const a=s.toLowerCase();return"svg"===a?Ja:"math"===a?"math":null}(O)),Y=this.componentDef.onPush?288:272,ae=Rv(0,null,null,1,0,null,null,null,null,null),ye=cd(null,ae,null,Y,null,null,D,S,T,y,null);let We,at;ll(ye);try{const wt=this.componentDef;let Nt,Pe=null;wt.findHostDirectiveDefs?(Nt=[],Pe=new Map,wt.findHostDirectiveDefs(wt,Nt,Pe),Nt.push(wt)):Nt=[wt];const K=function jA(s,a){const u=s[lt],d=Sn;return s[d]=a,Nl(u,d,2,"#host",null)}(ye,V),$n=function Zv(s,a,u,d,h,g,y,D){const T=h[lt];!function kD(s,a,u,d){for(const h of s)a.mergedAttrs=ps(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Yg(a,a.mergedAttrs,!0),null!==u&&JT(d,u,a))}(d,s,a,y);const S=g.createRenderer(a,u),O=cd(h,TD(u),null,u.onPush?32:16,h[s.index],s,g,S,D||null,null,null);return T.firstCreatePass&&Af(T,s,d.length-1),Zg(h,O),h[s.index]=O}(K,V,wt,Nt,ye,D,S);at=Xa(ae,Sn),V&&function GA(s,a,u,d){if(d)Br(s,u,["ng-version",rD.full]);else{const{attrs:h,classes:g}=function hv(s){const a=[],u=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&a.push(g,s[++d]):8===h&&u.push(g);else{if(!lo(h))break;h=g}d++}return{attrs:a,classes:u}}(a.selectors[0]);h&&Br(s,u,h),g&&g.length>0&&KT(s,u,g.join(" "))}}(S,wt,V,d),void 0!==u&&function zA(s,a,u){const d=s.projection=[];for(let h=0;h<a.length;h++){const g=u[h];d.push(null!=g?Array.from(g):null)}}(at,this.ngContentSelectors,u),We=function HA(s,a,u,d,h,g){const y=Kn(),D=h[lt],T=Tr(y,h);zg(D,h,y,u,null,d);for(let O=0;O<u.length;O++)si(so(h,D,y.directiveStart+O,y),h);Wg(D,h,y),T&&si(T,h);const S=so(h,D,y.directiveStart+y.componentOffset,y);if(s[Vn]=h[Vn]=S,null!==g)for(const O of g)O(S,a);return Mv(D,y,s),S}($n,wt,Nt,Pe,ye,[qA]),Av(ae,ye,null)}finally{Os()}return new dP(this.componentType,We,Hu(at,ye),ye,at)}}class dP extends av{constructor(a,u,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Wv(h),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const g=this._rootLView;qv(g[lt],g,h,a,u),pd(kr(this._tNode.index,g))}}get injector(){return new fl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function qA(){const s=Kn();ks(we()[lt],s)}function Qg(s){let a=function Jg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;a;){let h;if(Pr(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ue(903,!1);h=a.\u0275dir}if(h){if(u){d.push(h);const y=s;y.inputs=Xg(s.inputs),y.declaredInputs=Xg(s.declaredInputs),y.outputs=Xg(s.outputs);const D=h.hostBindings;D&&YA(s,D);const T=h.viewQuery,S=h.contentQueries;if(T&&ZA(s,T),S&&ss(s,S),ke(s.inputs,h.inputs),ke(s.declaredInputs,h.declaredInputs),ke(s.outputs,h.outputs),Pr(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const D=g[y];D&&D.ngInherit&&D(s),D===Qg&&(u=!1)}}a=Object.getPrototypeOf(a)}!function WA(s){let a=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=ps(h.hostAttrs,u=ps(u,h.hostAttrs))}}(d)}function Xg(s){return s===x?{}:s===Z?[]:s}function ZA(s,a){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{a(d,h),u(d,h)}:a}function ss(s,a){const u=s.contentQueries;s.contentQueries=u?(d,h,g)=>{a(d,h,g),u(d,h,g)}:a}function YA(s,a){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{a(d,h),u(d,h)}:a}function LD(s){return a=>{a.findHostDirectiveDefs=em,a.hostDirectives=(Array.isArray(s)?s:s()).map(u=>"function"==typeof u?{directive:ee(u),inputs:x,outputs:x}:{directive:ee(u.directive),inputs:QA(u.inputs),outputs:QA(u.outputs)})}}function em(s,a,u){if(null!==s.hostDirectives)for(const d of s.hostDirectives){const h=mn(d.directive);XA(h.declaredInputs,d.inputs),em(h,a,u),u.set(h,d),a.push(h)}}function QA(s){if(void 0===s||0===s.length)return x;const a={};for(let u=0;u<s.length;u+=2)a[s[u]]=s[u+1];return a}function XA(s,a){for(const u in a)a.hasOwnProperty(u)&&(s[a[u]]=s[u])}function md(s){return!!VD(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function VD(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ys(s,a,u){return s[a]=u}function Mi(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function Wu(s,a,u,d){const h=Mi(s,a,u);return Mi(s,a+1,d)||h}function Yv(s,a,u,d){const h=we();return Mi(h,ro(),a)&&(an(),function Us(s,a,u,d,h,g){const y=Tr(s,a);Uv(a[Xt],y,g,s.value,u,d,h)}(kn(),h,s,a,u,d)),Yv}function yd(s,a,u,d){return Mi(s,ro(),u)?a+me(u)+d:Gt}function YD(s,a,u,d,h,g,y,D){const T=we(),S=an(),O=s+Sn,V=S.firstCreatePass?function ZD(s,a,u,d,h,g,y,D,T){const S=a.consts,O=Nl(a,s,4,y||null,Bi(S,D));Ra(a,u,O,Bi(S,T)),ks(a,O);const V=O.tView=Rv(2,O,d,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,O),V.queries=a.queries.embeddedTView(O)),O}(O,S,T,a,u,d,h,g,y):S.data[O];Ui(V,!1);const Y=T[Xt].createComment("");Ea(S,T,Y,V),si(Y,T),Zg(T,T[O]=$v(Y,T,Y,V)),Ro(V)&&Nv(S,T,V),null!=y&&Ef(T,V,D)}function Kv(s){return no(function Tc(){return Vt.lFrame.contextLView}(),Sn+s)}function Rf(s,a,u){const d=we();return Mi(d,ro(),a)&&is(an(),kn(),d,s,a,d[Xt],u,!1),Rf}function sm(s,a,u,d,h){const y=h?"class":"style";qv(s,u,a.inputs[y],y,d)}function Id(s,a,u,d){const h=we(),g=an(),y=Sn+s,D=h[Xt],T=g.firstCreatePass?function Jv(s,a,u,d,h,g){const y=a.consts,T=Nl(a,s,2,d,Bi(y,h));return Ra(a,u,T,Bi(y,g)),null!==T.attrs&&Yg(T,T.attrs,!1),null!==T.mergedAttrs&&Yg(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(y,g,h,a,u,d):g.data[y],S=h[y]=Eg(D,a,function sg(){return Vt.lFrame.currentNamespace}()),O=Ro(T);return Ui(T,!0),JT(D,S,T),32!=(32&T.flags)&&Ea(g,h,S,T),0===function su(){return Vt.lFrame.elementDepthCount}()&&si(S,h),function rl(){Vt.lFrame.elementDepthCount++}(),O&&(Nv(g,h,T),Mv(g,T,h)),null!==d&&Ef(h,T),Id}function om(){let s=Kn();ol()?Ec():(s=s.parent,Ui(s,!1));const a=s;!function il(){Vt.lFrame.elementDepthCount--}();const u=an();return u.firstCreatePass&&(ks(u,s),sa(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function j(s){return 0!=(8&s.flags)}(a)&&sm(u,a,we(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function be(s){return 0!=(16&s.flags)}(a)&&sm(u,a,we(),a.stylesWithoutHost,!1),om}function Qv(s,a,u,d){return Id(s,a,u,d),om(),Qv}function am(s,a,u){const d=we(),h=an(),g=s+Sn,y=h.firstCreatePass?function Xv(s,a,u,d,h){const g=a.consts,y=Bi(g,d),D=Nl(a,s,8,"ng-container",y);return null!==y&&Yg(D,y,!0),Ra(a,u,D,Bi(g,h)),null!==a.queries&&a.queries.elementStart(a,D),D}(g,h,d,a,u):h.data[g];Ui(y,!0);const D=d[g]=d[Xt].createComment("");return Ea(h,d,D,y),si(D,d),Ro(y)&&(Nv(h,d,y),Mv(h,y,d)),null!=u&&Ef(d,y),am}function lm(){let s=Kn();const a=an();return ol()?Ec():(s=s.parent,Ui(s,!1)),a.firstCreatePass&&(ks(a,s),sa(s)&&a.queries.elementEnd(s)),lm}function Yo(){return we()}function xf(s){return!!s&&"function"==typeof s.then}function e0(s){return!!s&&"function"==typeof s.subscribe}const um=e0;function t0(s,a,u,d){const h=we(),g=an(),y=Kn();return function r0(s,a,u,d,h,g,y){const D=Ro(d),S=s.firstCreatePass&&RD(s),O=a[Vn],V=ND(a);let Y=!0;if(3&d.type||y){const We=Tr(d,a),at=y?y(We):We,wt=V.length,Nt=y?K=>y(tr(K[d.index])):d.index;let Pe=null;if(!y&&D&&(Pe=function n0(s,a,u,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===u&&h[g+1]===d){const D=a[ar],T=h[g+2];return D.length>T?D[T]:null}"string"==typeof y&&(g+=2)}return null}(s,a,h,d.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=g,Pe.__ngLastListenerFn__=g,Y=!1;else{g=XD(d,a,O,g,!1);const K=u.listen(at,h,g);V.push(g,K),S&&S.push(h,Nt,wt,wt+1)}}else g=XD(d,a,O,g,!1);const ae=d.outputs;let ye;if(Y&&null!==ae&&(ye=ae[h])){const We=ye.length;if(We)for(let at=0;at<We;at+=2){const $n=a[ye[at]][ye[at+1]].subscribe(g),Mn=V.length;V.push(g,$n),S&&S.push(h,d.index,Mn,-(Mn+1))}}}(g,h,h[Xt],y,s,a,d),t0}function QD(s,a,u,d){try{return Wn(6,a,u),!1!==u(d)}catch(h){return OD(s,h),!1}finally{Wn(7,a,u)}}function XD(s,a,u,d,h){return function g(y){if(y===Function)return d;pd(s.componentOffset>-1?kr(s.index,a):a);let T=QD(a,u,d,y),S=g.__ngNextListenerFn__;for(;S;)T=QD(a,u,S,y)&&T,S=S.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function s0(s=1){return function ul(s){return(Vt.lFrame.contextLView=function rg(s,a){for(;s>0;)a=a[Ns],s--;return a}(s,Vt.lFrame.contextLView))[Vn]}(s)}function nS(s,a){let u=null;const d=function X(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===d?CA(s,g,!0):IA(d,g))return h}else u=h}return u}function o0(s){const a=we()[lr][Cr];if(!a.projection){const d=a.projection=yl(s?s.length:1,null),h=d.slice();let g=a.child;for(;null!==g;){const y=s?nS(g,s):0;null!==y&&(h[y]?h[y].projectionNext=g:d[y]=g,h[y]=g),g=g.next}}}function eC(s,a=0,u){const d=we(),h=an(),g=Nl(h,Sn+s,16,null,u||null);null===g.projection&&(g.projection=a),Ec(),32!=(32&g.flags)&&function I1(s,a,u){Al(a[Xt],0,a,u,st(s,u,a),Ag(u.parent||a[Cr],u,a))}(h,d,g)}function a0(s,a,u){return cm(s,"",a,"",u),a0}function cm(s,a,u,d,h){const g=we(),y=yd(g,a,u,d);return y!==Gt&&is(an(),kn(),g,s,y,g[Xt],h,!1),cm}function Ed(s,a){return s<<17|a<<2}function Rl(s){return s>>17&32767}function Oa(s){return 2|s}function Pa(s){return(131068&s)>>2}function Of(s,a){return-131069&s|a<<2}function Pf(s){return 1|s}function hm(s,a,u,d,h){const g=s[u+1],y=null===a;let D=d?Rl(g):Pa(g),T=!1;for(;0!==D&&(!1===T||y);){const O=s[D+1];aS(s[D],a)&&(T=!0,s[D+1]=d?Pf(O):Oa(O)),D=d?Rl(O):Pa(O)}T&&(s[u+1]=d?Oa(g):Pf(g))}function aS(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Zn(s,a)>=0}const bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aC(s){return s.substring(bn.key,bn.keyEnd)}function fm(s,a){const u=bn.textEnd;return u===a?-1:(a=bn.keyEnd=function d0(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,bn.key=a,u),xl(s,a,u))}function xl(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function kf(s,a,u){return vs(s,a,u,!1),kf}function h0(s,a){return vs(s,a,null,!0),h0}function _m(s){ho(m0,Jo,s,!0)}function Jo(s,a){for(let u=function lS(s){return function gm(s){bn.key=0,bn.keyEnd=0,bn.value=0,bn.valueEnd=0,bn.textEnd=s.length}(s),fm(s,xl(s,0,bn.textEnd))}(a);u>=0;u=fm(a,u))ts(s,aC(a),!0)}function vs(s,a,u,d){const h=we(),g=an(),y=hs(2);g.firstUpdatePass&&hC(g,s,y,d),a!==Gt&&Mi(h,y,a)&&ym(g,g.data[Lr()],h,h[Xt],s,h[y+1]=function gC(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Se(ms(s)))),s}(a,u),d,y)}function ho(s,a,u,d){const h=an(),g=hs(2);h.firstUpdatePass&&hC(h,null,g,d);const y=we();if(u!==Gt&&Mi(y,g,u)){const D=h.data[Lr()];if(vm(D,d)&&!f0(h,g)){let T=d?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(u=He(T,u||"")),sm(h,D,y,u,d)}else!function gS(s,a,u,d,h,g,y,D){h===Gt&&(h=Z);let T=0,S=0,O=0<h.length?h[0]:null,V=0<g.length?g[0]:null;for(;null!==O||null!==V;){const Y=T<h.length?h[T+1]:void 0,ae=S<g.length?g[S+1]:void 0;let We,ye=null;O===V?(T+=2,S+=2,Y!==ae&&(ye=V,We=ae)):null===V||null!==O&&O<V?(T+=2,ye=O):(S+=2,ye=V,We=ae),null!==ye&&ym(s,a,u,d,ye,We,y,D),O=T<h.length?h[T]:null,V=S<g.length?g[S]:null}}(h,D,y,y[Xt],y[g+1],y[g+1]=function pS(s,a,u){if(null==u||""===u)return Z;const d=[],h=ms(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&a(d,h);return d}(s,a,u),d,g)}}function f0(s,a){return a>=s.expandoStartIndex}function hC(s,a,u,d){const h=s.data;if(null===h[u+1]){const g=h[Lr()],y=f0(s,u);vm(g,d)&&null===a&&!y&&(a=!1),a=function dS(s,a,u,d){const h=function ma(s){const a=Vt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let g=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(u=Yu(u=p0(null,s,a,u,d),a.attrs,d),g=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==h)if(u=p0(h,s,a,u,d),null===g){let T=function hS(s,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==Pa(d))return s[Rl(d)]}(s,a,d);void 0!==T&&Array.isArray(T)&&(T=p0(null,s,a,T[1],d),T=Yu(T,a.attrs,d),function fS(s,a,u,d){s[Rl(u?a.classBindings:a.styleBindings)]=d}(s,a,d,T))}else g=function fC(s,a,u){let d;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)d=Yu(d,s[g].hostAttrs,u);return Yu(d,a.attrs,u)}(s,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),u}(h,g,a,d),function oS(s,a,u,d,h,g){let y=g?a.classBindings:a.styleBindings,D=Rl(y),T=Pa(y);s[d]=u;let O,S=!1;if(Array.isArray(u)?(O=u[1],(null===O||Zn(u,O)>0)&&(S=!0)):O=u,h)if(0!==T){const Y=Rl(s[D+1]);s[d+1]=Ed(Y,D),0!==Y&&(s[Y+1]=Of(s[Y+1],d)),s[D+1]=function sS(s,a){return 131071&s|a<<17}(s[D+1],d)}else s[d+1]=Ed(D,0),0!==D&&(s[D+1]=Of(s[D+1],d)),D=d;else s[d+1]=Ed(T,0),0===D?D=d:s[T+1]=Of(s[T+1],d),T=d;S&&(s[d+1]=Oa(s[d+1])),hm(s,O,d,!0),hm(s,O,d,!1),function u0(s,a,u,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&Zn(g,a)>=0&&(u[d+1]=Pf(u[d+1]))}(a,O,s,d,g),y=Ed(D,T),g?a.classBindings=y:a.styleBindings=y}(h,g,a,u,y,d)}}function p0(s,a,u,d,h){let g=null;const y=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<y&&(g=a[D],d=Yu(d,g.hostAttrs,h),g!==s);)D++;return null!==s&&(u.directiveStylingLast=D),d}function Yu(s,a,u){const d=u?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ts(s,y,!!u||a[++g]))}return void 0===s?null:s}function m0(s,a,u){const d=String(a);""!==d&&!d.includes(" ")&&ts(s,d,u)}function ym(s,a,u,d,h,g,y,D){if(!(3&a.type))return;const T=s.data,S=T[D+1],O=function iC(s){return 1==(1&s)}(S)?pC(T,a,u,h,Pa(S),y):void 0;Td(O)||(Td(g)||function iS(s){return 2==(2&s)}(S)&&(g=pC(T,null,u,h,D,y)),function YT(s,a,u,d,h){if(a)h?s.addClass(u,d):s.removeClass(u,d);else{let g=-1===d.indexOf("-")?void 0:gs.DashCase;null==h?s.removeStyle(u,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=gs.Important),s.setStyle(u,d,h,g))}}(d,y,da(Lr(),u),h,g))}function pC(s,a,u,d,h,g){const y=null===a;let D;for(;h>0;){const T=s[h],S=Array.isArray(T),O=S?T[1]:T,V=null===O;let Y=u[h+1];Y===Gt&&(Y=V?Z:void 0);let ae=V?vn(Y,d):O===d?Y:void 0;if(S&&!Td(ae)&&(ae=vn(T,d)),Td(ae)&&(D=ae,y))return D;const ye=s[h+1];h=y?Rl(ye):Pa(ye)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(D=vn(T,d))}return D}function Td(s){return void 0!==s}function vm(s,a){return 0!=(s.flags&(a?8:16))}function mC(s,a=""){const u=we(),d=an(),h=s+Sn,g=d.firstCreatePass?Nl(d,h,1,a,null):d.data[h],y=u[h]=Jc(u[Xt],a);Ea(d,u,y,g),Ui(g,!1)}function Ff(s){return bm("",s,""),Ff}function bm(s,a,u){const d=we(),h=yd(d,s,a,u);return h!==Gt&&function co(s,a,u){const d=da(a,s);Pu(s[Xt],d,u)}(d,Lr(),h),bm}function wC(s,a,u,d,h){ho(ts,Jo,function vd(s,a,u,d,h,g){const D=Wu(s,fi(),u,h);return hs(2),D?a+me(u)+d+me(h)+g:Gt}(we(),s,a,u,d,h),!0)}function E0(s,a,u){const d=we();return Mi(d,ro(),a)&&is(an(),kn(),d,s,a,d[Xt],u,!0),E0}const Ku=void 0;var CS=["en",[["a","p"],["AM","PM"],Ku],[["AM","PM"],Ku,Ku],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ku,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ku,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ku,"{1} 'at' {0}",Ku],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DS(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ad={};function T0(s){const a=function A0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=MC(a);if(u)return u;const d=a.split("-")[0];if(u=MC(d),u)return u;if("en"===d)return CS;throw new ue(701,!1)}function Em(s){return T0(s)[Lt.PluralCase]}function MC(s){return s in Ad||(Ad[s]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[s]),Ad[s]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const ES=["zero","one","two","few","many"],Sd="en-US",Tm={marker:"element"},Md={marker:"ICU"};var _r=(()=>((_r=_r||{})[_r.SHIFT=2]="SHIFT",_r[_r.APPEND_EAGERLY=1]="APPEND_EAGERLY",_r[_r.COMMENT=2]="COMMENT",_r))();let xC=Sd;function Am(s){(function ft(s,a){null==s&&ze(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(xC=s.toLowerCase().replace(/_/g,"-"))}function Sm(s,a,u){const d=a.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?ff(s,0,u):tr(u[h])}function OC(s,a,u,d,h){const g=a.insertBeforeIndex;if(Array.isArray(g)){let y=d,D=null;if(3&a.type||(D=y,y=h),null!==y&&-1===a.componentOffset)for(let T=1;T<g.length;T++)Wt(s,y,u[g[T]],D,!1)}}function Mm(s,a){if(s.push(a),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];PC(d)||M0(d,a)&&null===N0(d)&&kC(d,a.index)}}function PC(s){return!(64&s.type)}function M0(s,a){return PC(a)||s.index>a.index}function N0(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function kC(s,a){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=a:(Lu(Sm,OC),s.insertBeforeIndex=a)}function Nd(s,a){const u=s.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function MS(s,a,u){const d=Tv(s,u,64,null,null);return Mm(a,d),d}function Rd(s,a){const u=a[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function FC(s){return s>>>17}function fo(s){return(131070&s)>>>1}let Ol=0,xd=0;function NS(s,a,u,d){const h=u[Xt];let y,g=null;for(let D=0;D<a.length;D++){const T=a[D];if("string"==typeof T){const S=a[++D];null===u[S]&&(u[S]=Jc(h,T))}else if("number"==typeof T)switch(1&T){case 0:const S=FC(T);let O,V;if(null===g&&(g=S,y=Tl(h,d)),S===g?(O=d,V=y):(O=null,V=tr(u[S])),null!==V){const We=fo(T);Wt(h,V,u[We],O,!1);const wt=Nd(s,We);if(null!==wt&&"object"==typeof wt){const Nt=Rd(wt,u);null!==Nt&&NS(s,wt.create[Nt],u,u[wt.anchorIdx])}}break;case 1:const ae=a[++D],ye=a[++D];Uv(h,da(T>>>1,u),null,null,ae,ye,null)}else switch(T){case Md:const S=a[++D],O=a[++D];null===u[O]&&si(u[O]=ku(h,S),u);break;case Tm:const V=a[++D],Y=a[++D];null===u[Y]&&si(u[Y]=Eg(h,V,null),u)}}}function UC(s,a,u,d,h){for(let g=0;g<u.length;g++){const y=u[g],D=u[++g];if(y&h){let T="";for(let S=g+1;S<=g+D;S++){const O=u[S];if("string"==typeof O)T+=O;else if("number"==typeof O)if(O<0)T+=me(a[d-O]);else{const V=O>>>2;switch(3&O){case 1:const Y=u[++S],ae=u[++S],ye=s.data[V];"string"==typeof ye?Uv(a[Xt],a[V],null,ye,Y,T,ae):is(s,ye,a,Y,T,a[Xt],ae,!1);break;case 0:const We=a[V];null!==We&&Pu(a[Xt],We,T);break;case 2:wP(s,Nd(s,V),a,T);break;case 3:VC(s,Nd(s,V),d,a)}}}}else{const T=u[g+1];if(T>0&&3==(3&T)){const O=Nd(s,T>>>2);a[O.currentCaseLViewIndex]<0&&VC(s,O,d,a)}}g+=D}}function VC(s,a,u,d){let h=d[a.currentCaseLViewIndex];if(null!==h){let g=Ol;h<0&&(h=d[a.currentCaseLViewIndex]=~h,g=-1),UC(s,d,a.update[h],u,g)}}function wP(s,a,u,d){const h=function RS(s,a){let u=s.cases.indexOf(a);if(-1===u)switch(s.type){case 1:{const d=function TS(s,a){const u=Em(a)(parseInt(s,10)),d=ES[u];return void 0!==d?d:"other"}(a,function AS(){return xC}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(a,d);if(Rd(a,u)!==h&&($C(s,a,u),u[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const y=u[a.anchorIdx];y&&NS(s,a.create[h],u,y)}}function $C(s,a,u){let d=Rd(a,u);if(null!==d){const h=a.remove[d];for(let g=0;g<h.length;g++){const y=h[g];if(y>0){const D=da(y,u);null!==D&&Bu(u[Xt],D)}else $C(s,Nd(s,~y),u)}}}function P0(){const s=[];let u,d,a=-1;function g(D,T){a=0;const S=Rd(D,T);d=null!==S?D.remove[S]:Z}function y(){if(a<d.length){const D=d[a++];return D>0?u[D]:(s.push(a,d),g(u[lt].data[~D],u),y())}return 0===s.length?null:(d=s.pop(),a=s.pop(),y())}return function h(D,T){for(u=T;s.length;)s.pop();return g(D.value,T),y}}const k0=/\ufffd(\d+):?\d*\ufffd/gi,OS=/\ufffd(\d+)\ufffd/,PS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Od="\ufffd",HC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,kS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,FS=/\uE500/g;function Pl(s,a,u,d,h,g,y){const D=If(s,d,1,null);let T=D<<_r.SHIFT,S=Lo();a===S&&(S=null),null===S&&(T|=_r.APPEND_EAGERLY),y&&(T|=_r.COMMENT,function Il(s){void 0===Ca&&(Ca=s())}(P0)),h.push(T,null===g?"":g);const O=Tv(s,D,y?32:1,null===g?"":g,null);Mm(u,O);const V=O.index;return Ui(O,!1),null!==S&&a!==S&&function R0(s,a){let u=s.insertBeforeIndex;null===u?(Lu(Sm,OC),u=s.insertBeforeIndex=[null,a]):(function et(s,a,u){s!=a&&ze(u,s,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(S,V),O}function Yr(s,a,u,d,h,g,y){const D=y.match(k0),T=Pl(s,a,u,g,d,D?null:y,!1);D&&ka(h,y,T.index,null,0,null)}function ka(s,a,u,d,h,g){const y=s.length,D=y+1;s.push(null,null);const T=y+2,S=a.split(k0);let O=0;for(let V=0;V<S.length;V++){const Y=S[V];if(1&V){const ae=h+parseInt(Y,10);s.push(-1-ae),O|=Nm(ae)}else""!==Y&&s.push(Y)}return s.push(u<<2|(d?1:0)),d&&s.push(d,g),s[y]=O,s[D]=s.length-T,O}function Nm(s){return 1<<Math.min(s,31)}function Rm(s){let a,g,u="",d=0,h=!1;for(;null!==(a=HC.exec(s));)h?a[0]===`${Od}/*${g}${Od}`&&(d=a.index,h=!1):(u+=s.substring(d,a.index+a[0].length),g=a[1],h=!0);return u+=s.slice(d),u}function xm(s,a,u,d,h,g){let y=0;const D={type:h.type,currentCaseLViewIndex:If(s,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function V0(s,a,u){s.push(Nm(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,h,g),function SS(s,a,u){const d=s.data[a];null===d?s.data[a]=u:d.value=u}(s,g,D);const T=h.values;for(let S=0;S<T.length;S++){const O=T[S],V=[];for(let Y=0;Y<O.length;Y++){const ae=O[Y];if("string"!=typeof ae){const ye=V.push(ae)-1;O[Y]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}y=EP(s,D,a,u,d,h.cases[S],O.join(""),V)|y}y&&function Pd(s,a,u){s.push(a,1,u<<2|3)}(u,y,g)}function B0(s){const a=[],u=[];let d=1,h=0;const g=Bf(s=s.replace(PS,function(y,D,T){return d="select"===T?0:1,h=parseInt(D.slice(1),10),""}));for(let y=0;y<g.length;){let D=g[y++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&a.push(D);const T=Bf(g[y++]);a.length>u.length&&u.push(T)}return{type:d,mainBinding:h,cases:a,values:u}}function Bf(s){if(!s)return[];let a=0;const u=[],d=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(s);){const D=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const T=s.substring(a,D);PS.test(T)?d.push(B0(T)):d.push(T),a=D+1}}else{if(0==u.length){const T=s.substring(a,D);d.push(T),a=D+1}u.push("{")}}const y=s.substring(a);return d.push(y),d}function EP(s,a,u,d,h,g,y,D){const T=[],S=[],O=[];a.cases.push(g),a.create.push(T),a.remove.push(S),a.update.push(O);const Y=function P1(s){const a=new iA(s);return function Ng(){try{return!!(new window.DOMParser).parseFromString(id(""),"text/html")}catch{return!1}}()?new k1(a):a}(function sd(){return void 0!==Uu?Uu:typeof document<"u"?document:void 0}()).getInertBodyElement(y),ae=function tv(s){return"content"in s&&function V1(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(Y)||Y;return ae?BS(s,a,u,d,T,S,O,ae,h,D,0):0}function BS(s,a,u,d,h,g,y,D,T,S,O){let V=0,Y=D.firstChild;for(;Y;){const ae=If(s,u,1,null);switch(Y.nodeType){case Node.ELEMENT_NODE:const ye=Y,We=ye.tagName.toLowerCase();if(Qy.hasOwnProperty(We)){Om(h,Tm,We,T,ae),s.data[ae]=We;const Pe=ye.attributes;for(let K=0;K<Pe.length;K++){const $n=Pe.item(K),Mn=$n.name.toLowerCase();$n.value.match(k0)?L1.hasOwnProperty(Mn)&&ka(y,$n.value,ae,$n.name,0,xg[Mn]?Ky:null):VS(h,ae,$n)}V=BS(s,a,u,d,h,g,y,Y,ae,S,O+1)|V,US(g,ae,O)}break;case Node.TEXT_NODE:const at=Y.textContent||"",wt=at.match(k0);Om(h,null,wt?"":at,T,ae),US(g,ae,O),wt&&(V=ka(y,at,ae,null,0,null)|V);break;case Node.COMMENT_NODE:const Nt=OS.exec(Y.textContent||"");if(Nt){const K=S[parseInt(Nt[1],10)];Om(h,Md,"",T,ae),xm(s,u,d,T,K,ae),U0(g,ae,O)}}Y=Y.nextSibling}return V}function US(s,a,u){0===u&&s.push(a)}function U0(s,a,u){0===u&&(s.push(~a),s.push(a))}function Om(s,a,u,d,h){null!==a&&s.push(a),s.push(u,h,function LC(s,a,u){return s|a<<17|u<<1}(0,d,h))}function VS(s,a,u){s.push(a<<1|1,u.name,u.value)}function Pm(s,a,u=-1){const d=an(),h=we(),g=Sn+s,y=Bi(d.consts,a),D=Lo();d.firstCreatePass&&function IP(s,a,u,d,h,g){const y=Lo(),D=[],T=[],S=[[]];h=function L0(s,a){if(function F0(s){return-1===s}(a))return Rm(s);{const u=s.indexOf(`:${a}${Od}`)+2+a.toString().length,d=s.search(new RegExp(`${Od}\\/\\*\\d+:${a}${Od}`));return Rm(s.substring(u,d))}}(h,g);const O=function LS(s){return s.replace(FS," ")}(h).split(kS);for(let V=0;V<O.length;V++){let Y=O[V];if(1&V){const ae=47===Y.charCodeAt(0),We=(Y.charCodeAt(ae?1:0),Sn+Number.parseInt(Y.substring(ae?2:1)));if(ae)S.shift(),Ui(Lo(),!1);else{const at=MS(s,S[0],We);S.unshift([]),Ui(at,!0)}}else{const ae=Bf(Y);for(let ye=0;ye<ae.length;ye++){let We=ae[ye];if(1&ye){const at=We;if("object"!=typeof at)throw new Error(`Unable to parse ICU expression in "${h}" message.`);xm(s,u,T,a,at,Pl(s,y,S[0],u,D,"",!0).index)}else""!==We&&Yr(s,y,S[0],D,T,u,We)}}}s.data[d]={create:D,update:T}}(d,null===D?0:D.index,h,g,y,u);const T=d.data[g],O=Et(d,D===h[Cr]?null:D,h);(function O0(s,a,u,d){const h=s[Xt];for(let g=0;g<a.length;g++){const y=a[g++],D=a[g],S=(y&_r.APPEND_EAGERLY)===_r.APPEND_EAGERLY,O=y>>>_r.SHIFT;let V=s[O];null===V&&(V=s[O]=(y&_r.COMMENT)===_r.COMMENT?h.createComment(D):Jc(h,D)),S&&null!==u&&Wt(h,u,V,d,!1)}})(h,T.create,O,D&&8&D.type?h[D.index]:null),pa(!0)}function zC(s,a,u){Pm(s,a,u),function kd(){pa(!1)}()}function Fa(s){return function BC(s){s&&(Ol|=1<<Math.min(xd,31)),xd++}(Mi(we(),ro(),s)),Fa}function km(s){!function Qo(s,a,u){if(xd>0){const d=s.data[u];UC(s,a,Array.isArray(d)?d:d.update,fi()-xd-1,Ol)}Ol=0,xd=0}(an(),we(),s+Sn)}function Fd(s,a,u,d,h){if(s=ee(s),Array.isArray(s))for(let g=0;g<s.length;g++)Fd(s[g],a,u,d,h);else{const g=an(),y=we();let D=Vu(s)?s:ee(s.provide),T=ad(s);const S=Kn(),O=1048575&S.providerIndexes,V=S.directiveStart,Y=S.providerIndexes>>20;if(Vu(s)||!s.multi){const ae=new io(T,h,Ml),ye=qC(D,a,h?O:O+Y,V);-1===ye?(_u(kc(S,y),g,D),$0(g,s,a.length),a.push(D),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(ae),y.push(ae)):(u[ye]=ae,y[ye]=ae)}else{const ae=qC(D,a,O+Y,V),ye=qC(D,a,O,O+Y),at=ye>=0&&u[ye];if(h&&!at||!h&&!(ae>=0&&u[ae])){_u(kc(S,y),g,D);const wt=function dt(s,a,u,d,h){const g=new io(s,u,Ml);return g.multi=[],g.index=a,g.componentProviders=0,Ni(g,h,d&&!u),g}(h?zS:WC,u.length,h,d,T);!h&&at&&(u[ye].providerFactory=wt),$0(g,s,a.length,0),a.push(D),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),u.push(wt),y.push(wt)}else $0(g,s,ae>-1?ae:ye,Ni(u[h?ye:ae],T,!h&&d));!h&&d&&at&&u[ye].componentProviders++}}}function $0(s,a,u,d){const h=Vu(a),g=function hA(s){return!!s.useClass}(a);if(h||g){const T=(g?ee(a.useClass):a).prototype.ngOnDestroy;if(T){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const O=S.indexOf(u);-1===O?S.push(u,[d,T]):S[O+1].push(d,T)}else S.push(u,T)}}}function Ni(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function qC(s,a,u,d){for(let h=u;h<d;h++)if(a[h]===s)return h;return-1}function WC(s,a,u,d){return bs(this.multi,[])}function zS(s,a,u,d){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=so(u,u[lt],this.providerFactory.index,d);g=D.slice(0,y),bs(h,g);for(let T=y;T<D.length;T++)g.push(D[T])}else g=[],bs(h,g);return g}function bs(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function Fm(s,a=[]){return u=>{u.providersResolver=(d,h)=>function Vf(s,a,u){const d=an();if(d.firstCreatePass){const h=Pr(s);Fd(u,d.data,d.blueprint,h,!0),Fd(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class $t{}class $f{}function Lm(s,a){return new ZC(s,a??null)}class ZC extends $t{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PD(this);const d=gr(a);this._bootstrapComponents=Ma(d.bootstrap),this._r3Injector=hD(a,u,[{provide:$t,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],Se(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class jf extends $f{constructor(a){super(),this.moduleType=a}create(a){return new ZC(this.moduleType,a)}}class qS extends $t{constructor(a,u,d){super(),this.componentFactoryResolver=new PD(this),this.instance=null;const h=new iv([...a,{provide:$t,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],u||Fg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function j0(s,a,u=null){return new qS(s,a,u).injector}let WS=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Ta(0,u.type),h=d.length>0?j0([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=yt({token:s,providedIn:"environment",factory:()=>new s(Kt(ju))}),s})();function yi(s){s.getStandaloneInjector=a=>a.get(WS).getOrCreateStandaloneInjector(s)}function z0(s,a,u,d){return eI(we(),Fr(),s,a,u,d)}function $m(s,a,u,d,h){return function Hm(s,a,u,d,h,g,y){const D=a+u;return Wu(s,D,h,g)?ys(s,D+2,y?d.call(y,h,g):d(h,g)):Gf(s,D+2)}(we(),Fr(),s,a,u,d,h)}function q0(s,a,u,d,h,g){return function K0(s,a,u,d,h,g,y,D){const T=a+u;return function nm(s,a,u,d,h){const g=Wu(s,a,u,d);return Mi(s,a+2,h)||g}(s,T,h,g,y)?ys(s,T+3,D?d.call(D,h,g,y):d(h,g,y)):Gf(s,T+3)}(we(),Fr(),s,a,u,d,h,g)}function Gf(s,a){const u=s[a];return u===Gt?void 0:u}function eI(s,a,u,d,h,g){const y=a+u;return Mi(s,y,h)?ys(s,y+1,g?d.call(g,h):d(h)):Gf(s,y+1)}function nI(s,a){const u=an();let d;const h=s+Sn;u.firstCreatePass?(d=function zf(s,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(s===d.name)return d}}(a,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const g=d.factory||(d.factory=es(d.type)),y=sn(Ml);try{const D=mu(!1),T=g();return mu(D),function tS(s,a,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=d}(u,we(),h,T),T}finally{sn(y)}}function rI(s,a,u){const d=s+Sn,h=we(),g=no(h,d);return function Vd(s,a){return s[lt].data[a].pure}(h,d)?eI(h,Fr(),a,g.transform,u,g):g.transform(u)}function qf(s){return a=>{setTimeout(s,void 0,a)}}const Hs=class zm extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let h=a,g=u||(()=>null),y=d;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),g=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(g=qf(g),h&&(h=qf(h)),y&&(y=qf(y)));const D=super.subscribe({next:h,error:g,complete:y});return a instanceof R.w0&&a.add(D),D}};function Q0(){return this._results[Symbol.iterator]()}class Wf{get changes(){return this._changes||(this._changes=new Hs)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Wf.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Q0)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const h=function $i(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ay(s,a,u){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=a[d];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $d=(()=>{class s{}return s.__NG_ELEMENT_ID__=aI,s})();const oI=$d,QS=class extends oI{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tView,h=cd(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);h[Ys]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Ii];return null!==y&&(h[Ii]=y.createEmbeddedView(d)),Av(d,h,a),new Nf(h)}};function aI(){return Zf(Kn(),we())}function Zf(s,a){return 4&s.type?new QS(a,s,Hu(s,a)):null}let jd=(()=>{class s{}return s.__NG_ELEMENT_ID__=lI,s})();function lI(){return Jr(Kn(),we())}const XS=jd,qm=class extends XS{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new fl(this._hostTNode,this._hostLView)}get parentInjector(){const a=nr(this._hostTNode,this._hostLView);if(fu(a)){const u=gu(a,this._hostLView),d=pu(a);return new fl(u[lt].data[d+8],u)}return new fl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Wm(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(a,u,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const y=a.createEmbeddedView(u||{},g);return this.insert(y,h),y}createComponent(a,u,d,h,g){const y=a&&!function Uc(s){return"function"==typeof s}(a);let D;if(y)D=u;else{const V=u||{};D=V.index,d=V.injector,h=V.projectableNodes,g=V.environmentInjector||V.ngModuleRef}const T=y?a:new qu(It(a)),S=d||this.parentInjector;if(!g&&null==T.ngModule){const Y=(y?S:this.parentInjector).get(ju,null);Y&&(g=Y)}const O=T.create(S,h,void 0,g);return this.insert(O.hostView,D),O}insert(a,u){const d=a._lView,h=d[lt];if(function Ic(s){return Li(s[qn])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const V=d[qn],Y=new qm(V,V[Cr],V[qn]);Y.detach(Y.indexOf(a))}}const g=this._adjustIndex(u),y=this._lContainer;!function p(s,a,u,d){const h=Er+d,g=u.length;d>0&&(u[h-1][_n]=a),d<g-Er?(a[_n]=u[h],Jh(u,Er+d,a)):(u.push(a),a[_n]=null),a[qn]=u;const y=a[Ys];null!==y&&u!==y&&function _(s,a){const u=s[Rs];a[lr]!==a[qn][qn][lr]&&(s[Za]=!0),null===u?s[Rs]=[a]:u.push(a)}(y,a);const D=a[Ii];null!==D&&D.insertView(s),a[Qt]|=64}(h,d,y,g);const D=gf(g,y),T=d[Xt],S=Tl(T,y[Xs]);return null!==S&&function Tg(s,a,u,d,h,g){d[mr]=h,d[Cr]=a,rd(s,d,u,1,h,g)}(h,y[Cr],T,d,S,D),a.attachToViewContainerRef(),Jh(Yf(y),g,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Wm(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=M(this._lContainer,u);d&&(Qh(Yf(this._lContainer),u),k(d[lt],d))}detach(a){const u=this._adjustIndex(a,-1),d=M(this._lContainer,u);return d&&null!=Qh(Yf(this._lContainer),u)?new Nf(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function Wm(s){return s[No]}function Yf(s){return s[No]||(s[No]=[])}function Jr(s,a){let u;const d=a[s.index];if(Li(d))u=d;else{let h;if(8&s.type)h=tr(d);else{const g=a[Xt];h=g.createComment("");const y=Tr(s,a);Wt(g,Tl(g,y),h,function Xc(s,a){return s.nextSibling(a)}(g,y),!1)}a[s.index]=u=$v(d,a,h,s),Zg(a,u)}return new qm(u,s,a)}class Qr{constructor(a){this.queryList=a,this.matches=null}clone(){return new Qr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hd{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let g=0;g<d;g++){const y=u.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new Hd(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Gd(a,u).matches&&this.queries[u].setDirty()}}class Zm{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class X0{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(a,h);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new X0(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class eb{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new eb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(a,u,uI(u,g)),this.matchTNodeWithReadOption(a,u,hl(u,a,g,!1,!1))}else d===$d?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,hl(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Vg||h===jd||h===$d&&4&u.type)this.addMatch(u.index,-2);else{const g=hl(u,a,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function uI(s,a){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function tM(s,a,u,d){return-1===u?function eM(s,a){return 11&s.type?Hu(s,a):4&s.type?Zf(s,a):null}(a,s):-2===u?function cI(s,a,u){return u===Vg?Hu(a,s):u===$d?Zf(a,s):u===jd?Jr(a,s):void 0}(s,a,d):so(s,s[lt],u,a)}function Ym(s,a,u,d){const h=a[Ii].queries[d];if(null===h.matches){const g=s.data,y=u.matches,D=[];for(let T=0;T<y.length;T+=2){const S=y[T];D.push(S<0?null:tM(a,g[S],y[T+1],u.metadata.read))}h.matches=D}return h.matches}function tb(s,a,u,d){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const y=Ym(s,a,h,u);for(let D=0;D<g.length;D+=2){const T=g[D];if(T>0)d.push(y[D/2]);else{const S=g[D+1],O=a[-T];for(let V=Er;V<O.length;V++){const Y=O[V];Y[Ys]===Y[qn]&&tb(Y[lt],Y,S,d)}if(null!==O[Rs]){const V=O[Rs];for(let Y=0;Y<V.length;Y++){const ae=V[Y];tb(ae[lt],ae,S,d)}}}}}return d}function Km(s){const a=we(),u=an(),d=lu();Sc(d+1);const h=Gd(u,d);if(s.dirty&&function el(s){return 4==(4&s[Qt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?tb(u,a,d,[]):Ym(u,a,h,d);s.reset(g,WO),s.notifyOnChanges()}return!0}return!1}function nb(s,a,u){const d=an();d.firstCreatePass&&(ib(d,new Zm(s,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),Jm(d,we(),a)}function dI(s,a,u,d){const h=an();if(h.firstCreatePass){const g=Kn();ib(h,new Zm(a,u,d),g.index),function nM(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}Jm(h,we(),u)}function Kf(){return function rb(s,a){return s[Ii].queries[a].queryList}(we(),lu())}function Jm(s,a,u){const d=new Wf(4==(4&u));xv(s,a,d,d.destroy),null===a[Ii]&&(a[Ii]=new Hd),a[Ii].queries.push(new Qr(d))}function ib(s,a,u){null===s.queries&&(s.queries=new X0),s.queries.track(new eb(a,u))}function Gd(s,a){return s.queries.getByIndex(a)}function sb(s,a){return Zf(s,a)}function ob(s){return!!gr(s)}function o_(...s){}const DI=new yn("Application Initializer");let Fl=(()=>{class s{constructor(u){this.appInits=u,this.resolve=o_,this.reject=o_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(xf(g))u.push(g);else if(um(g)){const y=new Promise((D,T)=>{g.subscribe({complete:D,error:T})});u.push(y)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Kt(DI,8))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ua=new yn("AppId",{providedIn:"root",factory:function yb(){return`${a_()}${a_()}${a_()}`}});function a_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sc=new yn("Platform Initializer"),uM=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let dM=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const rp=new yn("LocaleId",{providedIn:"root",factory:()=>Qn(rp,ie.Optional|ie.SkipSelf)||function CI(){return typeof $localize<"u"&&$localize.locale||Sd}()}),vb=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class bb{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let pM=(()=>{class s{compileModuleSync(u){return new jf(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=Ma(gr(u).declarations).reduce((y,D)=>{const T=It(D);return T&&y.push(new qu(T)),y},[]);return new bb(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const sp=(()=>Promise.resolve(0))();function oc(s){typeof Zone>"u"?sp.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ws{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hs(!1),this.onMicrotaskEmpty=new Hs(!1),this.onStable=new Hs(!1),this.onError=new Hs(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function mM(){let s=Rt.requestAnimationFrame,a=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function TI(s){const a=()=>{!function yM(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Rt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,u_(s),s.isCheckStableRunning=!0,wb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),u_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,g,y,D)=>{try{return Db(s),u.invokeTask(h,g,y,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),op(s)}},onInvoke:(u,d,h,g,y,D,T)=>{try{return Db(s),u.invoke(h,g,y,D,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),op(s)}},onHasTask:(u,d,h,g)=>{u.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,u_(s),wb(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new ue(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,a,_M,o_,o_);try{return g.runTask(y,u,d)}finally{g.cancelTask(y)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const _M={};function wb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function u_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Db(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function op(s){s._nesting--,wb(s)}class AI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hs,this.onMicrotaskEmpty=new Hs,this.onStable=new Hs,this.onError=new Hs}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,h){return a.apply(u,d)}}const ea=new yn(""),Cb=new yn("");let d_,SI=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,d_||(function ap(s){d_=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),oc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oc(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Kt(ws),Kt(c_),Kt(Cb))},s.\u0275prov=yt({token:s,factory:s.\u0275fac}),s})(),c_=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return d_?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const go=!1;let mo=null;const Ib=new yn("AllowMultipleToken"),Jd=new yn("PlatformDestroyListeners"),MI=new yn("appBootstrapListener");class xI{constructor(a,u){this.name=a,this.token=u}}function Mb(s,a,u=[]){const d=`Platform: ${a}`,h=new yn(d);return(g=[])=>{let y=f_();if(!y||y.injector.get(Ib,!1)){const D=[...u,...g,{provide:h,useValue:!0}];s?s(D):function Eb(s){if(mo&&!mo.get(Ib,!1))throw new ue(400,!1);mo=s;const a=s.get(Nb);(function Ab(s){const a=s.get(sc,null);a&&a.forEach(u=>u())})(s)}(function Ll(s=[],a){return Gu.create({name:a,providers:[{provide:kg,useValue:"platform"},{provide:Jd,useValue:new Set([()=>mo=null])},...s]})}(D,d))}return function OI(s){const a=f_();if(!a)throw new ue(401,!1);return a}()}}function f_(){return mo?.get(Nb)??null}let Nb=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function lp(s,a){let u;return u="noop"===s?new AI:("zone.js"===s?void 0:s)||new ws(a),u}(d?.ngZone,function Rb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:ws,useValue:h}];return h.run(()=>{const y=Gu.create({providers:g,parent:this.injector,name:u.moduleType.name}),D=u.create(y),T=D.injector.get(bf,null);if(!T)throw new ue(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:O=>{T.handleError(O)}});D.onDestroy(()=>{Va(this._modules,D),S.unsubscribe()})}),function os(s,a,u){try{const d=u();return xf(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const S=D.injector.get(Fl);return S.runInitializers(),S.donePromise.then(()=>(Am(D.injector.get(rp,Sd)||Sd),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=xb({},d);return function NI(s,a,u){const d=new jf(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const d=u.injector.get(up);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new ue(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Jd,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Kt(Gu))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function xb(s,a){return Array.isArray(a)?a.reduce(xb,s):{...s,...a}}let up=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new U.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new U.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),oc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),S.unsubscribe()}});this.isStable=(0,fe.T)(g,y.pipe((0,Te.B)()))}bootstrap(u,d){const h=u instanceof vf;if(!this._injector.get(Fl).done){!h&&Dr(u);throw new ue(405,go)}let y;y=h?u:this._injector.get(Sa).resolveComponentFactory(u),this.componentTypes.push(y.componentType);const D=function RI(s){return s.isBoundToModule}(y)?void 0:this._injector.get($t),S=y.create(Gu.NULL,[],d||y.selector,D),O=S.location.nativeElement,V=S.injector.get(ea,null);return V?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),Va(this.components,S),V?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Va(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(MI,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Va(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ue(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Kt(ws),Kt(ju),Kt(bf))},s.\u0275prov=yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Va(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function Ob(){return!1}let FI=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pb,s})();function Pb(s){return function Qd(s,a,u){if(oa(s)&&!u){const d=kr(s.index,a);return new Nf(d,d)}return 47&s.type?new Nf(a[lr],a):null}(Kn(),we(),16==(16&s))}class Ub{constructor(){}supports(a){return md(a)}create(a){return new Xd(a)}}const ai=(s,a)=>a;class Xd{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ai}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,h=0,g=null;for(;u||d;){const y=!d||u&&u.currentIndex<Ue(d,h,g)?u:d,D=Ue(y,h,g),T=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(u=u._next,null==y.previousIndex)h++;else{g||(g=[]);const S=D-h,O=T-h;if(S!=O){for(let Y=0;Y<S;Y++){const ae=Y<g.length?g[Y]:g[Y]=0,ye=ae+Y;O<=ye&&ye<S&&(g[Y]=ae+1)}g[y.previousIndex]=O-S}}D!==T&&a(y,D,T)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!md(a))throw new ue(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,y,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)g=a[D],y=this._trackByFn(D,g),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,g,y,D)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,y,D),d=!0),u=u._next}else h=0,function pP(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,D=>{y=this._trackByFn(h,D),null!==u&&Object.is(u.trackById,y)?(d&&(u=this._verifyReinsertion(u,D,y,h)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,y,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,g,h)):a=this._addAfter(new Ul(u,d),g,h),a}_verifyReinsertion(a,u,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new UI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new UI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Ul{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vb{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class UI{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new Vb,this.map.set(u,d)),d.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ue(s,a,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+a+h}class yr{constructor(){}supports(a){return a instanceof Map||VD(a)}create(){return new qs}}class qs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||VD(a)))throw new ue(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const d=new $b(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class $b{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gt(){return new Tt([new Ub])}let Tt=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||gt()),deps:[[s,new jo,new wa]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new ue(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:gt}),s})();function ot(){return new he([new yr])}let he=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||ot()),deps:[[s,new jo,new wa]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new ue(901,!1)}}return s.\u0275prov=yt({token:s,providedIn:"root",factory:ot}),s})();const CM=Mb(null,"core",[]);let IM=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Kt(up))},s.\u0275mod=ne({type:s}),s.\u0275inj=fn({}),s})();function EM(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function ir(s,a){const u=It(s),d=a.elementInjector||Fg();return new qu(u).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}},1321:()=>{"use strict";const At=":";class ft extends Error{constructor(J){super(`No translation found for ${Zt(J)}.`),this.parsedMessage=J,this.type="MissingTranslationError"}}const Ot=function(re,...J){if(Ot.translate){const ie=Ot.translate(re,J);re=ie[0],J=ie[1]}let se=Gn(re[0],re.raw[0]);for(let ie=1;ie<re.length;ie++)se+=J[ie-1]+Gn(re[ie],re.raw[ie]);return se},Bn=":";function Gn(re,J){return J.charAt(0)===Bn?re.substring(function je(re,J){for(let se=1,ie=1;se<re.length;se++,ie++)if("\\"===J[ie])ie++;else if(re[se]===At)return se;throw new Error(`Unterminated $localize metadata block in "${J}".`)}(re,J)+1):re}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=Ot},3942:(At,de,$)=>{"use strict";$.d(de,{Z:()=>it});var l=$(2090),R=$(4859),U=$(6881),fe=$(1877);class Te{constructor(ue,Me){this._delegate=ue,this.firebase=Me,(0,U._addComponent)(ue,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ue,Me=U._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(ue);return!Ge.isInitialized()&&"EXPLICIT"===(null===(me=Ge.getComponent())||void 0===me?void 0:me.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:Me})}_removeServiceInstance(ue,Me=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(Me)}_addComponent(ue){(0,U._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,U._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function He(){const tt=function Se(tt){const ue={},Me={__esModule:!0,initializeApp:function Re($e,le={}){const nt=U.initializeApp($e,le);if((0,l.r3)(ue,nt.name))return ue[nt.name];const vt=new tt(nt,Me);return ue[nt.name]=vt,vt},app:Ge,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ne($e){const le=$e.name,nt=le.replace("-compat","");if(U._registerComponent($e)&&"PUBLIC"===$e.type){const vt=(et=Ge())=>{if("function"!=typeof et[nt])throw ke.create("invalid-app-argument",{appName:le});return et[nt]()};void 0!==$e.serviceProps&&(0,l.ZB)(vt,$e.serviceProps),Me[nt]=vt,tt.prototype[nt]=function(...et){return this._getService.bind(this,le).apply(this,$e.multipleInstances?et:[])}}return"PUBLIC"===$e.type?Me[nt]:null},removeApp:function me($e){delete ue[$e]},useAsService:function Ke($e,le){return"serverAuth"===le?null:le},modularAPIs:U}};function Ge($e){if(!(0,l.r3)(ue,$e=$e||U._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:$e});return ue[$e]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function De(){return Object.keys(ue).map($e=>ue[$e])}}),Ge.App=tt,Me}(Te);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function ue(Me){(0,l.ZB)(tt,Me)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),tt}(),z=new fe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=W;!function Le(tt){(0,U.registerVersion)("@firebase/app-compat","0.2.9",tt)}()},6881:(At,de,$)=>{"use strict";$.r(de),$.d(de,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>mt,_addOrOverwriteComponent:()=>Xe,_apps:()=>Rt,_clearComponents:()=>pn,_components:()=>zt,_getProvider:()=>Cn,_registerComponent:()=>Nn,_removeServiceInstance:()=>An,deleteApp:()=>Yn,getApp:()=>Ss,getApps:()=>Kt,initializeApp:()=>on,onLog:()=>Un,registerVersion:()=>qr,setLogLevel:()=>ci});var l=$(5861),R=$(4859),U=$(1877),fe=$(2090);const Te=(pe,ne)=>ne.some(Ve=>pe instanceof Ve);let ve,ke;const W=new WeakMap,z=new WeakMap,ee=new WeakMap,Ye=new WeakMap,Le=new WeakMap;let ue={get(pe,ne,Ve){if(pe instanceof IDBTransaction){if("done"===ne)return z.get(pe);if("objectStoreNames"===ne)return pe.objectStoreNames||ee.get(pe);if("store"===ne)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Re(pe[ne])},set:(pe,ne,Ve)=>(pe[ne]=Ve,!0),has:(pe,ne)=>pe instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in pe};function Ge(pe){return"function"==typeof pe?function me(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...ne){return pe.apply(De(this),ne),Re(W.get(this))}:function(...ne){return Re(pe.apply(De(this),ne))}:function(ne,...Ve){const Dt=pe.call(De(this),ne,...Ve);return ee.set(Dt,ne.sort?ne.sort():[ne]),Re(Dt)}}(pe):(pe instanceof IDBTransaction&&function tt(pe){if(z.has(pe))return;const ne=new Promise((Ve,Dt)=>{const Ut=()=>{pe.removeEventListener("complete",nn),pe.removeEventListener("error",It),pe.removeEventListener("abort",It)},nn=()=>{Ve(),Ut()},It=()=>{Dt(pe.error||new DOMException("AbortError","AbortError")),Ut()};pe.addEventListener("complete",nn),pe.addEventListener("error",It),pe.addEventListener("abort",It)});z.set(pe,ne)}(pe),Te(pe,function Se(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,ue):pe)}function Re(pe){if(pe instanceof IDBRequest)return function it(pe){const ne=new Promise((Ve,Dt)=>{const Ut=()=>{pe.removeEventListener("success",nn),pe.removeEventListener("error",It)},nn=()=>{Ve(Re(pe.result)),Ut()},It=()=>{Dt(pe.error),Ut()};pe.addEventListener("success",nn),pe.addEventListener("error",It)});return ne.then(Ve=>{Ve instanceof IDBCursor&&W.set(Ve,pe)}).catch(()=>{}),Le.set(ne,pe),ne}(pe);if(Ye.has(pe))return Ye.get(pe);const ne=Ge(pe);return ne!==pe&&(Ye.set(pe,ne),Le.set(ne,pe)),ne}const De=pe=>Le.get(pe),$e=["get","getKey","getAll","getAllKeys","count"],le=["put","add","delete","clear"],nt=new Map;function vt(pe,ne){if(!(pe instanceof IDBDatabase)||ne in pe||"string"!=typeof ne)return;if(nt.get(ne))return nt.get(ne);const Ve=ne.replace(/FromIndex$/,""),Dt=ne!==Ve,Ut=le.includes(Ve);if(!(Ve in(Dt?IDBIndex:IDBObjectStore).prototype)||!Ut&&!$e.includes(Ve))return;const nn=function(){var It=(0,l.Z)(function*(mn,...dn){const Dr=this.transaction(mn,Ut?"readwrite":"readonly");let gr=Dr.store;return Dt&&(gr=gr.index(dn.shift())),(yield Promise.all([gr[Ve](...dn),Ut&&Dr.done]))[0]});return function(dn){return It.apply(this,arguments)}}();return nt.set(ne,nn),nn}!function Me(pe){ue=pe(ue)}(pe=>({...pe,get:(ne,Ve,Dt)=>vt(ne,Ve)||pe.get(ne,Ve,Dt),has:(ne,Ve)=>!!vt(ne,Ve)||pe.has(ne,Ve)}));class et{constructor(ne){this.container=ne}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function tn(pe){return"VERSION"===pe.getComponent()?.type}(Ve)){const Dt=Ve.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ht="@firebase/app",_e=new U.Yd("@firebase/app"),qt="[DEFAULT]",Ht={[ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rt=new Map,zt=new Map;function mt(pe,ne){try{pe.container.addComponent(ne)}catch(Ve){_e.debug(`Component ${ne.name} failed to register with FirebaseApp ${pe.name}`,Ve)}}function Xe(pe,ne){pe.container.addOrOverwriteComponent(ne)}function Nn(pe){const ne=pe.name;if(zt.has(ne))return _e.debug(`There were multiple attempts to register component ${ne}.`),!1;zt.set(ne,pe);for(const Ve of Rt.values())mt(Ve,pe);return!0}function Cn(pe,ne){const Ve=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),pe.container.getProvider(ne)}function An(pe,ne,Ve=qt){Cn(pe,ne).clearInstance(Ve)}function pn(){zt.clear()}const On=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yt{constructor(ne,Ve,Dt){this._isDeleted=!1,this._options=Object.assign({},ne),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ne){this._isDeleted=ne}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const ri="9.21.0";function on(pe,ne={}){let Ve=pe;"object"!=typeof ne&&(ne={name:ne});const Dt=Object.assign({name:qt,automaticDataCollectionEnabled:!1},ne),Ut=Dt.name;if("string"!=typeof Ut||!Ut)throw On.create("bad-app-name",{appName:String(Ut)});if(Ve||(Ve=(0,fe.aH)()),!Ve)throw On.create("no-options");const nn=Rt.get(Ut);if(nn){if((0,fe.vZ)(Ve,nn.options)&&(0,fe.vZ)(Dt,nn.config))return nn;throw On.create("duplicate-app",{appName:Ut})}const It=new R.H0(Ut);for(const dn of zt.values())It.addComponent(dn);const mn=new Yt(Ve,Dt,It);return Rt.set(Ut,mn),mn}function Ss(pe=qt){const ne=Rt.get(pe);if(!ne&&pe===qt)return on();if(!ne)throw On.create("no-app",{appName:pe});return ne}function Kt(){return Array.from(Rt.values())}function Yn(pe){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(pe){const ne=pe.name;Rt.has(ne)&&(Rt.delete(ne),yield Promise.all(pe.container.getProviders().map(Ve=>Ve.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function qr(pe,ne,Ve){var Dt;let Ut=null!==(Dt=Ht[pe])&&void 0!==Dt?Dt:pe;Ve&&(Ut+=`-${Ve}`);const nn=Ut.match(/\s|\//),It=ne.match(/\s|\//);if(nn||It){const mn=[`Unable to register library "${Ut}" with version "${ne}":`];return nn&&mn.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),nn&&It&&mn.push("and"),It&&mn.push(`version name "${ne}" contains illegal characters (whitespace or "/")`),void _e.warn(mn.join(" "))}Nn(new R.wA(`${Ut}-version`,()=>({library:Ut,version:ne}),"VERSION"))}function Un(pe,ne){if(null!==pe&&"function"!=typeof pe)throw On.create("invalid-log-argument");(0,U.Am)(pe,ne)}function ci(pe){(0,U.Ub)(pe)}const Ci="firebase-heartbeat-database",di=1,G="firebase-heartbeat-store";let H=null;function F(){return H||(H=function Ne(pe,ne,{blocked:Ve,upgrade:Dt,blocking:Ut,terminated:nn}={}){const It=indexedDB.open(pe,ne),mn=Re(It);return Dt&&It.addEventListener("upgradeneeded",dn=>{Dt(Re(It.result),dn.oldVersion,dn.newVersion,Re(It.transaction),dn)}),Ve&&It.addEventListener("blocked",dn=>Ve(dn.oldVersion,dn.newVersion,dn)),mn.then(dn=>{nn&&dn.addEventListener("close",()=>nn()),Ut&&dn.addEventListener("versionchange",Dr=>Ut(Dr.oldVersion,Dr.newVersion,Dr))}).catch(()=>{}),mn}(Ci,di,{upgrade:(pe,ne)=>{0===ne&&pe.createObjectStore(G)}}).catch(pe=>{throw On.create("idb-open",{originalErrorMessage:pe.message})})),H}function x(){return(x=(0,l.Z)(function*(pe){try{return(yield F()).transaction(G).objectStore(G).get(ut(pe))}catch(ne){if(ne instanceof fe.ZR)_e.warn(ne.message);else{const Ve=On.create("idb-get",{originalErrorMessage:ne?.message});_e.warn(Ve.message)}}})).apply(this,arguments)}function Z(pe,ne){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(pe,ne){try{const Dt=(yield F()).transaction(G,"readwrite");return yield Dt.objectStore(G).put(ne,ut(pe)),Dt.done}catch(Ve){if(Ve instanceof fe.ZR)_e.warn(Ve.message);else{const Dt=On.create("idb-set",{originalErrorMessage:Ve?.message});_e.warn(Dt.message)}}})).apply(this,arguments)}function ut(pe){return`${pe.name}!${pe.options.appId}`}class Jt{constructor(ne){this.container=ne,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new jt(Ve),this._heartbeatsCachePromise=this._storage.read().then(Dt=>(this._heartbeatsCache=Dt,Dt))}triggerHeartbeat(){var ne=this;return(0,l.Z)(function*(){const Dt=ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ut=Ft();if(null===ne._heartbeatsCache&&(ne._heartbeatsCache=yield ne._heartbeatsCachePromise),ne._heartbeatsCache.lastSentHeartbeatDate!==Ut&&!ne._heartbeatsCache.heartbeats.some(nn=>nn.date===Ut))return ne._heartbeatsCache.heartbeats.push({date:Ut,agent:Dt}),ne._heartbeatsCache.heartbeats=ne._heartbeatsCache.heartbeats.filter(nn=>{const It=new Date(nn.date).valueOf();return Date.now()-It<=2592e6}),ne._storage.overwrite(ne._heartbeatsCache)})()}getHeartbeatsHeader(){var ne=this;return(0,l.Z)(function*(){if(null===ne._heartbeatsCache&&(yield ne._heartbeatsCachePromise),null===ne._heartbeatsCache||0===ne._heartbeatsCache.heartbeats.length)return"";const Ve=Ft(),{heartbeatsToSend:Dt,unsentEntries:Ut}=function Pn(pe,ne=1024){const Ve=[];let Dt=pe.slice();for(const Ut of pe){const nn=Ve.find(It=>It.agent===Ut.agent);if(nn){if(nn.dates.push(Ut.date),Xn(Ve)>ne){nn.dates.pop();break}}else if(Ve.push({agent:Ut.agent,dates:[Ut.date]}),Xn(Ve)>ne){Ve.pop();break}Dt=Dt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Dt}}(ne._heartbeatsCache.heartbeats),nn=(0,fe.L)(JSON.stringify({version:2,heartbeats:Dt}));return ne._heartbeatsCache.lastSentHeartbeatDate=Ve,Ut.length>0?(ne._heartbeatsCache.heartbeats=Ut,yield ne._storage.overwrite(ne._heartbeatsCache)):(ne._heartbeatsCache.heartbeats=[],ne._storage.overwrite(ne._heartbeatsCache)),nn})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class jt{constructor(ne){this.app=ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ne=this;return(0,l.Z)(function*(){return(yield ne._canUseIndexedDBPromise)&&(yield function L(pe){return x.apply(this,arguments)}(ne.app))||{heartbeats:[]}})()}overwrite(ne){var Ve=this;return(0,l.Z)(function*(){var Dt;if(yield Ve._canUseIndexedDBPromise){const nn=yield Ve.read();return Z(Ve.app,{lastSentHeartbeatDate:null!==(Dt=ne.lastSentHeartbeatDate)&&void 0!==Dt?Dt:nn.lastSentHeartbeatDate,heartbeats:ne.heartbeats})}})()}add(ne){var Ve=this;return(0,l.Z)(function*(){var Dt;if(yield Ve._canUseIndexedDBPromise){const nn=yield Ve.read();return Z(Ve.app,{lastSentHeartbeatDate:null!==(Dt=ne.lastSentHeartbeatDate)&&void 0!==Dt?Dt:nn.lastSentHeartbeatDate,heartbeats:[...nn.heartbeats,...ne.heartbeats]})}})()}}function Xn(pe){return(0,fe.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function Ms(pe){Nn(new R.wA("platform-logger",ne=>new et(ne),"PRIVATE")),Nn(new R.wA("heartbeat",ne=>new Jt(ne),"PRIVATE")),qr(ht,"0.9.9",pe),qr(ht,"0.9.9","esm2017"),qr("fire-js","")}("")},4859:(At,de,$)=>{"use strict";$.d(de,{H0:()=>Se,wA:()=>U});var l=$(5861),R=$(2090);class U{constructor(W,z,ee){this.name=W,this.instanceFactory=z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const fe="[DEFAULT]";class Te{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const ee=new R.BH;if(this.instancesDeferred.set(z,ee),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:z});Ye&&ee.resolve(Ye)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const ee=this.normalizeInstanceIdentifier(W?.identifier),Ye=null!==(z=W?.optional)&&void 0!==z&&z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Le){if(Ye)return null;throw Le}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ke(He){return"EAGER"===He.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[z,ee]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(z);try{const Le=this.getOrInitializeService({instanceIdentifier:Ye});ee.resolve(Le)}catch{}}}}clearInstance(W=fe){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=fe){return this.instances.has(W)}getOptions(W=fe){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ee,options:z});for(const[Le,it]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Le)&&it.resolve(Ye);return Ye}onInit(W,z){var ee;const Ye=this.normalizeInstanceIdentifier(z),Le=null!==(ee=this.onInitCallbacks.get(Ye))&&void 0!==ee?ee:new Set;Le.add(W),this.onInitCallbacks.set(Ye,Le);const it=this.instances.get(Ye);return it&&W(it,Ye),()=>{Le.delete(W)}}invokeOnInitCallbacks(W,z){const ee=this.onInitCallbacks.get(z);if(ee)for(const Ye of ee)try{Ye(W,z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(He=W,He===fe?void 0:He),options:z}),this.instances.set(W,ee),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch{}var He;return ee||null}normalizeInstanceIdentifier(W=fe){return this.component?this.component.multipleInstances?W:fe:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new Te(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(At,de,$)=>{"use strict";$.d(de,{Am:()=>He,Ub:()=>Se,Yd:()=>ke,in:()=>R});const l=[];var R=(()=>{return(W=R||(R={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",R;var W})();const U={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},fe=R.INFO,Te={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},ve=(W,z,...ee)=>{if(z<W.logLevel)return;const Ye=(new Date).toISOString(),Le=Te[z];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Le](`[${Ye}]  ${W.name}:`,...ee)};class ke{constructor(z){this.name=z,this._logLevel=fe,this._logHandler=ve,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in R))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?U[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...z),this._logHandler(this,R.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...z),this._logHandler(this,R.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,R.INFO,...z),this._logHandler(this,R.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,R.WARN,...z),this._logHandler(this,R.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...z),this._logHandler(this,R.ERROR,...z)}}function Se(W){l.forEach(z=>{z.setLogLevel(W)})}function He(W,z){for(const ee of l){let Ye=null;z&&z.level&&(Ye=U[z.level]),ee.userLogHandler=null===W?null:(Le,it,...tt)=>{const ue=tt.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");it>=(Ye??Le.logLevel)&&W({level:R[it].toLowerCase(),message:ue,args:tt,type:Le.name})}}}},9260:(At,de,$)=>{"use strict";$.d(de,{Z:()=>l.Z});var l=$(3942);l.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(At,de,$)=>{"use strict";$.r(de);var l=$(5861),R=$(3942),U=$(8502),fe=$(2090),ke=($(6881),$(1877),$(4859));function Se(){return window}const He=2e3;function z(){return z=(0,l.Z)(function*(F,L,x){var Z;const{BuildInfo:Ie}=Se();(0,U.as)(L.sessionId,"AuthEvent did not contain a session ID");const ut=yield function Me(F){return me.apply(this,arguments)}(L.sessionId),Pt={};return(0,U.at)()?Pt.ibi=Ie.packageName:(0,U.au)()?Pt.apn=Ie.packageName:(0,U.av)(F,"operation-not-supported-in-this-environment"),Ie.displayName&&(Pt.appDisplayName=Ie.displayName),Pt.sessionId=ut,(0,U.aw)(F,x,L.type,void 0,null!==(Z=L.eventId)&&void 0!==Z?Z:void 0,Pt)}),z.apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(F){const{BuildInfo:L}=Se(),x={};(0,U.at)()?x.iosBundleId=L.packageName:(0,U.au)()?x.androidPackageName=L.packageName:(0,U.av)(F,"operation-not-supported-in-this-environment"),yield(0,U.ax)(F,x)})).apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(F,L,x){const{cordova:Z}=Se();let Ie=()=>{};try{yield new Promise((ut,Pt)=>{let xt=null;function Jt(){var jt;ut();const Xn=null===(jt=Z.plugins.browsertab)||void 0===jt?void 0:jt.close;"function"==typeof Xn&&Xn(),"function"==typeof x?.close&&x.close()}function Ft(){xt||(xt=window.setTimeout(()=>{Pt((0,U.az)(F,"redirect-cancelled-by-user"))},He))}function Pn(){"visible"===document?.visibilityState&&Ft()}L.addPassiveListener(Jt),document.addEventListener("resume",Ft,!1),(0,U.au)()&&document.addEventListener("visibilitychange",Pn,!1),Ie=()=>{L.removePassiveListener(Jt),document.removeEventListener("resume",Ft,!1),document.removeEventListener("visibilitychange",Pn,!1),xt&&window.clearTimeout(xt)}})}finally{Ie()}})).apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(F){const L=function Ge(F){if((0,U.as)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(F);const L=new ArrayBuffer(F.length),x=new Uint8Array(L);for(let Z=0;Z<F.length;Z++)x[Z]=F.charCodeAt(Z);return x}(F),x=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(x)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Re=20;class De extends U.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(x=>x(L)),super.onEvent(L)}initialized(){var L=this;return(0,l.Z)(function*(){yield L.initPromise})()}}function $e(F){return le.apply(this,arguments)}function le(){return(le=(0,l.Z)(function*(F){const L=yield et()._get(tn(F));return L&&(yield et()._remove(tn(F))),L})).apply(this,arguments)}function vt(){const F=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<Re;x++){const Z=Math.floor(Math.random()*L.length);F.push(L.charAt(Z))}return F.join("")}function et(){return(0,U.aC)(U.b)}function tn(F){return(0,U.aD)("authEvent",F.config.apiKey,F.name)}function _e(F){if(!F?.includes("?"))return{};const[L,...x]=F.split("?");return(0,fe.zd)(x.join("?"))}const Je=class Ae{constructor(){this._redirectPersistence=U.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=U.aE,this._overrideRedirectResult=U.aF}_initialize(L){var x=this;return(0,l.Z)(function*(){const Z=L._key();let Ie=x.eventManagers.get(Z);return Ie||(Ie=new De(L),x.eventManagers.set(Z,Ie),x.attachCallbackListeners(L,Ie)),Ie})()}_openPopup(L){(0,U.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,x,Z,Ie){var ut=this;return(0,l.Z)(function*(){!function ue(F){var L,x,Z,Ie,ut,Pt,xt,Jt,Ft,Pn;const jt=Se();(0,U.aA)("function"==typeof(null===(L=jt?.universalLinks)||void 0===L?void 0:L.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,U.aA)(typeof(null===(x=jt?.BuildInfo)||void 0===x?void 0:x.packageName)<"u",F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,U.aA)("function"==typeof(null===(ut=null===(Ie=null===(Z=jt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===ut?void 0:ut.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aA)("function"==typeof(null===(Jt=null===(xt=null===(Pt=jt?.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===Jt?void 0:Jt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,U.aA)("function"==typeof(null===(Pn=null===(Ft=jt?.cordova)||void 0===Ft?void 0:Ft.InAppBrowser)||void 0===Pn?void 0:Pn.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const Pt=yield ut._initialize(L);yield Pt.initialized(),Pt.resetRedirect(),(0,U.aG)(),yield ut._originValidation(L);const xt=function Ne(F,L,x=null){return{type:L,eventId:x,urlResponse:null,sessionId:vt(),postBody:null,tenantId:F.tenantId,error:(0,U.az)(F,"no-auth-event")}}(L,Z,Ie);yield function Ke(F,L){return et()._set(tn(F),L)}(L,xt);const Jt=yield function W(F,L,x){return z.apply(this,arguments)}(L,xt,x),Ft=yield function Le(F){const{cordova:L}=Se();return new Promise(x=>{L.plugins.browsertab.isAvailable(Z=>{let Ie=null;Z?L.plugins.browsertab.openUrl(F):Ie=L.InAppBrowser.open(F,(0,U.ay)()?"_blank":"_system","location=yes"),x(Ie)})})}(Jt);return function it(F,L,x){return tt.apply(this,arguments)}(L,Pt,Ft)})()}_isIframeWebStorageSupported(L,x){throw new Error("Method not implemented.")}_originValidation(L){const x=L._key();return this.originValidationPromises[x]||(this.originValidationPromises[x]=function ee(F){return Ye.apply(this,arguments)}(L)),this.originValidationPromises[x]}attachCallbackListeners(L,x){const{universalLinks:Z,handleOpenURL:Ie,BuildInfo:ut}=Se(),Pt=setTimeout((0,l.Z)(function*(){yield $e(L),x.onEvent(je())}),500),xt=function(){var Pn=(0,l.Z)(function*(jt){clearTimeout(Pt);const Xn=yield $e(L);let Ms=null;Xn&&jt?.url&&(Ms=function nt(F,L){var x,Z;const Ie=function ge(F){const L=_e(F),x=L.link?decodeURIComponent(L.link):void 0,Z=_e(x).link,Ie=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return _e(Ie).link||Ie||Z||x||F}(L);if(Ie.includes("/__/auth/callback")){const ut=_e(Ie),Pt=ut.firebaseError?function ht(F){try{return JSON.parse(F)}catch{return null}}(decodeURIComponent(ut.firebaseError)):null,xt=null===(Z=null===(x=Pt?.code)||void 0===x?void 0:x.split("auth/"))||void 0===Z?void 0:Z[1],Jt=xt?(0,U.az)(xt):null;return Jt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:Jt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:Ie,postBody:null}}return null}(Xn,jt.url)),x.onEvent(Ms||je())});return function(Xn){return Pn.apply(this,arguments)}}();typeof Z<"u"&&"function"==typeof Z.subscribe&&Z.subscribe(null,xt);const Jt=Ie,Ft=`${ut.packageName.toLowerCase()}://`;Se().handleOpenURL=function(){var Pn=(0,l.Z)(function*(jt){if(jt.toLowerCase().startsWith(Ft)&&xt({url:jt}),"function"==typeof Jt)try{Jt(jt)}catch(Xn){console.error(Xn)}});return function(jt){return Pn.apply(this,arguments)}}()}};function je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,U.az)("no-auth-event")}}const bt=1e3;function kt(){var F;return(null===(F=self?.location)||void 0===F?void 0:F.protocol)||null}function Zt(F=(0,fe.z$)()){return!("file:"!==kt()&&"ionic:"!==kt()&&"capacitor:"!==kt()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ot(){try{const F=self.localStorage,L=U.aL();if(F)return F.setItem(L,"1"),F.removeItem(L),!function Hn(F=(0,fe.z$)()){return function xn(){return(0,fe.w1)()&&11===document?.documentMode}()||function wr(F=(0,fe.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,fe.hl)()}catch{return Bn()&&(0,fe.hl)()}return!1}function Bn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function yt(){return"http:"===kt()||"https:"===kt()}()||(0,fe.ru)()||Zt())&&!function fn(){return(0,fe.b$)()||(0,fe.UG)()}()&&Ot()&&!Bn()}function re(){return Zt()&&typeof document<"u"}function se(){return(se=(0,l.Z)(function*(){return!!re()&&new Promise(F=>{const L=setTimeout(()=>{F(!1)},bt);document.addEventListener("deviceready",()=>{clearTimeout(L),F(!0)})})})).apply(this,arguments)}const Be={LOCAL:"local",NONE:"none",SESSION:"session"},Qe=U.aA,sn="persistence";function Ht(F){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(F){yield F._initializationPromise;const L=mt(),x=U.aD(sn,F.config.apiKey,F.name);L&&L.setItem(x,F._getPersistence())})).apply(this,arguments)}function mt(){var F;try{return(null===(F=function ie(){return typeof window<"u"?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch{return null}}const Xe=U.aA;class Nn{constructor(){this.browserResolver=U.aC(U.k),this.cordovaResolver=U.aC(Je),this.underlyingResolver=null,this._redirectPersistence=U.a,this._completeRedirectFn=U.aE,this._overrideRedirectResult=U.aF}_initialize(L){var x=this;return(0,l.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,x,Z,Ie){var ut=this;return(0,l.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup(L,x,Z,Ie)})()}_openRedirect(L,x,Z,Ie){var ut=this;return(0,l.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect(L,x,Z,Ie)})()}_isIframeWebStorageSupported(L,x){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,x)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return re()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,l.Z)(function*(){if(L.underlyingResolver)return;const x=yield function J(){return se.apply(this,arguments)}();L.underlyingResolver=x?L.cordovaResolver:L.browserResolver})()}}function Cn(F){return F.unwrap()}function pn(F){return On(F)}function On(F){const{_tokenResponse:L}=F instanceof fe.ZR?F.customData:F;if(!L)return null;if(!(F instanceof fe.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return U.P.credentialFromResult(F);const x=L.providerId;if(!x||x===U.p.PASSWORD)return null;let Z;switch(x){case U.p.GOOGLE:Z=U.V;break;case U.p.FACEBOOK:Z=U.U;break;case U.p.GITHUB:Z=U.W;break;case U.p.TWITTER:Z=U.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:ut,oauthTokenSecret:Pt,pendingToken:xt,nonce:Jt}=L;return ut||Pt||Ie||xt?xt?x.startsWith("saml.")?U.aO._create(x,xt):U.L._fromParams({providerId:x,signInMethod:x,pendingToken:xt,idToken:Ie,accessToken:ut}):new U.X(x).credential({idToken:Ie,accessToken:ut,rawNonce:Jt}):null}return F instanceof fe.ZR?Z.credentialFromError(F):Z.credentialFromResult(F)}function Yt(F,L){return L.catch(x=>{throw x instanceof fe.ZR&&function zn(F,L){var x;const Z=null===(x=L.customData)||void 0===x?void 0:x._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Ss(F,U.aq(F,L));else if(Z){const Ie=On(L),ut=L;Ie&&(ut.credential=Ie,ut.tenantId=Z.tenantId||void 0,ut.email=Z.email||void 0,ut.phoneNumber=Z.phoneNumber||void 0)}}(F,x),x}).then(x=>{const Ie=x.user;return{operationType:x.operationType,credential:pn(x),additionalUserInfo:U.ao(x),user:Kt.getOrCreate(Ie)}})}function ri(F,L){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(F,L){const x=yield L;return{verificationId:x.verificationId,confirm:Z=>Yt(F,x.confirm(Z))}})).apply(this,arguments)}class Ss{constructor(L,x){this.resolver=x,this.auth=function An(F){return F.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return Yt(Cn(this.auth),this.resolver.resolveSignIn(L))}}class Kt{constructor(L){this._delegate=L,this.multiFactor=U.ar(L)}static getOrCreate(L){return Kt.USER_MAP.has(L)||Kt.USER_MAP.set(L,new Kt(L)),Kt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var x=this;return(0,l.Z)(function*(){return Yt(x.auth,U.a0(x._delegate,L))})()}linkWithPhoneNumber(L,x){var Z=this;return(0,l.Z)(function*(){return ri(Z.auth,U.l(Z._delegate,L,x))})()}linkWithPopup(L){var x=this;return(0,l.Z)(function*(){return Yt(x.auth,U.d(x._delegate,L,Nn))})()}linkWithRedirect(L){var x=this;return(0,l.Z)(function*(){return yield Ht(U.aH(x.auth)),U.g(x._delegate,L,Nn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var x=this;return(0,l.Z)(function*(){return Yt(x.auth,U.a1(x._delegate,L))})()}reauthenticateWithPhoneNumber(L,x){return ri(this.auth,U.r(this._delegate,L,x))}reauthenticateWithPopup(L){return Yt(this.auth,U.e(this._delegate,L,Nn))}reauthenticateWithRedirect(L){var x=this;return(0,l.Z)(function*(){return yield Ht(U.aH(x.auth)),U.h(x._delegate,L,Nn)})()}sendEmailVerification(L){return U.ae(this._delegate,L)}unlink(L){var x=this;return(0,l.Z)(function*(){return yield U.an(x._delegate,L),x})()}updateEmail(L){return U.aj(this._delegate,L)}updatePassword(L){return U.ak(this._delegate,L)}updatePhoneNumber(L){return U.u(this._delegate,L)}updateProfile(L){return U.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,x){return U.af(this._delegate,L,x)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kt.USER_MAP=new WeakMap;const Yn=U.aA;let Qn=(()=>{class F{constructor(x,Z){if(this.app=x,Z.isInitialized())return this._delegate=Z.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=x.options;Yn(Ie,"invalid-api-key",{appName:x.name}),Yn(Ie,"invalid-api-key",{appName:x.name});const ut=typeof window<"u"?Nn:void 0;this._delegate=Z.initialize({options:{persistence:Un(Ie,x.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(U.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(x){this._delegate.languageCode=x}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(x){this._delegate.tenantId=x}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(x,Z){U.I(this._delegate,x,Z)}applyActionCode(x){return U.a5(this._delegate,x)}checkActionCode(x){return U.a6(this._delegate,x)}confirmPasswordReset(x,Z){return U.a4(this._delegate,x,Z)}createUserWithEmailAndPassword(x,Z){var Ie=this;return(0,l.Z)(function*(){return Yt(Ie._delegate,U.a8(Ie._delegate,x,Z))})()}fetchProvidersForEmail(x){return this.fetchSignInMethodsForEmail(x)}fetchSignInMethodsForEmail(x){return U.ad(this._delegate,x)}isSignInWithEmailLink(x){return U.ab(this._delegate,x)}getRedirectResult(){var x=this;return(0,l.Z)(function*(){Yn(Gn(),x._delegate,"operation-not-supported-in-this-environment");const Z=yield U.j(x._delegate,Nn);return Z?Yt(x._delegate,Promise.resolve(Z)):{credential:null,user:null}})()}addFrameworkForLogging(x){!function ft(F,L){(0,U.aH)(F)._logFramework(L)}(this._delegate,x)}onAuthStateChanged(x,Z,Ie){const{next:ut,error:Pt,complete:xt}=qr(x,Z,Ie);return this._delegate.onAuthStateChanged(ut,Pt,xt)}onIdTokenChanged(x,Z,Ie){const{next:ut,error:Pt,complete:xt}=qr(x,Z,Ie);return this._delegate.onIdTokenChanged(ut,Pt,xt)}sendSignInLinkToEmail(x,Z){return U.aa(this._delegate,x,Z)}sendPasswordResetEmail(x,Z){return U.a3(this._delegate,x,Z||void 0)}setPersistence(x){var Z=this;return(0,l.Z)(function*(){let Ie;switch(function qt(F,L){Qe(Object.values(Be).includes(L),F,"invalid-persistence-type"),(0,fe.b$)()?Qe(L!==Be.SESSION,F,"unsupported-persistence-type"):(0,fe.UG)()?Qe(L===Be.NONE,F,"unsupported-persistence-type"):Bn()?Qe(L===Be.NONE||L===Be.LOCAL&&(0,fe.hl)(),F,"unsupported-persistence-type"):Qe(L===Be.NONE||Ot(),F,"unsupported-persistence-type")}(Z._delegate,x),x){case Be.SESSION:Ie=U.a;break;case Be.LOCAL:Ie=(yield U.aC(U.i)._isAvailable())?U.i:U.b;break;case Be.NONE:Ie=U.N;break;default:return U.av("argument-error",{appName:Z._delegate.name})}return Z._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(x){return this.signInWithCredential(x)}signInAnonymously(){return Yt(this._delegate,U._(this._delegate))}signInWithCredential(x){return Yt(this._delegate,U.$(this._delegate,x))}signInWithCustomToken(x){return Yt(this._delegate,U.a2(this._delegate,x))}signInWithEmailAndPassword(x,Z){return Yt(this._delegate,U.a9(this._delegate,x,Z))}signInWithEmailLink(x,Z){return Yt(this._delegate,U.ac(this._delegate,x,Z))}signInWithPhoneNumber(x,Z){return ri(this._delegate,U.s(this._delegate,x,Z))}signInWithPopup(x){var Z=this;return(0,l.Z)(function*(){return Yn(Gn(),Z._delegate,"operation-not-supported-in-this-environment"),Yt(Z._delegate,U.c(Z._delegate,x,Nn))})()}signInWithRedirect(x){var Z=this;return(0,l.Z)(function*(){return Yn(Gn(),Z._delegate,"operation-not-supported-in-this-environment"),yield Ht(Z._delegate),U.f(Z._delegate,x,Nn)})()}updateCurrentUser(x){return this._delegate.updateCurrentUser(x)}verifyPasswordResetCode(x){return U.a7(this._delegate,x)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Be,F})();function qr(F,L,x){let Z=F;"function"!=typeof F&&({next:Z,error:L,complete:x}=F);const Ie=Z;return{next:Pt=>Ie(Pt&&Kt.getOrCreate(Pt)),error:L,complete:x}}function Un(F,L){const x=function zt(F,L){const x=mt();if(!x)return[];const Z=U.aD(sn,F,L);switch(x.getItem(Z)){case Be.NONE:return[U.N];case Be.LOCAL:return[U.i,U.a];case Be.SESSION:return[U.a];default:return[]}}(F,L);if(typeof self<"u"&&!x.includes(U.i)&&x.push(U.i),typeof window<"u")for(const Z of[U.b,U.a])x.includes(Z)||x.push(Z);return x.includes(U.N)||x.push(U.N),x}class ci{constructor(){this.providerId="phone",this._delegate=new U.P(Cn(R.Z.auth()))}static credential(L,x){return U.P.credential(L,x)}verifyPhoneNumber(L,x){return this._delegate.verifyPhoneNumber(L,x)}unwrap(){return this._delegate}}ci.PHONE_SIGN_IN_METHOD=U.P.PHONE_SIGN_IN_METHOD,ci.PROVIDER_ID=U.P.PROVIDER_ID;const Ci=U.aA;class di{constructor(L,x,Z=R.Z.app()){var Ie;Ci(null===(Ie=Z.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:Z.name}),this._delegate=new U.R(L,x,Z.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(F){F.INTERNAL.registerComponent(new ke.wA("auth-compat",L=>{const x=L.getProvider("app-compat").getImmediate(),Z=L.getProvider("auth");return new Qn(x,Z)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:U.A.EMAIL_SIGNIN,PASSWORD_RESET:U.A.PASSWORD_RESET,RECOVER_EMAIL:U.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:U.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:U.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:U.A.VERIFY_EMAIL}},EmailAuthProvider:U.Q,FacebookAuthProvider:U.U,GithubAuthProvider:U.W,GoogleAuthProvider:U.V,OAuthProvider:U.X,SAMLAuthProvider:U.Y,PhoneAuthProvider:ci,PhoneMultiFactorGenerator:U.m,RecaptchaVerifier:di,TwitterAuthProvider:U.Z,Auth:Qn,AuthCredential:U.J,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.4.1")}(R.Z)},5861:(At,de,$)=>{"use strict";function l(U,fe,Te,ve,ke,Se,He){try{var W=U[Se](He),z=W.value}catch(ee){return void Te(ee)}W.done?fe(z):Promise.resolve(z).then(ve,ke)}function R(U){return function(){var fe=this,Te=arguments;return new Promise(function(ve,ke){var Se=U.apply(fe,Te);function He(z){l(Se,ve,ke,He,W,"next",z)}function W(z){l(Se,ve,ke,He,W,"throw",z)}He(void 0)})}}$.d(de,{Z:()=>R})}},At=>{var de=l=>At(At.s=l);de(1321),de(6087)}]);